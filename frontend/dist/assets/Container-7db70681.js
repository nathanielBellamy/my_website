import{S as ht,i as pt,s as ft,H as Xe,e as _,j as D,k as m,c as u,a as de,m as o,r as H,J as Ye,K as Le,M as Fe,u as x,v as ee,d as he,t as ie,N as at,q as P,x as Qe,z as Dt,I as Bt,h as Vl,g as fn,b as ut,O as gn,P as cn,n as dt,l as Re,p as Ne,D as St,E as Et,w as Ie,Q as Mt,R as Xt,T as Yt,F as re,G as Me,U as _o,V as Cl,o as En,W as ho,X as po,y as vo,B as go,A as mo,Y as bo}from"./index-e5266db2.js";import{_ as wo,r as ko,M as yo}from"./src_rust-d649cb4c.js";var _n={},So={get exports(){return _n},set exports(e){_n=e}},Eo=So.exports={};Eo.forEach=function(e,l){for(var n=0;n<e.length;n++){var t=l(e[n]);if(t)return t}};var jo=function(e){var l=e.stateHandler.getState;function n(s){var f=l(s);return f&&!!f.isDetectable}function t(s){l(s).isDetectable=!0}function r(s){return!!l(s).busy}function i(s,f){l(s).busy=!!f}return{isDetectable:n,markAsDetectable:t,isBusy:r,markBusy:i}},Ao=function(e){var l={};function n(s){var f=e.get(s);return f===void 0?[]:l[f]||[]}function t(s,f){var a=e.get(s);l[a]||(l[a]=[]),l[a].push(f)}function r(s,f){for(var a=n(s),c=0,h=a.length;c<h;++c)if(a[c]===f){a.splice(c,1);break}}function i(s){var f=n(s);f&&(f.length=0)}return{get:n,add:t,removeListener:r,removeAllListeners:i}},Po=function(){var e=1;function l(){return e++}return{generate:l}},Co=function(e){var l=e.idGenerator,n=e.stateHandler.getState;function t(i){var s=n(i);return s&&s.id!==void 0?s.id:null}function r(i){var s=n(i);if(!s)throw new Error("setId required the element to have a resize detection state.");var f=l.generate();return s.id=f,f}return{get:t,set:r}},To=function(e){function l(){}var n={log:l,warn:l,error:l};if(!e&&window.console){var t=function(r,i){r[i]=function(){var f=console[i];if(f.apply)f.apply(console,arguments);else for(var a=0;a<arguments.length;a++)f(arguments[a])}};t(n,"log"),t(n,"warn"),t(n,"error")}return n},dn={},Oo={get exports(){return dn},set exports(e){dn=e}},pi=Oo.exports={};pi.isIE=function(e){function l(){var t=navigator.userAgent.toLowerCase();return t.indexOf("msie")!==-1||t.indexOf("trident")!==-1||t.indexOf(" edge/")!==-1}if(!l())return!1;if(!e)return!0;var n=function(){var t,r=3,i=document.createElement("div"),s=i.getElementsByTagName("i");do i.innerHTML="<!--[if gt IE "+ ++r+"]><i></i><![endif]-->";while(s[0]);return r>4?r:t}();return e===n};pi.isLegacyOpera=function(){return!!window.opera};var jn={},qo={get exports(){return jn},set exports(e){jn=e}},Do=qo.exports={};Do.getOption=Bo;function Bo(e,l,n){var t=e[l];return t==null&&n!==void 0?n:t}var Hn=jn,Ro=function(l){l=l||{};var n=l.reporter,t=Hn.getOption(l,"async",!0),r=Hn.getOption(l,"auto",!0);r&&!t&&(n&&n.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),t=!0);var i=Mn(),s,f=!1;function a(b,B){!f&&r&&t&&i.size()===0&&d(),i.add(b,B)}function c(){for(f=!0;i.size();){var b=i;i=Mn(),b.process()}f=!1}function h(b){f||(b===void 0&&(b=t),s&&(g(s),s=null),b?d():c())}function d(){s=p(c)}function g(b){var B=clearTimeout;return B(b)}function p(b){var B=function(A){return setTimeout(A,0)};return B(b)}return{add:a,force:h}};function Mn(){var e={},l=0,n=0,t=0;function r(f,a){a||(a=f,f=0),f>n?n=f:f<t&&(t=f),e[f]||(e[f]=[]),e[f].push(a),l++}function i(){for(var f=t;f<=n;f++)for(var a=e[f],c=0;c<a.length;c++){var h=a[c];h()}}function s(){return l}return{add:r,process:i,size:s}}var qn="_erd";function No(e){return e[qn]={},vi(e)}function vi(e){return e[qn]}function Io(e){delete e[qn]}var zo={initState:No,getState:vi,cleanState:Io},Xl=dn,Ho=function(e){e=e||{};var l=e.reporter,n=e.batchProcessor,t=e.stateHandler.getState;if(!l)throw new Error("Missing required dependency: reporter.");function r(c,h){function d(){h(c)}if(Xl.isIE(8))t(c).object={proxy:d},c.attachEvent("onresize",d);else{var g=f(c);if(!g)throw new Error("Element is not detectable by this strategy.");g.contentDocument.defaultView.addEventListener("resize",d)}}function i(c){var h=e.important?" !important; ":"; ";return(c.join(h)+h).trim()}function s(c,h,d){d||(d=h,h=c,c=null),c=c||{},c.debug;function g(p,b){var B=i(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),A=!1,q=window.getComputedStyle(p),E=p.offsetWidth,y=p.offsetHeight;t(p).startSize={width:E,height:y};function C(){function k(){if(q.position==="static"){p.style.setProperty("position","relative",c.important?"important":"");var R=function(S,O,J,T){function w(N){return N.replace(/[^-\d\.]/g,"")}var W=J[T];W!=="auto"&&w(W)!=="0"&&(S.warn("An element that is positioned static has style."+T+"="+W+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+T+" will be set to 0. Element: ",O),O.style.setProperty(T,"0",c.important?"important":""))};R(l,p,q,"top"),R(l,p,q,"right"),R(l,p,q,"bottom"),R(l,p,q,"left")}}function v(){A||k();function R(O,J){if(!O.contentDocument){var T=t(O);T.checkForObjectDocumentTimeoutId&&window.clearTimeout(T.checkForObjectDocumentTimeoutId),T.checkForObjectDocumentTimeoutId=setTimeout(function(){T.checkForObjectDocumentTimeoutId=0,R(O,J)},100);return}J(O.contentDocument)}var S=this;R(S,function(J){b(p)})}q.position!==""&&(k(),A=!0);var I=document.createElement("object");I.style.cssText=B,I.tabIndex=-1,I.type="text/html",I.setAttribute("aria-hidden","true"),I.onload=v,Xl.isIE()||(I.data="about:blank"),t(p)&&(p.appendChild(I),t(p).object=I,Xl.isIE()&&(I.data="about:blank"))}n?n.add(C):C()}Xl.isIE(8)?d(h):g(h,d)}function f(c){return t(c).object}function a(c){if(t(c)){var h=f(c);h&&(Xl.isIE(8)?c.detachEvent("onresize",h.proxy):c.removeChild(h),t(c).checkForObjectDocumentTimeoutId&&window.clearTimeout(t(c).checkForObjectDocumentTimeoutId),delete t(c).object)}}return{makeDetectable:s,addListener:r,uninstall:a}},Mo=_n.forEach,Xo=function(e){e=e||{};var l=e.reporter,n=e.batchProcessor,t=e.stateHandler.getState;e.stateHandler.hasState;var r=e.idHandler;if(!n)throw new Error("Missing required dependency: batchProcessor");if(!l)throw new Error("Missing required dependency: reporter.");var i=h(),s="erd_scroll_detection_scrollbar_style",f="erd_scroll_detection_container";function a(C){d(C,s,f)}a(window.document);function c(C){var k=e.important?" !important; ":"; ";return(C.join(k)+k).trim()}function h(){var C=500,k=500,v=document.createElement("div");v.style.cssText=c(["position: absolute","width: "+C*2+"px","height: "+k*2+"px","visibility: hidden","margin: 0","padding: 0"]);var I=document.createElement("div");I.style.cssText=c(["position: absolute","width: "+C+"px","height: "+k+"px","overflow: scroll","visibility: none","top: "+-C*3+"px","left: "+-k*3+"px","visibility: hidden","margin: 0","padding: 0"]),I.appendChild(v),document.body.insertBefore(I,document.body.firstChild);var R=C-I.clientWidth,S=k-I.clientHeight;return document.body.removeChild(I),{width:R,height:S}}function d(C,k,v){function I(J,T){T=T||function(W){C.head.appendChild(W)};var w=C.createElement("style");return w.innerHTML=J,w.id=k,T(w),w}if(!C.getElementById(k)){var R=v+"_animation",S=v+"_animation_active",O=`/* Created by the element-resize-detector library. */
`;O+="."+v+" > div::-webkit-scrollbar { "+c(["display: none"])+` }

`,O+="."+S+" { "+c(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+R,"animation-name: "+R])+` }
`,O+="@-webkit-keyframes "+R+` { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
`,O+="@keyframes "+R+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",I(O)}}function g(C){C.className+=" "+f+"_animation_active"}function p(C,k,v){if(C.addEventListener)C.addEventListener(k,v);else if(C.attachEvent)C.attachEvent("on"+k,v);else return l.error("[scroll] Don't know how to add event listeners.")}function b(C,k,v){if(C.removeEventListener)C.removeEventListener(k,v);else if(C.detachEvent)C.detachEvent("on"+k,v);else return l.error("[scroll] Don't know how to remove event listeners.")}function B(C){return t(C).container.childNodes[0].childNodes[0].childNodes[0]}function A(C){return t(C).container.childNodes[0].childNodes[0].childNodes[1]}function q(C,k){var v=t(C).listeners;if(!v.push)throw new Error("Cannot add listener to an element that is not detectable.");t(C).listeners.push(k)}function E(C,k,v){v||(v=k,k=C,C=null),C=C||{};function I(){if(C.debug){var F=Array.prototype.slice.call(arguments);if(F.unshift(r.get(k),"Scroll: "),l.log.apply)l.log.apply(null,F);else for(var K=0;K<F.length;K++)l.log(F[K])}}function R(F){function K(fe){var Pe=fe.getRootNode&&fe.getRootNode().contains(fe);return fe===fe.ownerDocument.body||fe.ownerDocument.body.contains(fe)||Pe}return!K(F)||window.getComputedStyle(F)===null}function S(F){var K=t(F).container.childNodes[0],fe=window.getComputedStyle(K);return!fe.width||fe.width.indexOf("px")===-1}function O(){var F=window.getComputedStyle(k),K={};return K.position=F.position,K.width=k.offsetWidth,K.height=k.offsetHeight,K.top=F.top,K.right=F.right,K.bottom=F.bottom,K.left=F.left,K.widthCSS=F.width,K.heightCSS=F.height,K}function J(){var F=O();t(k).startSize={width:F.width,height:F.height},I("Element start size",t(k).startSize)}function T(){t(k).listeners=[]}function w(){if(I("storeStyle invoked."),!t(k)){I("Aborting because element has been uninstalled");return}var F=O();t(k).style=F}function W(F,K,fe){t(F).lastWidth=K,t(F).lastHeight=fe}function N(F){return B(F).childNodes[0]}function X(){return 2*i.width+1}function V(){return 2*i.height+1}function j(F){return F+10+X()}function ce(F){return F+10+V()}function oe(F){return F*2+X()}function Q(F){return F*2+V()}function ue(F,K,fe){var Pe=B(F),z=A(F),Z=j(K),Ee=ce(fe),Oe=oe(K),_e=Q(fe);Pe.scrollLeft=Z,Pe.scrollTop=Ee,z.scrollLeft=Oe,z.scrollTop=_e}function ne(){var F=t(k).container;if(!F){F=document.createElement("div"),F.className=f,F.style.cssText=c(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),t(k).container=F,g(F),k.appendChild(F);var K=function(){t(k).onRendered&&t(k).onRendered()};p(F,"animationstart",K),t(k).onAnimationStart=K}return F}function te(){function F(){var ye=t(k).style;if(ye.position==="static"){k.style.setProperty("position","relative",C.important?"important":"");var we=function(Y,ve,Ve,Ke){function Pt(Ct){return Ct.replace(/[^-\d\.]/g,"")}var vt=Ve[Ke];vt!=="auto"&&Pt(vt)!=="0"&&(Y.warn("An element that is positioned static has style."+Ke+"="+vt+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+Ke+" will be set to 0. Element: ",ve),ve.style[Ke]=0)};we(l,k,ye,"top"),we(l,k,ye,"right"),we(l,k,ye,"bottom"),we(l,k,ye,"left")}}function K(ye,we,Y,ve){return ye=ye?ye+"px":"0",we=we?we+"px":"0",Y=Y?Y+"px":"0",ve=ve?ve+"px":"0",["left: "+ye,"top: "+we,"right: "+ve,"bottom: "+Y]}if(I("Injecting elements"),!t(k)){I("Aborting because element has been uninstalled");return}F();var fe=t(k).container;fe||(fe=ne());var Pe=i.width,z=i.height,Z=c(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),Ee=c(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(K(-(1+Pe),-(1+z),-z,-Pe))),Oe=c(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),_e=c(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),U=c(["position: absolute","left: 0","top: 0"]),ke=c(["position: absolute","width: 200%","height: 200%"]),L=document.createElement("div"),pe=document.createElement("div"),$e=document.createElement("div"),Je=document.createElement("div"),ze=document.createElement("div"),qe=document.createElement("div");L.dir="ltr",L.style.cssText=Z,L.className=f,pe.className=f,pe.style.cssText=Ee,$e.style.cssText=Oe,Je.style.cssText=U,ze.style.cssText=_e,qe.style.cssText=ke,$e.appendChild(Je),ze.appendChild(qe),pe.appendChild($e),pe.appendChild(ze),L.appendChild(pe),fe.appendChild(L);function De(){var ye=t(k);ye&&ye.onExpand?ye.onExpand():I("Aborting expand scroll handler: element has been uninstalled")}function Ge(){var ye=t(k);ye&&ye.onShrink?ye.onShrink():I("Aborting shrink scroll handler: element has been uninstalled")}p($e,"scroll",De),p(ze,"scroll",Ge),t(k).onExpandScroll=De,t(k).onShrinkScroll=Ge}function be(){function F(Oe,_e,U){var ke=N(Oe),L=j(_e),pe=ce(U);ke.style.setProperty("width",L+"px",C.important?"important":""),ke.style.setProperty("height",pe+"px",C.important?"important":"")}function K(Oe){var _e=k.offsetWidth,U=k.offsetHeight,ke=_e!==t(k).lastWidth||U!==t(k).lastHeight;I("Storing current size",_e,U),W(k,_e,U),n.add(0,function(){if(ke){if(!t(k)){I("Aborting because element has been uninstalled");return}if(!fe()){I("Aborting because element container has not been initialized");return}if(C.debug){var pe=k.offsetWidth,$e=k.offsetHeight;(pe!==_e||$e!==U)&&l.warn(r.get(k),"Scroll: Size changed before updating detector elements.")}F(k,_e,U)}}),n.add(1,function(){if(!t(k)){I("Aborting because element has been uninstalled");return}if(!fe()){I("Aborting because element container has not been initialized");return}ue(k,_e,U)}),ke&&Oe&&n.add(2,function(){if(!t(k)){I("Aborting because element has been uninstalled");return}if(!fe()){I("Aborting because element container has not been initialized");return}Oe()})}function fe(){return!!t(k).container}function Pe(){function Oe(){return t(k).lastNotifiedWidth===void 0}I("notifyListenersIfNeeded invoked");var _e=t(k);if(Oe()&&_e.lastWidth===_e.startSize.width&&_e.lastHeight===_e.startSize.height)return I("Not notifying: Size is the same as the start size, and there has been no notification yet.");if(_e.lastWidth===_e.lastNotifiedWidth&&_e.lastHeight===_e.lastNotifiedHeight)return I("Not notifying: Size already notified");I("Current size not notified, notifying..."),_e.lastNotifiedWidth=_e.lastWidth,_e.lastNotifiedHeight=_e.lastHeight,Mo(t(k).listeners,function(U){U(k)})}function z(){if(I("startanimation triggered."),S(k)){I("Ignoring since element is still unrendered...");return}I("Element rendered.");var Oe=B(k),_e=A(k);(Oe.scrollLeft===0||Oe.scrollTop===0||_e.scrollLeft===0||_e.scrollTop===0)&&(I("Scrollbars out of sync. Updating detector elements..."),K(Pe))}function Z(){if(I("Scroll detected."),S(k)){I("Scroll event fired while unrendered. Ignoring...");return}K(Pe)}if(I("registerListenersAndPositionElements invoked."),!t(k)){I("Aborting because element has been uninstalled");return}t(k).onRendered=z,t(k).onExpand=Z,t(k).onShrink=Z;var Ee=t(k).style;F(k,Ee.width,Ee.height)}function ge(){if(I("finalizeDomMutation invoked."),!t(k)){I("Aborting because element has been uninstalled");return}var F=t(k).style;W(k,F.width,F.height),ue(k,F.width,F.height)}function G(){v(k)}function se(){I("Installing..."),T(),J(),n.add(0,w),n.add(1,te),n.add(2,be),n.add(3,ge),n.add(4,G)}I("Making detectable..."),R(k)?(I("Element is detached"),ne(),I("Waiting until element is attached..."),t(k).onRendered=function(){I("Element is now attached"),se()}):se()}function y(C){var k=t(C);k&&(k.onExpandScroll&&b(B(C),"scroll",k.onExpandScroll),k.onShrinkScroll&&b(A(C),"scroll",k.onShrinkScroll),k.onAnimationStart&&b(k.container,"animationstart",k.onAnimationStart),k.container&&C.removeChild(k.container))}return{makeDetectable:E,addListener:q,uninstall:y,initDocument:a}},Ll=_n.forEach,Yo=jo,Lo=Ao,Fo=Po,Uo=Co,Vo=To,Xn=dn,Go=Ro,ll=zo,Jo=Ho,$o=Xo;function Yn(e){return Array.isArray(e)||e.length!==void 0}function Ln(e){if(Array.isArray(e))return e;var l=[];return Ll(e,function(n){l.push(n)}),l}function Fn(e){return e&&e.nodeType===1}var Wo=function(e){e=e||{};var l;if(e.idHandler)l={get:function(E){return e.idHandler.get(E,!0)},set:e.idHandler.set};else{var n=Fo(),t=Uo({idGenerator:n,stateHandler:ll});l=t}var r=e.reporter;if(!r){var i=r===!1;r=Vo(i)}var s=nl(e,"batchProcessor",Go({reporter:r})),f={};f.callOnAdd=!!nl(e,"callOnAdd",!0),f.debug=!!nl(e,"debug",!1);var a=Lo(l),c=Yo({stateHandler:ll}),h,d=nl(e,"strategy","object"),g=nl(e,"important",!1),p={reporter:r,batchProcessor:s,stateHandler:ll,idHandler:l,important:g};if(d==="scroll"&&(Xn.isLegacyOpera()?(r.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),d="object"):Xn.isIE(9)&&(r.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),d="object")),d==="scroll")h=$o(p);else if(d==="object")h=Jo(p);else throw new Error("Invalid strategy name: "+d);var b={};function B(E,y,C){function k(J){var T=a.get(J);Ll(T,function(W){W(J)})}function v(J,T,w){a.add(T,w),J&&w(T)}if(C||(C=y,y=E,E={}),!y)throw new Error("At least one element required.");if(!C)throw new Error("Listener required.");if(Fn(y))y=[y];else if(Yn(y))y=Ln(y);else return r.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");var I=0,R=nl(E,"callOnAdd",f.callOnAdd),S=nl(E,"onReady",function(){}),O=nl(E,"debug",f.debug);Ll(y,function(T){ll.getState(T)||(ll.initState(T),l.set(T));var w=l.get(T);if(O&&r.log("Attaching listener to element",w,T),!c.isDetectable(T)){if(O&&r.log(w,"Not detectable."),c.isBusy(T)){O&&r.log(w,"System busy making it detectable"),v(R,T,C),b[w]=b[w]||[],b[w].push(function(){I++,I===y.length&&S()});return}return O&&r.log(w,"Making detectable..."),c.markBusy(T,!0),h.makeDetectable({debug:O,important:g},T,function(N){if(O&&r.log(w,"onElementDetectable"),ll.getState(N)){c.markAsDetectable(N),c.markBusy(N,!1),h.addListener(N,k),v(R,N,C);var X=ll.getState(N);if(X&&X.startSize){var V=N.offsetWidth,j=N.offsetHeight;(X.startSize.width!==V||X.startSize.height!==j)&&k(N)}b[w]&&Ll(b[w],function(ce){ce()})}else O&&r.log(w,"Element uninstalled before being detectable.");delete b[w],I++,I===y.length&&S()})}O&&r.log(w,"Already detecable, adding listener."),v(R,T,C),I++}),I===y.length&&S()}function A(E){if(!E)return r.error("At least one element is required.");if(Fn(E))E=[E];else if(Yn(E))E=Ln(E);else return r.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");Ll(E,function(y){a.removeAllListeners(y),h.uninstall(y),ll.cleanState(y)})}function q(E){h.initDocument&&h.initDocument(E)}return{listenTo:B,removeListener:a.removeListener,removeAllListeners:a.removeAllListeners,uninstall:A,initDocument:q}};function nl(e,l,n){var t=e[l];return t==null&&n!==void 0?n:t}var on=Wo({strategy:"scroll"});function Ko(e,l){on.listenTo(e,l);var n=l;return{update:function(t){on.removeListener(e,n),on.listenTo(e,t),n=t},destroy:function(){on.removeListener(e,n)}}}function Zo(e){let l,n,t=(e[0]?e[0]:"Loading...")+"",r,i,s;const f=e[2].default,a=Xe(f,e,e[1],null);return{c(){l=_("section"),n=_("h1"),r=D(t),i=m(),a&&a.c(),u(n,"class","loading svelte-1kdv3hz")},m(c,h){de(c,l,h),o(l,n),o(n,r),o(l,i),a&&a.m(l,null),s=!0},p(c,[h]){(!s||h&1)&&t!==(t=(c[0]?c[0]:"Loading...")+"")&&H(r,t),a&&a.p&&(!s||h&2)&&Ye(a,f,c,c[1],s?Fe(f,c[1],h,null):Le(c[1]),null)},i(c){s||(x(a,c),s=!0)},o(c){ee(a,c),s=!1},d(c){c&&he(l),a&&a.d(c)}}}function Qo(e,l,n){let{$$slots:t={},$$scope:r}=l,{message:i=""}=l;return e.$$set=s=>{"message"in s&&n(0,i=s.message),"$$scope"in s&&n(1,r=s.$$scope)},[i,r,t]}class pl extends ht{constructor(l){super(),pt(this,l,Qo,Zo,ft,{message:0})}}var M=(e=>(e.colorDirection="magic_square_input_color_direction",e.colorSpeed="magic_square_input_color_speed",e.colors="magic_square_input_colors",e.shapes="magic_square_input_shapes",e.drawPatternType="magic_square_input_draw_pattern_type",e.drawPatternCount="magic_square_input_draw_pattern_count",e.drawPatternOffset="magic_square_input_draw_pattern_offset",e.drawPatternSpeed="magic_square_input_draw_pattern_speed",e.radiusBase="magic_square_input_radius_base",e.radiusStep="magic_square_input_radius_step",e.transformOrder="magic_square_input_transform_order",e.lfo1Active="magic_square_input_lfo_1_active",e.lfo1Amp="magic_square_input_lfo_1_amp",e.lfo1Dest="magic_square_input_lfo_1_dest",e.lfo1Freq="magic_square_input_lfo_1_freq",e.lfo1Phase="magic_square_input_lfo_1_phase",e.lfo1Shape="magic_square_input_lfo_1_shape",e.lfo2Active="magic_square_input_lfo_2_active",e.lfo2Amp="magic_square_input_lfo_2_amp",e.lfo2Dest="magic_square_input_lfo_2_dest",e.lfo2Freq="magic_square_input_lfo_2_freq",e.lfo2Phase="magic_square_input_lfo_2_phase",e.lfo2Shape="magic_square_input_lfo_2_shape",e.lfo3Active="magic_square_input_lfo_3_active",e.lfo3Amp="magic_square_input_lfo_3_amp",e.lfo3Dest="magic_square_input_lfo_3_dest",e.lfo3Freq="magic_square_input_lfo_3_freq",e.lfo3Phase="magic_square_input_lfo_3_phase",e.lfo3Shape="magic_square_input_lfo_3_shape",e.lfo4Active="magic_square_input_lfo_4_active",e.lfo4Amp="magic_square_input_lfo_4_amp",e.lfo4Dest="magic_square_input_lfo_4_dest",e.lfo4Freq="magic_square_input_lfo_4_freq",e.lfo4Phase="magic_square_input_lfo_4_phase",e.lfo4Shape="magic_square_input_lfo_4_shape",e.preset="magic_square_input_preset",e.pitchBase="magic_square_input_y_rot_base",e.pitchSpread="magic_square_input_y_rot_spread",e.pitchX="magic_square_input_x_axis_y_rot_coeff",e.pitchY="magic_square_input_y_axis_y_rot_coeff",e.rollBase="magic_square_input_x_rot_base",e.rollSpread="magic_square_input_x_rot_spread",e.rollX="magic_square_input_x_axis_x_rot_coeff",e.rollY="magic_square_input_y_axis_x_rot_coeff",e.yawBase="magic_square_input_z_rot_base",e.yawSpread="magic_square_input_z_rot_spread",e.yawX="magic_square_input_x_axis_z_rot_coeff",e.yawY="magic_square_input_y_axis_z_rot_coeff",e.mouseTracking="magic_square_input_mouse_tracking",e.translationXBase="magic_square_input_translation_x_base",e.translationXSpread="magic_square_input_translation_x_spread",e.translationYBase="magic_square_input_translation_y_base",e.translationYSpread="magic_square_input_translation_y_spread",e.translationZBase="magic_square_input_translation_z_base",e.translationZSpread="magic_square_input_translation_z_spread",e))(M||{}),qt=(e=>(e.fix="Fix",e.out="Out",e.in="In",e))(qt||{});function xo(e){switch(e){case"Fix":return"Fix";case"Out":return"Out";case"In":return"In"}}var ul=(e=>(e.rotateThenTranslate="RotateThenTranslate",e.translateThenRotate="TranslateThenRotate",e))(ul||{});function es(e){switch(e){case"RotateThenTranslate":return"RotateThenTranslate";case"TranslateThenRotate":return"TranslateThenRotate"}}const ts=e=>({}),Un=e=>({}),ls=e=>({}),Vn=e=>({}),ns=e=>({}),Gn=e=>({});function rs(e){let l,n,t=e[3].t("order",e[2])+"",r,i,s,f,a,c,h,d,g,p=e[3].t("rotate",e[2])+"",b,B,A,q,E=e[3].t("translate",e[2])+"",y,C,k,v,I,R,S=e[3].t("translate",e[2])+"",O,J,T,w,W=e[3].t("rotate",e[2])+"",N,X,V,j=e[3].t("animation",e[2])+"",ce,oe,Q,ue,ne=e[3].t("direction",e[2])+"",te,be,ge,G,se=e[3].t("out",e[2])+"",F,K,fe,Pe=e[3].t("in",e[2])+"",z,Z,Ee,Oe=e[3].t("fix",e[2])+"",_e,U,ke,L,pe,$e,Je;const ze=e[7].transformOrder,qe=Xe(ze,e,e[6],Gn),De=e[7].countAndSpeed,Ge=Xe(De,e,e[6],Vn),ye=e[7].hiddenInput,we=Xe(ye,e,e[6],Un);return{c(){l=_("section"),n=_("div"),r=D(t),i=m(),s=_("div"),qe&&qe.c(),f=m(),a=_("div"),c=_("button"),h=_("ol"),d=_("li"),g=D("1. "),b=D(p),B=m(),A=_("li"),q=D("2. "),y=D(E),C=m(),k=_("button"),v=_("ol"),I=_("li"),R=D("1. "),O=D(S),J=m(),T=_("li"),w=D("2. "),N=D(W),X=m(),V=_("div"),ce=D(j),oe=m(),Q=_("div"),ue=_("div"),te=D(ne),be=m(),ge=_("select"),G=_("option"),F=D(se),K=m(),fe=_("option"),z=D(Pe),Z=m(),Ee=_("option"),_e=D(Oe),U=m(),ke=_("div"),Ge&&Ge.c(),L=m(),we&&we.c(),u(n,"class","title svelte-fev3q"),u(c,"class","grow text-left flex justify-around items-center svelte-fev3q"),ie(c,"selected",e[1]===ul.rotateThenTranslate),u(v,"type","1"),u(k,"class","grow text-left flex justify-around items-center svelte-fev3q"),ie(k,"selected",e[1]===ul.translateThenRotate),u(a,"class","grow pl-5 pr-5 flex flex-col justify-around items-stretch gap-3"),u(s,"class","transform_order flex flex-col justify-between items-stretch svelte-fev3q"),u(V,"class","title svelte-fev3q"),u(ue,"class","slider_label flex items-stretch svelte-fev3q"),G.__value=qt.out,G.value=G.__value,fe.__value=qt.in,fe.value=fe.__value,Ee.__value=qt.fix,Ee.value=Ee.__value,u(ge,"class","w-full"),u(ke,"class","grow flex flex-col justify-between items-stretch"),u(Q,"class","grow pl-5 text-left flex flex-col justify-betwen items-stretch"),u(l,"class","h-full pb-5 pr-5 flex flex-col justify-between items-stretch gap-2")},m(Y,ve){de(Y,l,ve),o(l,n),o(n,r),o(l,i),o(l,s),qe&&qe.m(s,null),o(s,f),o(s,a),o(a,c),o(c,h),o(h,d),o(d,g),o(d,b),o(h,B),o(h,A),o(A,q),o(A,y),o(a,C),o(a,k),o(k,v),o(v,I),o(I,R),o(I,O),o(v,J),o(v,T),o(T,w),o(T,N),o(l,X),o(l,V),o(V,ce),o(l,oe),o(l,Q),o(Q,ue),o(ue,te),o(Q,be),o(Q,ge),o(ge,G),o(G,F),o(G,K),o(ge,fe),o(fe,z),o(fe,Z),o(ge,Ee),o(Ee,_e),at(ge,e[0]),o(Q,U),o(Q,ke),Ge&&Ge.m(ke,null),o(l,L),we&&we.m(l,null),pe=!0,$e||(Je=[P(c,"click",e[8]),P(k,"click",e[9]),P(ge,"change",e[4]),P(ge,"input",is)],$e=!0)},p(Y,[ve]){(!pe||ve&4)&&t!==(t=Y[3].t("order",Y[2])+"")&&H(r,t),qe&&qe.p&&(!pe||ve&64)&&Ye(qe,ze,Y,Y[6],pe?Fe(ze,Y[6],ve,ns):Le(Y[6]),Gn),(!pe||ve&4)&&p!==(p=Y[3].t("rotate",Y[2])+"")&&H(b,p),(!pe||ve&4)&&E!==(E=Y[3].t("translate",Y[2])+"")&&H(y,E),(!pe||ve&2)&&ie(c,"selected",Y[1]===ul.rotateThenTranslate),(!pe||ve&4)&&S!==(S=Y[3].t("translate",Y[2])+"")&&H(O,S),(!pe||ve&4)&&W!==(W=Y[3].t("rotate",Y[2])+"")&&H(N,W),(!pe||ve&2)&&ie(k,"selected",Y[1]===ul.translateThenRotate),(!pe||ve&4)&&j!==(j=Y[3].t("animation",Y[2])+"")&&H(ce,j),(!pe||ve&4)&&ne!==(ne=Y[3].t("direction",Y[2])+"")&&H(te,ne),(!pe||ve&4)&&se!==(se=Y[3].t("out",Y[2])+"")&&H(F,se),(!pe||ve&4)&&Pe!==(Pe=Y[3].t("in",Y[2])+"")&&H(z,Pe),(!pe||ve&4)&&Oe!==(Oe=Y[3].t("fix",Y[2])+"")&&H(_e,Oe),(!pe||ve&1)&&at(ge,Y[0]),Ge&&Ge.p&&(!pe||ve&64)&&Ye(Ge,De,Y,Y[6],pe?Fe(De,Y[6],ve,ls):Le(Y[6]),Vn),we&&we.p&&(!pe||ve&64)&&Ye(we,ye,Y,Y[6],pe?Fe(ye,Y[6],ve,ts):Le(Y[6]),Un)},i(Y){pe||(x(qe,Y),x(Ge,Y),x(we,Y),pe=!0)},o(Y){ee(qe,Y),ee(Ge,Y),ee(we,Y),pe=!1},d(Y){Y&&he(l),qe&&qe.d(Y),Ge&&Ge.d(Y),we&&we.d(Y),$e=!1,Qe(Je)}}}const is=e=>e.stopPropagation();function os(e,l,n){let{$$slots:t={},$$scope:r}=l,i;Dt.subscribe(p=>n(2,i=p));let s=new Bt("magicSquare/drawPattern"),{drawPatternType:f}=l,{transformOrder:a}=l;function c(p){var b=document.getElementById(M.drawPatternType);n(0,f=p.target.value),b.value=p.target.value,b.dispatchEvent(new Event("input",{bubbles:!0}))}function h(p){n(1,a=p);var b=document.getElementById(M.transformOrder);b.value=p,b.dispatchEvent(new Event("input",{bubbles:!0}))}const d=()=>h(ul.rotateThenTranslate),g=()=>h(ul.translateThenRotate);return e.$$set=p=>{"drawPatternType"in p&&n(0,f=p.drawPatternType),"transformOrder"in p&&n(1,a=p.transformOrder),"$$scope"in p&&n(6,r=p.$$scope)},[f,a,i,s,c,h,r,t,d,g]}class ss extends ht{constructor(l){super(),pt(this,l,os,rs,ft,{drawPatternType:0,transformOrder:1})}}/*!
 * iro.js v5.5.2
 * 2016-2021 James Daniel
 * Licensed under MPL 2.0
 * github.com/jaames/iro.js
 */var et,hn,gi,An,mi,ol={},Dn=[],as=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;function il(e,l){for(var n in l)e[n]=l[n];return e}function bi(e){var l=e.parentNode;l&&l.removeChild(e)}function We(e,l,n){var t,r,i,s,f=arguments;if(l=il({},l),arguments.length>3)for(n=[n],t=3;t<arguments.length;t++)n.push(f[t]);if(n!=null&&(l.children=n),e!=null&&e.defaultProps!=null)for(r in e.defaultProps)l[r]===void 0&&(l[r]=e.defaultProps[r]);return s=l.key,(i=l.ref)!=null&&delete l.ref,s!=null&&delete l.key,Pn(e,l,s,i)}function Pn(e,l,n,t){var r={type:e,props:l,key:n,ref:t,__k:null,__p:null,__b:0,__e:null,l:null,__c:null,constructor:void 0};return et.vnode&&et.vnode(r),r}function mn(e){return e.children}function us(e){if(e==null||typeof e=="boolean")return null;if(typeof e=="string"||typeof e=="number")return Pn(null,e,null,null);if(e.__e!=null||e.__c!=null){var l=Pn(e.type,e.props,e.key,null);return l.__e=e.__e,l}return e}function Pl(e,l){this.props=e,this.context=l}function pn(e,l){if(l==null)return e.__p?pn(e.__p,e.__p.__k.indexOf(e)+1):null;for(var n;l<e.__k.length;l++)if((n=e.__k[l])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?pn(e):null}function wi(e){var l,n;if((e=e.__p)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,l=0;l<e.__k.length;l++)if((n=e.__k[l])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return wi(e)}}function yn(e){(!e.__d&&(e.__d=!0)&&hn.push(e)===1||An!==et.debounceRendering)&&(An=et.debounceRendering,(et.debounceRendering||gi)(fs))}function fs(){var e,l,n,t,r,i,s,f;for(hn.sort(function(a,c){return c.__v.__b-a.__v.__b});e=hn.pop();)e.__d&&(n=void 0,t=void 0,i=(r=(l=e).__v).__e,s=l.__P,f=l.u,l.u=!1,s&&(n=[],t=Rn(s,r,il({},r),l.__n,s.ownerSVGElement!==void 0,null,n,f,i??pn(r)),yi(n,r),t!=i&&wi(r)))}function ki(e,l,n,t,r,i,s,f,a){var c,h,d,g,p,b,B,A=n&&n.__k||Dn,q=A.length;if(f==ol&&(f=i!=null?i[0]:q?pn(n,0):null),c=0,l.__k=Bn(l.__k,function(E){if(E!=null){if(E.__p=l,E.__b=l.__b+1,(d=A[c])===null||d&&E.key==d.key&&E.type===d.type)A[c]=void 0;else for(h=0;h<q;h++){if((d=A[h])&&E.key==d.key&&E.type===d.type){A[h]=void 0;break}d=null}if(g=Rn(e,E,d=d||ol,t,r,i,s,null,f,a),(h=E.ref)&&d.ref!=h&&(B||(B=[])).push(h,E.__c||g,E),g!=null){if(b==null&&(b=g),E.l!=null)g=E.l,E.l=null;else if(i==d||g!=f||g.parentNode==null){e:if(f==null||f.parentNode!==e)e.appendChild(g);else{for(p=f,h=0;(p=p.nextSibling)&&h<q;h+=2)if(p==g)break e;e.insertBefore(g,f)}l.type=="option"&&(e.value="")}f=g.nextSibling,typeof l.type=="function"&&(l.l=g)}}return c++,E}),l.__e=b,i!=null&&typeof l.type!="function")for(c=i.length;c--;)i[c]!=null&&bi(i[c]);for(c=q;c--;)A[c]!=null&&Ei(A[c],A[c]);if(B)for(c=0;c<B.length;c++)Si(B[c],B[++c],B[++c])}function Bn(e,l,n){if(n==null&&(n=[]),e==null||typeof e=="boolean")l&&n.push(l(null));else if(Array.isArray(e))for(var t=0;t<e.length;t++)Bn(e[t],l,n);else n.push(l?l(us(e)):e);return n}function cs(e,l,n,t,r){var i;for(i in n)i in l||$n(e,i,null,n[i],t);for(i in l)r&&typeof l[i]!="function"||i==="value"||i==="checked"||n[i]===l[i]||$n(e,i,l[i],n[i],t)}function Jn(e,l,n){l[0]==="-"?e.setProperty(l,n):e[l]=typeof n=="number"&&as.test(l)===!1?n+"px":n??""}function $n(e,l,n,t,r){var i,s,f,a,c;if(!((l=r?l==="className"?"class":l:l==="class"?"className":l)==="key"||l==="children"))if(l==="style")if(i=e.style,typeof n=="string")i.cssText=n;else{if(typeof t=="string"&&(i.cssText="",t=null),t)for(s in t)n&&s in n||Jn(i,s,"");if(n)for(f in n)t&&n[f]===t[f]||Jn(i,f,n[f])}else l[0]==="o"&&l[1]==="n"?(a=l!==(l=l.replace(/Capture$/,"")),c=l.toLowerCase(),l=(c in e?c:l).slice(2),n?(t||e.addEventListener(l,Wn,a),(e.t||(e.t={}))[l]=n):e.removeEventListener(l,Wn,a)):l!=="list"&&l!=="tagName"&&l!=="form"&&!r&&l in e?e[l]=n??"":typeof n!="function"&&l!=="dangerouslySetInnerHTML"&&(l!==(l=l.replace(/^xlink:?/,""))?n==null||n===!1?e.removeAttributeNS("http://www.w3.org/1999/xlink",l.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",l.toLowerCase(),n):n==null||n===!1?e.removeAttribute(l):e.setAttribute(l,n))}function Wn(e){return this.t[e.type](et.event?et.event(e):e)}function Rn(e,l,n,t,r,i,s,f,a,c){var h,d,g,p,b,B,A,q,E,y,C=l.type;if(l.constructor!==void 0)return null;(h=et.__b)&&h(l);try{e:if(typeof C=="function"){if(q=l.props,E=(h=C.contextType)&&t[h.__c],y=h?E?E.props.value:h.__p:t,n.__c?A=(d=l.__c=n.__c).__p=d.__E:("prototype"in C&&C.prototype.render?l.__c=d=new C(q,y):(l.__c=d=new Pl(q,y),d.constructor=C,d.render=ds),E&&E.sub(d),d.props=q,d.state||(d.state={}),d.context=y,d.__n=t,g=d.__d=!0,d.__h=[]),d.__s==null&&(d.__s=d.state),C.getDerivedStateFromProps!=null&&il(d.__s==d.state?d.__s=il({},d.__s):d.__s,C.getDerivedStateFromProps(q,d.__s)),g)C.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),d.componentDidMount!=null&&s.push(d);else{if(C.getDerivedStateFromProps==null&&f==null&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(q,y),!f&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(q,d.__s,y)===!1){for(d.props=q,d.state=d.__s,d.__d=!1,d.__v=l,l.__e=a!=null?a!==n.__e?a:n.__e:null,l.__k=n.__k,h=0;h<l.__k.length;h++)l.__k[h]&&(l.__k[h].__p=l);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(q,d.__s,y)}for(p=d.props,b=d.state,d.context=y,d.props=q,d.state=d.__s,(h=et.__r)&&h(l),d.__d=!1,d.__v=l,d.__P=e,h=d.render(d.props,d.state,d.context),l.__k=Bn(h!=null&&h.type==mn&&h.key==null?h.props.children:h),d.getChildContext!=null&&(t=il(il({},t),d.getChildContext())),g||d.getSnapshotBeforeUpdate==null||(B=d.getSnapshotBeforeUpdate(p,b)),ki(e,l,n,t,r,i,s,a,c),d.base=l.__e;h=d.__h.pop();)d.__s&&(d.state=d.__s),h.call(d);g||p==null||d.componentDidUpdate==null||d.componentDidUpdate(p,b,B),A&&(d.__E=d.__p=null)}else l.__e=_s(n.__e,l,n,t,r,i,s,c);(h=et.diffed)&&h(l)}catch(k){et.__e(k,l,n)}return l.__e}function yi(e,l){for(var n;n=e.pop();)try{n.componentDidMount()}catch(t){et.__e(t,n.__v)}et.__c&&et.__c(l)}function _s(e,l,n,t,r,i,s,f){var a,c,h,d,g=n.props,p=l.props;if(r=l.type==="svg"||r,e==null&&i!=null){for(a=0;a<i.length;a++)if((c=i[a])!=null&&(l.type===null?c.nodeType===3:c.localName===l.type)){e=c,i[a]=null;break}}if(e==null){if(l.type===null)return document.createTextNode(p);e=r?document.createElementNS("http://www.w3.org/2000/svg",l.type):document.createElement(l.type),i=null}return l.type===null?g!==p&&(i!=null&&(i[i.indexOf(e)]=null),e.data=p):l!==n&&(i!=null&&(i=Dn.slice.call(e.childNodes)),h=(g=n.props||ol).dangerouslySetInnerHTML,d=p.dangerouslySetInnerHTML,f||(d||h)&&(d&&h&&d.__html==h.__html||(e.innerHTML=d&&d.__html||"")),cs(e,p,g,r,f),l.__k=l.props.children,d||ki(e,l,n,t,l.type!=="foreignObject"&&r,i,s,ol,f),f||("value"in p&&p.value!==void 0&&p.value!==e.value&&(e.value=p.value==null?"":p.value),"checked"in p&&p.checked!==void 0&&p.checked!==e.checked&&(e.checked=p.checked))),e}function Si(e,l,n){try{typeof e=="function"?e(l):e.current=l}catch(t){et.__e(t,n)}}function Ei(e,l,n){var t,r,i;if(et.unmount&&et.unmount(e),(t=e.ref)&&Si(t,null,l),n||typeof e.type=="function"||(n=(r=e.__e)!=null),e.__e=e.l=null,(t=e.__c)!=null){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(s){et.__e(s,l)}t.base=t.__P=null}if(t=e.__k)for(i=0;i<t.length;i++)t[i]&&Ei(t[i],l,n);r!=null&&bi(r)}function ds(e,l,n){return this.constructor(e,n)}function hs(e,l,n){var t,r,i;et.__p&&et.__p(e,l),r=(t=n===mi)?null:n&&n.__k||l.__k,e=We(mn,null,[e]),i=[],Rn(l,t?l.__k=e:(n||l).__k=e,r||ol,ol,l.ownerSVGElement!==void 0,n&&!t?[n]:r?null:Dn.slice.call(l.childNodes),i,!1,n||ol,t),yi(i,e)}et={},Pl.prototype.setState=function(e,l){var n=this.__s!==this.state&&this.__s||(this.__s=il({},this.state));(typeof e!="function"||(e=e(n,this.props)))&&il(n,e),e!=null&&this.__v&&(this.u=!1,l&&this.__h.push(l),yn(this))},Pl.prototype.forceUpdate=function(e){this.__v&&(e&&this.__h.push(e),this.u=!0,yn(this))},Pl.prototype.render=mn,hn=[],gi=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,An=et.debounceRendering,et.__e=function(e,l,n){for(var t;l=l.__p;)if((t=l.__c)&&!t.__p)try{if(t.constructor&&t.constructor.getDerivedStateFromError!=null)t.setState(t.constructor.getDerivedStateFromError(e));else{if(t.componentDidCatch==null)continue;t.componentDidCatch(e)}return yn(t.__E=t)}catch(r){e=r}throw e},mi=ol;function Kn(e,l){for(var n=0;n<l.length;n++){var t=l[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function ps(e,l,n){return l&&Kn(e.prototype,l),n&&Kn(e,n),e}function kt(){return kt=Object.assign||function(e){for(var l=arguments,n=1;n<arguments.length;n++){var t=l[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},kt.apply(this,arguments)}var vs="[-\\+]?\\d+%?",gs="[-\\+]?\\d*\\.\\d+%?",fl="(?:"+gs+")|(?:"+vs+")",ji="[\\s|\\(]+("+fl+")[,|\\s]+("+fl+")[,|\\s]+("+fl+")\\s*\\)?",Ai="[\\s|\\(]+("+fl+")[,|\\s]+("+fl+")[,|\\s]+("+fl+")[,|\\s]+("+fl+")\\s*\\)?",ms=new RegExp("rgb"+ji),bs=new RegExp("rgba"+Ai),ws=new RegExp("hsl"+ji),ks=new RegExp("hsla"+Ai),bn="^(?:#?|0x?)",cl="([0-9a-fA-F]{1})",_l="([0-9a-fA-F]{2})",ys=new RegExp(bn+cl+cl+cl+"$"),Ss=new RegExp(bn+cl+cl+cl+cl+"$"),Es=new RegExp(bn+_l+_l+_l+"$"),js=new RegExp(bn+_l+_l+_l+_l+"$"),As=2e3,Ps=4e4,sn=Math.log,jl=Math.round,Yl=Math.floor;function Tt(e,l,n){return Math.min(Math.max(e,l),n)}function mt(e,l){var n=e.indexOf("%")>-1,t=parseFloat(e);return n?l/100*t:t}function bt(e){return parseInt(e,16)}function al(e){return e.toString(16).padStart(2,"0")}var Al=function(){function e(n,t){this.$={h:0,s:0,v:0,a:1},n&&this.set(n),this.onChange=t,this.initialValue=kt({},this.$)}var l=e.prototype;return l.set=function(t){if(typeof t=="string")/^(?:#?|0x?)[0-9a-fA-F]{3,8}$/.test(t)?this.hexString=t:/^rgba?/.test(t)?this.rgbString=t:/^hsla?/.test(t)&&(this.hslString=t);else if(typeof t=="object")t instanceof e?this.hsva=t.hsva:"r"in t&&"g"in t&&"b"in t?this.rgb=t:"h"in t&&"s"in t&&"v"in t?this.hsv=t:"h"in t&&"s"in t&&"l"in t?this.hsl=t:"kelvin"in t&&(this.kelvin=t.kelvin);else throw new Error("Invalid color value")},l.setChannel=function(t,r,i){var s;this[t]=kt({},this[t],(s={},s[r]=i,s))},l.reset=function(){this.hsva=this.initialValue},l.clone=function(){return new e(this)},l.unbind=function(){this.onChange=void 0},e.hsvToRgb=function(t){var r=t.h/60,i=t.s/100,s=t.v/100,f=Yl(r),a=r-f,c=s*(1-i),h=s*(1-a*i),d=s*(1-(1-a)*i),g=f%6,p=[s,h,c,c,d,s][g],b=[d,s,s,h,c,c][g],B=[c,c,d,s,s,h][g];return{r:Tt(p*255,0,255),g:Tt(b*255,0,255),b:Tt(B*255,0,255)}},e.rgbToHsv=function(t){var r=t.r/255,i=t.g/255,s=t.b/255,f=Math.max(r,i,s),a=Math.min(r,i,s),c=f-a,h=0,d=f,g=f===0?0:c/f;switch(f){case a:h=0;break;case r:h=(i-s)/c+(i<s?6:0);break;case i:h=(s-r)/c+2;break;case s:h=(r-i)/c+4;break}return{h:h*60%360,s:Tt(g*100,0,100),v:Tt(d*100,0,100)}},e.hsvToHsl=function(t){var r=t.s/100,i=t.v/100,s=(2-r)*i,f=s<=1?s:2-s,a=f<1e-9?0:r*i/f;return{h:t.h,s:Tt(a*100,0,100),l:Tt(s*50,0,100)}},e.hslToHsv=function(t){var r=t.l*2,i=t.s*(r<=100?r:200-r)/100,s=r+i<1e-9?0:2*i/(r+i);return{h:t.h,s:Tt(s*100,0,100),v:Tt((r+i)/2,0,100)}},e.kelvinToRgb=function(t){var r=t/100,i,s,f;return r<66?(i=255,s=-155.25485562709179-.44596950469579133*(s=r-2)+104.49216199393888*sn(s),f=r<20?0:-254.76935184120902+.8274096064007395*(f=r-10)+115.67994401066147*sn(f)):(i=351.97690566805693+.114206453784165*(i=r-55)-40.25366309332127*sn(i),s=325.4494125711974+.07943456536662342*(s=r-50)-28.0852963507957*sn(s),f=255),{r:Tt(Yl(i),0,255),g:Tt(Yl(s),0,255),b:Tt(Yl(f),0,255)}},e.rgbToKelvin=function(t){for(var r=t.r,i=t.b,s=.4,f=As,a=Ps,c;a-f>s;){c=(a+f)*.5;var h=e.kelvinToRgb(c);h.b/h.r>=i/r?a=c:f=c}return c},ps(e,[{key:"hsv",get:function(){var t=this.$;return{h:t.h,s:t.s,v:t.v}},set:function(t){var r=this.$;if(t=kt({},r,t),this.onChange){var i={h:!1,v:!1,s:!1,a:!1};for(var s in r)i[s]=t[s]!=r[s];this.$=t,(i.h||i.s||i.v||i.a)&&this.onChange(this,i)}else this.$=t}},{key:"hsva",get:function(){return kt({},this.$)},set:function(t){this.hsv=t}},{key:"hue",get:function(){return this.$.h},set:function(t){this.hsv={h:t}}},{key:"saturation",get:function(){return this.$.s},set:function(t){this.hsv={s:t}}},{key:"value",get:function(){return this.$.v},set:function(t){this.hsv={v:t}}},{key:"alpha",get:function(){return this.$.a},set:function(t){this.hsv=kt({},this.hsv,{a:t})}},{key:"kelvin",get:function(){return e.rgbToKelvin(this.rgb)},set:function(t){this.rgb=e.kelvinToRgb(t)}},{key:"red",get:function(){var t=this.rgb;return t.r},set:function(t){this.rgb=kt({},this.rgb,{r:t})}},{key:"green",get:function(){var t=this.rgb;return t.g},set:function(t){this.rgb=kt({},this.rgb,{g:t})}},{key:"blue",get:function(){var t=this.rgb;return t.b},set:function(t){this.rgb=kt({},this.rgb,{b:t})}},{key:"rgb",get:function(){var t=e.hsvToRgb(this.$),r=t.r,i=t.g,s=t.b;return{r:jl(r),g:jl(i),b:jl(s)}},set:function(t){this.hsv=kt({},e.rgbToHsv(t),{a:t.a===void 0?1:t.a})}},{key:"rgba",get:function(){return kt({},this.rgb,{a:this.alpha})},set:function(t){this.rgb=t}},{key:"hsl",get:function(){var t=e.hsvToHsl(this.$),r=t.h,i=t.s,s=t.l;return{h:jl(r),s:jl(i),l:jl(s)}},set:function(t){this.hsv=kt({},e.hslToHsv(t),{a:t.a===void 0?1:t.a})}},{key:"hsla",get:function(){return kt({},this.hsl,{a:this.alpha})},set:function(t){this.hsl=t}},{key:"rgbString",get:function(){var t=this.rgb;return"rgb("+t.r+", "+t.g+", "+t.b+")"},set:function(t){var r,i,s,f,a=1;if((r=ms.exec(t))?(i=mt(r[1],255),s=mt(r[2],255),f=mt(r[3],255)):(r=bs.exec(t))&&(i=mt(r[1],255),s=mt(r[2],255),f=mt(r[3],255),a=mt(r[4],1)),r)this.rgb={r:i,g:s,b:f,a};else throw new Error("Invalid rgb string")}},{key:"rgbaString",get:function(){var t=this.rgba;return"rgba("+t.r+", "+t.g+", "+t.b+", "+t.a+")"},set:function(t){this.rgbString=t}},{key:"hexString",get:function(){var t=this.rgb;return"#"+al(t.r)+al(t.g)+al(t.b)},set:function(t){var r,i,s,f,a=255;if((r=ys.exec(t))?(i=bt(r[1])*17,s=bt(r[2])*17,f=bt(r[3])*17):(r=Ss.exec(t))?(i=bt(r[1])*17,s=bt(r[2])*17,f=bt(r[3])*17,a=bt(r[4])*17):(r=Es.exec(t))?(i=bt(r[1]),s=bt(r[2]),f=bt(r[3])):(r=js.exec(t))&&(i=bt(r[1]),s=bt(r[2]),f=bt(r[3]),a=bt(r[4])),r)this.rgb={r:i,g:s,b:f,a:a/255};else throw new Error("Invalid hex string")}},{key:"hex8String",get:function(){var t=this.rgba;return"#"+al(t.r)+al(t.g)+al(t.b)+al(Yl(t.a*255))},set:function(t){this.hexString=t}},{key:"hslString",get:function(){var t=this.hsl;return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},set:function(t){var r,i,s,f,a=1;if((r=ws.exec(t))?(i=mt(r[1],360),s=mt(r[2],100),f=mt(r[3],100)):(r=ks.exec(t))&&(i=mt(r[1],360),s=mt(r[2],100),f=mt(r[3],100),a=mt(r[4],1)),r)this.hsl={h:i,s,l:f,a};else throw new Error("Invalid hsl string")}},{key:"hslaString",get:function(){var t=this.hsla;return"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},set:function(t){this.hslString=t}}]),e}(),Cs={sliderShape:"bar",sliderType:"value",minTemperature:2200,maxTemperature:11e3};function Nn(e){var l,n=e.width,t=e.sliderSize,r=e.borderWidth,i=e.handleRadius,s=e.padding,f=e.sliderShape,a=e.layoutDirection==="horizontal";return t=(l=t)!=null?l:s*2+i*2,f==="circle"?{handleStart:e.padding+e.handleRadius,handleRange:n-s*2-i*2,width:n,height:n,cx:n/2,cy:n/2,radius:n/2-r/2}:{handleStart:t/2,handleRange:n-t,radius:t/2,x:0,y:0,width:a?t:n,height:a?n:t}}function Ts(e,l){var n=l.hsva,t=l.rgb;switch(e.sliderType){case"red":return t.r/2.55;case"green":return t.g/2.55;case"blue":return t.b/2.55;case"alpha":return n.a*100;case"kelvin":var r=e.minTemperature,i=e.maxTemperature,s=i-r,f=(l.kelvin-r)/s*100;return Math.max(0,Math.min(f,100));case"hue":return n.h/=3.6;case"saturation":return n.s;case"value":default:return n.v}}function Os(e,l,n){var t=Nn(e),r=t.handleRange,i=t.handleStart,s;e.layoutDirection==="horizontal"?s=-1*n+r+i:s=l-i,s=Math.max(Math.min(s,r),0);var f=Math.round(100/r*s);switch(e.sliderType){case"kelvin":var a=e.minTemperature,c=e.maxTemperature,h=c-a;return a+h*(f/100);case"alpha":return f/100;case"hue":return f*3.6;case"red":case"blue":case"green":return f*2.55;default:return f}}function qs(e,l){var n=Nn(e),t=n.width,r=n.height,i=n.handleRange,s=n.handleStart,f=e.layoutDirection==="horizontal",a=Ts(e,l),c=f?t/2:r/2,h=s+a/100*i;return f&&(h=-1*h+i+s*2),{x:f?c:h,y:f?h:c}}function Ds(e,l){var n=l.hsv,t=l.rgb;switch(e.sliderType){case"red":return[[0,"rgb(0,"+t.g+","+t.b+")"],[100,"rgb(255,"+t.g+","+t.b+")"]];case"green":return[[0,"rgb("+t.r+",0,"+t.b+")"],[100,"rgb("+t.r+",255,"+t.b+")"]];case"blue":return[[0,"rgb("+t.r+","+t.g+",0)"],[100,"rgb("+t.r+","+t.g+",255)"]];case"alpha":return[[0,"rgba("+t.r+","+t.g+","+t.b+",0)"],[100,"rgb("+t.r+","+t.g+","+t.b+")"]];case"kelvin":for(var r=[],i=e.minTemperature,s=e.maxTemperature,f=8,a=s-i,c=i,h=0;c<s;c+=a/f,h+=1){var d=Al.kelvinToRgb(c),g=d.r,p=d.g,b=d.b;r.push([100/f*h,"rgb("+g+","+p+","+b+")"])}return r;case"hue":return[[0,"#f00"],[16.666,"#ff0"],[33.333,"#0f0"],[50,"#0ff"],[66.666,"#00f"],[83.333,"#f0f"],[100,"#f00"]];case"saturation":var B=Al.hsvToHsl({h:n.h,s:0,v:n.v}),A=Al.hsvToHsl({h:n.h,s:100,v:n.v});return[[0,"hsl("+B.h+","+B.s+"%,"+B.l+"%)"],[100,"hsl("+A.h+","+A.s+"%,"+A.l+"%)"]];case"value":default:var q=Al.hsvToHsl({h:n.h,s:n.s,v:100});return[[0,"#000"],[100,"hsl("+q.h+","+q.s+"%,"+q.l+"%)"]]}}var Pi=Math.PI*2,Bs=function(l,n){return(l%n+n)%n},Ci=function(l,n){return Math.sqrt(l*l+n*n)};function Ti(e){return e.width/2-e.padding-e.handleRadius-e.borderWidth}function Rs(e,l,n){var t=wn(e),r=t.cx,i=t.cy,s=e.width/2;return Ci(r-l,i-n)<s}function wn(e){var l=e.width/2;return{width:e.width,radius:l-e.borderWidth,cx:l,cy:l}}function Oi(e,l,n){var t=e.wheelAngle,r=e.wheelDirection;return n&&r==="clockwise"?l=t+l:r==="clockwise"?l=360-t+l:n&&r==="anticlockwise"?l=t+180-l:r==="anticlockwise"&&(l=t-l),Bs(l,360)}function Ns(e,l){var n=l.hsv,t=wn(e),r=t.cx,i=t.cy,s=Ti(e),f=(180+Oi(e,n.h,!0))*(Pi/360),a=n.s/100*s,c=e.wheelDirection==="clockwise"?-1:1;return{x:r+a*Math.cos(f)*c,y:i+a*Math.sin(f)*c}}function Zn(e,l,n){var t=wn(e),r=t.cx,i=t.cy,s=Ti(e);l=r-l,n=i-n;var f=Oi(e,Math.atan2(-n,-l)*(360/Pi)),a=Math.min(Ci(l,n),s);return{h:Math.round(f),s:Math.round(100/s*a)}}function In(e){var l=e.width,n=e.boxHeight,t=e.padding,r=e.handleRadius;return{width:l,height:n??l,radius:t+r}}function Qn(e,l,n){var t=In(e),r=t.width,i=t.height,s=t.radius,f=s,a=r-s*2,c=i-s*2,h=(l-f)/a*100,d=(n-f)/c*100;return{s:Math.max(0,Math.min(h,100)),v:Math.max(0,Math.min(100-d,100))}}function Is(e,l){var n=In(e),t=n.width,r=n.height,i=n.radius,s=l.hsv,f=i,a=t-i*2,c=r-i*2;return{x:f+s.s/100*a,y:f+(c-s.v/100*c)}}function zs(e,l){var n=l.hue;return[[[0,"#fff"],[100,"hsl("+n+",100%,50%)"]],[[0,"rgba(0,0,0,0)"],[100,"#000"]]]}var Sn;function Hs(e){Sn||(Sn=document.getElementsByTagName("base"));var l=window.navigator.userAgent,n=/^((?!chrome|android).)*safari/i.test(l),t=/iPhone|iPod|iPad/i.test(l),r=window.location;return(n||t)&&Sn.length>0?r.protocol+"//"+r.host+r.pathname+r.search+e:e}function qi(e,l,n,t){for(var r=0;r<t.length;r++){var i=t[r].x-l,s=t[r].y-n,f=Math.sqrt(i*i+s*s);if(f<e.handleRadius)return r}return null}function zn(e){return{boxSizing:"border-box",border:e.borderWidth+"px solid "+e.borderColor}}function Cn(e,l,n){return e+"-gradient("+l+", "+n.map(function(t){var r=t[0],i=t[1];return i+" "+r+"%"}).join(",")+")"}function _t(e){return typeof e=="string"?e:e+"px"}var Ms={width:300,height:300,color:"#fff",colors:[],padding:6,layoutDirection:"vertical",borderColor:"#fff",borderWidth:0,handleRadius:8,activeHandleRadius:null,handleSvg:null,handleProps:{x:0,y:0},wheelLightness:!0,wheelAngle:0,wheelDirection:"anticlockwise",sliderSize:null,sliderMargin:12,boxHeight:null},xn=["mousemove","touchmove","mouseup","touchend"],kn=function(e){function l(n){e.call(this,n),this.uid=(Math.random()+1).toString(36).substring(5)}return e&&(l.__proto__=e),l.prototype=Object.create(e&&e.prototype),l.prototype.constructor=l,l.prototype.render=function(t){var r=this.handleEvent.bind(this),i={onMouseDown:r,ontouchstart:r},s=t.layoutDirection==="horizontal",f=t.margin===null?t.sliderMargin:t.margin,a={overflow:"visible",display:s?"inline-block":"block"};return t.index>0&&(a[s?"marginLeft":"marginTop"]=f),We(mn,null,t.children(this.uid,i,a))},l.prototype.handleEvent=function(t){var r=this,i=this.props.onInput,s=this.base.getBoundingClientRect();t.preventDefault();var f=t.touches?t.changedTouches[0]:t,a=f.clientX-s.left,c=f.clientY-s.top;switch(t.type){case"mousedown":case"touchstart":var h=i(a,c,0);h!==!1&&xn.forEach(function(d){document.addEventListener(d,r,{passive:!1})});break;case"mousemove":case"touchmove":i(a,c,1);break;case"mouseup":case"touchend":i(a,c,2),xn.forEach(function(d){document.removeEventListener(d,r,{passive:!1})});break}},l}(Pl);function hl(e){var l=e.r,n=e.url,t=l,r=l;return We("svg",{className:"IroHandle IroHandle--"+e.index+" "+(e.isActive?"IroHandle--isActive":""),style:{"-webkit-tap-highlight-color":"rgba(0, 0, 0, 0);",transform:"translate("+_t(e.x)+", "+_t(e.y)+")",willChange:"transform",top:_t(-l),left:_t(-l),width:_t(l*2),height:_t(l*2),position:"absolute",overflow:"visible"}},n&&We("use",Object.assign({xlinkHref:Hs(n)},e.props)),!n&&We("circle",{cx:t,cy:r,r:l,fill:"none","stroke-width":2,stroke:"#000"}),!n&&We("circle",{cx:t,cy:r,r:l-2,fill:e.fill,"stroke-width":2,stroke:"#fff"}))}hl.defaultProps={fill:"none",x:0,y:0,r:8,url:null,props:{x:0,y:0}};function vn(e){var l=e.activeIndex,n=l!==void 0&&l<e.colors.length?e.colors[l]:e.color,t=Nn(e),r=t.width,i=t.height,s=t.radius,f=qs(e,n),a=Ds(e,n);function c(h,d,g){var p=Os(e,h,d);e.parent.inputActive=!0,n[e.sliderType]=p,e.onInput(g,e.id)}return We(kn,Object.assign({},e,{onInput:c}),function(h,d,g){return We("div",Object.assign({},d,{className:"IroSlider",style:Object.assign({},{position:"relative",width:_t(r),height:_t(i),borderRadius:_t(s),background:"conic-gradient(#ccc 25%, #fff 0 50%, #ccc 0 75%, #fff 0)",backgroundSize:"8px 8px"},g)}),We("div",{className:"IroSliderGradient",style:Object.assign({},{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:_t(s),background:Cn("linear",e.layoutDirection==="horizontal"?"to top":"to right",a)},zn(e))}),We(hl,{isActive:!0,index:n.index,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:f.x,y:f.y}))})}vn.defaultProps=Object.assign({},Cs);function Xs(e){var l=In(e),n=l.width,t=l.height,r=l.radius,i=e.colors,s=e.parent,f=e.activeIndex,a=f!==void 0&&f<e.colors.length?e.colors[f]:e.color,c=zs(e,a),h=i.map(function(g){return Is(e,g)});function d(g,p,b){if(b===0){var B=qi(e,g,p,h);B!==null?s.setActiveColor(B):(s.inputActive=!0,a.hsv=Qn(e,g,p),e.onInput(b,e.id))}else b===1&&(s.inputActive=!0,a.hsv=Qn(e,g,p));e.onInput(b,e.id)}return We(kn,Object.assign({},e,{onInput:d}),function(g,p,b){return We("div",Object.assign({},p,{className:"IroBox",style:Object.assign({},{width:_t(n),height:_t(t),position:"relative"},b)}),We("div",{className:"IroBox",style:Object.assign({},{width:"100%",height:"100%",borderRadius:_t(r)},zn(e),{background:Cn("linear","to bottom",c[1])+","+Cn("linear","to right",c[0])})}),i.filter(function(B){return B!==a}).map(function(B){return We(hl,{isActive:!1,index:B.index,fill:B.hslString,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:h[B.index].x,y:h[B.index].y})}),We(hl,{isActive:!0,index:a.index,fill:a.hslString,r:e.activeHandleRadius||e.handleRadius,url:e.handleSvg,props:e.handleProps,x:h[a.index].x,y:h[a.index].y}))})}var Ys="conic-gradient(red, yellow, lime, aqua, blue, magenta, red)",Ls="conic-gradient(red, magenta, blue, aqua, lime, yellow, red)";function Di(e){var l=wn(e),n=l.width,t=e.colors;e.borderWidth;var r=e.parent,i=e.color,s=i.hsv,f=t.map(function(h){return Ns(e,h)}),a={position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",boxSizing:"border-box"};function c(h,d,g){if(g===0){if(!Rs(e,h,d))return!1;var p=qi(e,h,d,f);p!==null?r.setActiveColor(p):(r.inputActive=!0,i.hsv=Zn(e,h,d),e.onInput(g,e.id))}else g===1&&(r.inputActive=!0,i.hsv=Zn(e,h,d));e.onInput(g,e.id)}return We(kn,Object.assign({},e,{onInput:c}),function(h,d,g){return We("div",Object.assign({},d,{className:"IroWheel",style:Object.assign({},{width:_t(n),height:_t(n),position:"relative"},g)}),We("div",{className:"IroWheelHue",style:Object.assign({},a,{transform:"rotateZ("+(e.wheelAngle+90)+"deg)",background:e.wheelDirection==="clockwise"?Ys:Ls})}),We("div",{className:"IroWheelSaturation",style:Object.assign({},a,{background:"radial-gradient(circle closest-side, #fff, transparent)"})}),e.wheelLightness&&We("div",{className:"IroWheelLightness",style:Object.assign({},a,{background:"#000",opacity:1-s.v/100})}),We("div",{className:"IroWheelBorder",style:Object.assign({},a,zn(e))}),t.filter(function(p){return p!==i}).map(function(p){return We(hl,{isActive:!1,index:p.index,fill:p.hslString,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:f[p.index].x,y:f[p.index].y})}),We(hl,{isActive:!0,index:i.index,fill:i.hslString,r:e.activeHandleRadius||e.handleRadius,url:e.handleSvg,props:e.handleProps,x:f[i.index].x,y:f[i.index].y}))})}function Fs(e){var l=function(n,t){var r,i=document.createElement("div");hs(We(e,Object.assign({},{ref:function(f){return r=f}},t)),i);function s(){var f=n instanceof Element?n:document.querySelector(n);f.appendChild(r.base),r.onMount(f)}return document.readyState!=="loading"?s():document.addEventListener("DOMContentLoaded",s),r};return l.prototype=e.prototype,Object.assign(l,e),l.__component=e,l}var Bi=function(e){function l(n){var t=this;e.call(this,n),this.colors=[],this.inputActive=!1,this.events={},this.activeEvents={},this.deferredEvents={},this.id=n.id;var r=n.colors.length>0?n.colors:[n.color];r.forEach(function(i){return t.addColor(i)}),this.setActiveColor(0),this.state=Object.assign({},n,{color:this.color,colors:this.colors,layout:n.layout})}return e&&(l.__proto__=e),l.prototype=Object.create(e&&e.prototype),l.prototype.constructor=l,l.prototype.addColor=function(t,r){r===void 0&&(r=this.colors.length);var i=new Al(t,this.onColorChange.bind(this));this.colors.splice(r,0,i),this.colors.forEach(function(s,f){return s.index=f}),this.state&&this.setState({colors:this.colors}),this.deferredEmit("color:init",i)},l.prototype.removeColor=function(t){var r=this.colors.splice(t,1)[0];r.unbind(),this.colors.forEach(function(i,s){return i.index=s}),this.state&&this.setState({colors:this.colors}),r.index===this.color.index&&this.setActiveColor(0),this.emit("color:remove",r)},l.prototype.setActiveColor=function(t){this.color=this.colors[t],this.state&&this.setState({color:this.color}),this.emit("color:setActive",this.color)},l.prototype.setColors=function(t,r){var i=this;r===void 0&&(r=0),this.colors.forEach(function(s){return s.unbind()}),this.colors=[],t.forEach(function(s){return i.addColor(s)}),this.setActiveColor(r),this.emit("color:setAll",this.colors)},l.prototype.on=function(t,r){var i=this,s=this.events;(Array.isArray(t)?t:[t]).forEach(function(f){(s[f]||(s[f]=[])).push(r),i.deferredEvents[f]&&(i.deferredEvents[f].forEach(function(a){r.apply(null,a)}),i.deferredEvents[f]=[])})},l.prototype.off=function(t,r){var i=this;(Array.isArray(t)?t:[t]).forEach(function(s){var f=i.events[s];f&&f.splice(f.indexOf(r),1)})},l.prototype.emit=function(t){for(var r=this,i=[],s=arguments.length-1;s-- >0;)i[s]=arguments[s+1];var f=this.activeEvents,a=f.hasOwnProperty(t)?f[t]:!1;if(!a){f[t]=!0;var c=this.events[t]||[];c.forEach(function(h){return h.apply(r,i)}),f[t]=!1}},l.prototype.deferredEmit=function(t){for(var r,i=[],s=arguments.length-1;s-- >0;)i[s]=arguments[s+1];var f=this.deferredEvents;(r=this).emit.apply(r,[t].concat(i)),(f[t]||(f[t]=[])).push(i)},l.prototype.setOptions=function(t){this.setState(t)},l.prototype.resize=function(t){this.setOptions({width:t})},l.prototype.reset=function(){this.colors.forEach(function(t){return t.reset()}),this.setState({colors:this.colors})},l.prototype.onMount=function(t){this.el=t,this.deferredEmit("mount",this)},l.prototype.onColorChange=function(t,r){this.setState({color:this.color}),this.inputActive&&(this.inputActive=!1,this.emit("input:change",t,r)),this.emit("color:change",t,r)},l.prototype.emitInputEvent=function(t,r){t===0?this.emit("input:start",this.color,r):t===1?this.emit("input:move",this.color,r):t===2&&this.emit("input:end",this.color,r)},l.prototype.render=function(t,r){var i=this,s=r.layout;if(!Array.isArray(s)){switch(s){default:s=[{component:Di},{component:vn}]}r.transparency&&s.push({component:vn,options:{sliderType:"alpha"}})}return We("div",{class:"IroColorPicker",id:r.id,style:{display:r.display}},s.map(function(f,a){var c=f.component,h=f.options;return We(c,Object.assign({},r,h,{ref:void 0,onInput:i.emitInputEvent.bind(i),parent:i,index:a}))}))},l}(Pl);Bi.defaultProps=Object.assign({},Ms,{colors:[],display:"block",id:null,layout:"default",margin:null});var Us=Fs(Bi),Tn;(function(e){e.version="5.5.2",e.Color=Al,e.ColorPicker=Us,function(l){l.h=We,l.ComponentBase=kn,l.Handle=hl,l.Slider=vn,l.Wheel=Di,l.Box=Xs}(e.ui||(e.ui={}))})(Tn||(Tn={}));var Vs=Tn,yt=(e=>(e.in="In",e.fix="Fix",e.out="Out",e))(yt||{});function Gs(e){switch(e){case"In":return"In";case"Fix":return"Fix";case"Out":return"Out"}}const Js=e=>({}),er=e=>({});function tr(e,l,n){const t=e.slice();return t[29]=l[n],t[31]=n,t}function lr(e,l,n){const t=e.slice();return t[29]=l[n],t[31]=n,t}function nr(e,l,n){const t=e.slice();return t[33]=l[n],t[31]=n,t}function rr(e,l,n){const t=e.slice();return t[29]=l[n],t[31]=n,t}const $s=e=>({}),ir=e=>({});function or(e){let l;return{c(){l=_("div"),u(l,"id",Ri(e[31])),u(l,"class","svelte-1jpc9kn"),ie(l,"hidden_input",e[5]!==e[31])},m(n,t){de(n,l,t)},p(n,t){t[0]&32&&ie(l,"hidden_input",n[5]!==n[31])},d(n){n&&he(l)}}}function sr(e){let l,n=e[31]+1+"",t,r,i,s;function f(){return e[18](e[31])}return{c(){l=_("button"),t=D(n),r=m(),u(l,"class","color_button svelte-1jpc9kn"),fn(l,"background-color",e[33])},m(a,c){de(a,l,c),o(l,t),o(l,r),i||(s=P(l,"click",f),i=!0)},p(a,c){e=a,c[0]&8&&fn(l,"background-color",e[33])},d(a){a&&he(l),i=!1,s()}}}function ar(e){let l,n=e[31]+1+"",t,r,i;return{c(){l=_("option"),t=D(n),r=m(),l.selected=i=e[1]===e[31],l.__value=e[31],l.value=l.__value},m(s,f){de(s,l,f),o(l,t),o(l,r)},p(s,f){f[0]&2&&i!==(i=s[1]===s[31])&&(l.selected=i)},d(s){s&&he(l)}}}function ur(e){let l,n=e[31]+1+"",t,r,i;return{c(){l=_("option"),t=D(n),r=m(),l.selected=i=e[2]===e[31],l.__value=e[31],l.value=l.__value},m(s,f){de(s,l,f),o(l,t),o(l,r)},p(s,f){f[0]&4&&i!==(i=s[2]===s[31])&&(l.selected=i)},d(s){s&&he(l)}}}function Ws(e){let l,n,t,r,i=e[7].t("animation",e[4])+"",s,f,a,c,h=e[7].t("out",e[4])+"",d,g,p,b=e[7].t("in",e[4])+"",B,A,q,E=e[7].t("fix",e[4])+"",y,C,k,v,I,R,S=e[5]+1+"",O,J,T,w,W,N,X,V,j,ce,oe,Q,ue,ne,te,be;const ge=e[14].speed,G=Xe(ge,e,e[13],ir);let se={length:16},F=[];for(let U=0;U<se.length;U+=1)F[U]=or(rr(e,se,U));let K=e[3],fe=[];for(let U=0;U<K.length;U+=1)fe[U]=sr(nr(e,K,U));let Pe={length:16},z=[];for(let U=0;U<Pe.length;U+=1)z[U]=ar(lr(e,Pe,U));let Z={length:16},Ee=[];for(let U=0;U<Z.length;U+=1)Ee[U]=ur(tr(e,Z,U));const Oe=e[14].hiddenInputs,_e=Xe(Oe,e,e[13],er);return{c(){l=_("div"),n=_("div"),t=_("div"),r=_("div"),s=D(i),f=m(),a=_("div"),c=_("button"),d=D(h),g=m(),p=_("button"),B=D(b),A=m(),q=_("button"),y=D(E),C=m(),k=_("div"),G&&G.c(),v=m(),I=_("div"),R=_("div"),O=D(S),J=m(),T=_("div");for(let U=0;U<F.length;U+=1)F[U].c();w=m(),W=_("div");for(let U=0;U<fe.length;U+=1)fe[U].c();N=m(),X=_("div"),V=_("select");for(let U=0;U<z.length;U+=1)z[U].c();j=m(),ce=_("button"),oe=m(),Q=_("select");for(let U=0;U<Ee.length;U+=1)Ee[U].c();ue=m(),_e&&_e.c(),u(r,"class","title svelte-1jpc9kn"),u(c,"class","grow color_mode_option svelte-1jpc9kn"),ie(c,"selected",e[0]===yt.out),u(p,"class","grow color_mode_option svelte-1jpc9kn"),ie(p,"selected",e[0]===yt.in),u(q,"class","grow color_mode_option svelte-1jpc9kn"),ie(q,"selected",e[0]===yt.fix),u(a,"class","grow w-full pl-2 pr-2 flex justify-around"),u(k,"class","grow pl-2 pr-2 m-2"),u(t,"class","color_modes w-full flex flex-col justify-around items-stretch svelte-1jpc9kn"),u(R,"class","curr_picker_id svelte-1jpc9kn"),u(T,"class","mt-5 flex justify-around items-stretch"),u(I,"id","magic_square_color_curr_picker"),u(I,"class","curr_picker flex justify-around svelte-1jpc9kn"),u(n,"id","color_mode_and_curr"),u(n,"class","grow w-full flex flex-col justify-around items-center"),u(W,"class","color_rows pl-2 pr-2 grid grid-cols-4 grid-rows-4 svelte-1jpc9kn"),u(V,"class","grow flex justify-around items-center"),e[1]===void 0&&Vl(()=>e[19].call(V)),u(ce,"class","grow color_mode_option svelte-1jpc9kn"),fn(ce,"background",e[6]),u(Q,"class","grow flex justify-around items-center"),e[2]===void 0&&Vl(()=>e[21].call(Q)),u(X,"class","color_gradient p-2 flex justify-around items-stretch gap-2 svelte-1jpc9kn"),u(l,"class","color_container h-full pb-10 flex flex-col justify-between items-stretch svelte-1jpc9kn")},m(U,ke){de(U,l,ke),o(l,n),o(n,t),o(t,r),o(r,s),o(t,f),o(t,a),o(a,c),o(c,d),o(a,g),o(a,p),o(p,B),o(a,A),o(a,q),o(q,y),o(t,C),o(t,k),G&&G.m(k,null),o(n,v),o(n,I),o(I,R),o(R,O),o(I,J),o(I,T);for(let L=0;L<F.length;L+=1)F[L]&&F[L].m(T,null);o(l,w),o(l,W);for(let L=0;L<fe.length;L+=1)fe[L]&&fe[L].m(W,null);o(l,N),o(l,X),o(X,V);for(let L=0;L<z.length;L+=1)z[L]&&z[L].m(V,null);at(V,e[1],!0),o(X,j),o(X,ce),o(X,oe),o(X,Q);for(let L=0;L<Ee.length;L+=1)Ee[L]&&Ee[L].m(Q,null);at(Q,e[2],!0),o(l,ue),_e&&_e.m(l,null),ne=!0,te||(be=[P(c,"click",e[15]),P(p,"click",e[16]),P(q,"click",e[17]),P(V,"change",e[19]),P(V,"input",Zs),P(V,"change",e[20]),P(ce,"click",e[9]),P(Q,"change",e[21]),P(Q,"input",Qs),P(Q,"change",e[22])],te=!0)},p(U,ke){if((!ne||ke[0]&16)&&i!==(i=U[7].t("animation",U[4])+"")&&H(s,i),(!ne||ke[0]&16)&&h!==(h=U[7].t("out",U[4])+"")&&H(d,h),(!ne||ke[0]&1)&&ie(c,"selected",U[0]===yt.out),(!ne||ke[0]&16)&&b!==(b=U[7].t("in",U[4])+"")&&H(B,b),(!ne||ke[0]&1)&&ie(p,"selected",U[0]===yt.in),(!ne||ke[0]&16)&&E!==(E=U[7].t("fix",U[4])+"")&&H(y,E),(!ne||ke[0]&1)&&ie(q,"selected",U[0]===yt.fix),G&&G.p&&(!ne||ke[0]&8192)&&Ye(G,ge,U,U[13],ne?Fe(ge,U[13],ke,$s):Le(U[13]),ir),(!ne||ke[0]&32)&&S!==(S=U[5]+1+"")&&H(O,S),ke[0]&32){se={length:16};let L;for(L=0;L<se.length;L+=1){const pe=rr(U,se,L);F[L]?F[L].p(pe,ke):(F[L]=or(pe),F[L].c(),F[L].m(T,null))}for(;L<F.length;L+=1)F[L].d(1);F.length=se.length}if(ke[0]&2056){K=U[3];let L;for(L=0;L<K.length;L+=1){const pe=nr(U,K,L);fe[L]?fe[L].p(pe,ke):(fe[L]=sr(pe),fe[L].c(),fe[L].m(W,null))}for(;L<fe.length;L+=1)fe[L].d(1);fe.length=K.length}if(ke[0]&2){Pe={length:16};let L;for(L=0;L<Pe.length;L+=1){const pe=lr(U,Pe,L);z[L]?z[L].p(pe,ke):(z[L]=ar(pe),z[L].c(),z[L].m(V,null))}for(;L<z.length;L+=1)z[L].d(1);z.length=Pe.length}if(ke[0]&2&&at(V,U[1]),ke[0]&64&&fn(ce,"background",U[6]),ke[0]&4){Z={length:16};let L;for(L=0;L<Z.length;L+=1){const pe=tr(U,Z,L);Ee[L]?Ee[L].p(pe,ke):(Ee[L]=ur(pe),Ee[L].c(),Ee[L].m(Q,null))}for(;L<Ee.length;L+=1)Ee[L].d(1);Ee.length=Z.length}ke[0]&4&&at(Q,U[2]),_e&&_e.p&&(!ne||ke[0]&8192)&&Ye(_e,Oe,U,U[13],ne?Fe(Oe,U[13],ke,Js):Le(U[13]),er)},i(U){ne||(x(G,U),x(_e,U),ne=!0)},o(U){ee(G,U),ee(_e,U),ne=!1},d(U){U&&he(l),G&&G.d(U),ut(F,U),ut(fe,U),ut(z,U),ut(Ee,U),_e&&_e.d(U),te=!1,Qe(be)}}}function Ks(e){return`rgba(${e[0]}, ${e[1]}, ${e[2]}, 1)`}function Ri(e){return`ms_color_picker_picker_${e}`}const Zs=e=>e.stopPropagation(),Qs=e=>e.stopPropagation();function xs(e,l,n){let t,r,i,{$$slots:s={},$$scope:f}=l,a;Dt.subscribe(X=>n(4,a=X));let c=new Bt("magicSquare/color"),h=0,d=15,{colorDirection:g}=l,{colors:p}=l,b=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15];function B(X){n(0,g=X);const V=document.getElementById(M.colorDirection);V.value=X,V.dispatchEvent(new Event("input",{bubbles:!0}))}function A(X,V){const j=X/V;var ce=[0,0,0,0];for(let oe=0;oe<4;oe++)ce[oe]=(1-j)*p[t][oe]+j*p[r][oe];return ce}function q(){const X=r-t;if(X){var V=document.getElementById(M.colors);let j=0;for(;t+j<r;){const ce=A(j,X);n(12,p[t+j]=ce,p),b[t+j].color.rgba={r:ce[0],g:ce[1],b:ce[2],a:ce[3]},V.value=JSON.stringify({idx:t+j,rgba:ce}),V.dispatchEvent(new Event("input",{bubbles:!0})),j+=1}n(12,p=p.map(ce=>[...ce]))}}function E(X,V){switch(X.stopPropagation(),V){case"a":n(1,h=parseInt(X.target.value));break;case"b":n(2,d=parseInt(X.target.value));break}}let y,C=0;const k={width:110,height:90,borderWidth:2,borderColor:"#EFF0E9",layoutDirection:"horizontal"};function v(X){n(5,C=X)}function I(X,V){n(12,p[V]=[...X],p),n(12,p=p.map(j=>[...j]))}gn(async()=>{var X=document.getElementById("color_mode_and_curr");const V=Math.floor(X.offsetWidth/1.7);var j=document.getElementById(M.colors);p.forEach((ce,oe)=>{var Q=Vs.ColorPicker(`#${Ri(oe)}`,Object.assign(k,{height:V,width:V}));Q.color.rgba={r:ce[0],g:ce[1],b:ce[2],a:1},Q.on("color:change",ue=>{const ne=[ue.rgba.r,ue.rgba.g,ue.rgba.b,1];n(12,p[oe]=ne,p),j.value=JSON.stringify({idx:oe,rgba:ne}),j.dispatchEvent(new Event("input",{bubbles:!0})),I(ne,oe)}),b[oe]=Q})});const R=()=>B(yt.out),S=()=>B(yt.in),O=()=>B(yt.fix),J=X=>v(X);function T(){h=cn(this),n(1,h)}const w=X=>E(X,"a");function W(){d=cn(this),n(2,d)}const N=X=>E(X,"b");return e.$$set=X=>{"colorDirection"in X&&n(0,g=X.colorDirection),"colors"in X&&n(12,p=X.colors),"$$scope"in X&&n(13,f=X.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&6&&(t=h<d?h:d),e.$$.dirty[0]&6&&(r=h>d?h:d),e.$$.dirty[0]&4096&&n(3,y=p.map(X=>Ks(X))),e.$$.dirty[0]&14&&n(6,i=`linear-gradient(90deg, ${y[h]} 0%, ${y[d]} 100%)`)},[g,h,d,y,a,C,i,c,B,q,E,v,p,f,s,R,S,O,J,T,w,W,N]}class ea extends ht{constructor(l){super(),pt(this,l,xs,Ws,ft,{colorDirection:0,colors:12},null,[-1,-1])}}var Ae=(e=>(e.color="color",e.drawPattern="drawPattern",e.geometry="geometry",e.lfo="lfo",e.presets="presets",e.rotation="rotation",e.translation="translation",e))(Ae||{});function fr(e){switch(e){case"color":return"color";case"drawPattern":return"drawPattern";case"geometry":return"geometry";case"lfo":return"lfo";case"presets":return"presets";case"rotation":return"rotation";case"translation":return"translation";default:return"presets"}}const ta=e=>({}),cr=e=>({class:"control_module_slot flex flex-col justify-around items-stretch svelte-143ga1n"});function la(e){let l=e[3].t("empty",e[2])+"",n;return{c(){n=D(l)},m(t,r){de(t,n,r)},p(t,r){r&4&&l!==(l=t[3].t("empty",t[2])+"")&&H(n,l)},d(t){t&&he(n)}}}function na(e){let l;return{c(){l=D(e[0])},m(n,t){de(n,l,t)},p(n,t){t&1&&H(l,n[0])},d(n){n&&he(l)}}}function ra(e){let l,n,t,r,i;function s(d,g){return d[0].length?na:la}let f=s(e),a=f(e);const c=e[5].default,h=Xe(c,e,e[4],cr);return{c(){l=_("div"),n=_("div"),a.c(),t=m(),r=_("div"),h&&h.c(),u(n,"class","control_module_title svelte-143ga1n"),ie(n,"left",e[1]=="left"),ie(n,"right",e[1]=="right"),u(r,"class","control_module_slot_container svelte-143ga1n"),u(l,"class","control_module flex flex-col svelte-143ga1n")},m(d,g){de(d,l,g),o(l,n),a.m(n,null),o(l,t),o(l,r),h&&h.m(r,null),i=!0},p(d,[g]){f===(f=s(d))&&a?a.p(d,g):(a.d(1),a=f(d),a&&(a.c(),a.m(n,null))),(!i||g&2)&&ie(n,"left",d[1]=="left"),(!i||g&2)&&ie(n,"right",d[1]=="right"),h&&h.p&&(!i||g&16)&&Ye(h,c,d,d[4],i?Fe(c,d[4],g,ta):Le(d[4]),cr)},i(d){i||(x(h,d),i=!0)},o(d){ee(h,d),i=!1},d(d){d&&he(l),a.d(),h&&h.d(d)}}}function ia(e,l,n){let{$$slots:t={},$$scope:r}=l;const i=new Bt("magicSquare/controlModule");let s;Dt.subscribe(c=>n(2,s=c));let{title:f=""}=l,{side:a=""}=l;return e.$$set=c=>{"title"in c&&n(0,f=c.title),"side"in c&&n(1,a=c.side),"$$scope"in c&&n(4,r=c.$$scope)},[f,a,s,i,r,t]}class ot extends ht{constructor(l){super(),pt(this,l,ia,ra,ft,{title:0,side:1})}}function _r(e,l,n){const t=e.slice();return t[16]=l[n],t}function dr(e){let l,n,t=e[6].t("left",e[3])+"",r,i,s,f=e[6].t("right",e[3])+"",a,c,h;return{c(){l=_("div"),n=_("button"),r=D(t),i=m(),s=_("button"),a=D(f),u(n,"class","side_set side_set_left svelte-31akgl"),ie(n,"side_set_left_selected",e[5]===e[4].left),u(s,"class","side_set side_set_right svelte-31akgl"),ie(s,"side_set_right_selected",e[5]===e[4].right),u(l,"class","module_selector_side_set flex")},m(d,g){de(d,l,g),o(l,n),o(n,r),o(l,i),o(l,s),o(s,a),c||(h=[P(n,"dblclick",e[10]),P(n,"click",e[11]),P(s,"dblclick",e[12]),P(s,"click",e[13])],c=!0)},p(d,g){g&8&&t!==(t=d[6].t("left",d[3])+"")&&H(r,t),g&48&&ie(n,"side_set_left_selected",d[5]===d[4].left),g&8&&f!==(f=d[6].t("right",d[3])+"")&&H(a,f),g&48&&ie(s,"side_set_right_selected",d[5]===d[4].right)},d(d){d&&he(l),c=!1,Qe(h)}}}function hr(e){let l,n=e[6].t(e[16],e[3])+"",t,r,i,s,f,a,c;function h(){return e[14](e[16])}function d(...g){return e[15](e[16],...g)}return{c(){l=_("button"),t=D(n),r=m(),i=_("input"),f=m(),u(i,"id",`mod_radio_${e[16]}`),i.value=e[16],u(i,"type","radio"),u(i,"name","wow"),i.checked=s=e[0]===e[16],u(i,"class","hidden_input svelte-31akgl"),u(l,"class","module_option svelte-31akgl"),ie(l,"selected_left",e[0]===e[16]),ie(l,"selected_right",e[1]===e[16]&&!e[2])},m(g,p){de(g,l,p),o(l,t),o(l,r),o(l,i),o(l,f),a||(c=[P(l,"click",h),P(l,"keydown",d)],a=!0)},p(g,p){e=g,p&8&&n!==(n=e[6].t(e[16],e[3])+"")&&H(t,n),p&1&&s!==(s=e[0]===e[16])&&(i.checked=s),p&1&&ie(l,"selected_left",e[0]===e[16]),p&6&&ie(l,"selected_right",e[1]===e[16]&&!e[2])},d(g){g&&he(l),a=!1,Qe(c)}}}function oa(e){let l,n,t=!e[2]&&dr(e),r=Object.values(Ae),i=[];for(let s=0;s<r.length;s+=1)i[s]=hr(_r(e,r,s));return{c(){l=_("div"),t&&t.c(),n=m();for(let s=0;s<i.length;s+=1)i[s].c();u(l,"class","module_selector h-full flex flex-col justify-around items-stretch svelte-31akgl")},m(s,f){de(s,l,f),t&&t.m(l,null),o(l,n);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,null)},p(s,[f]){if(s[2]?t&&(t.d(1),t=null):t?t.p(s,f):(t=dr(s),t.c(),t.m(l,n)),f&463){r=Object.values(Ae);let a;for(a=0;a<r.length;a+=1){const c=_r(s,r,a);i[a]?i[a].p(c,f):(i[a]=hr(c),i[a].c(),i[a].m(l,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=r.length}},i:dt,o:dt,d(s){s&&he(l),t&&t.d(),ut(i,s)}}}function sa(e,l,n){let t;Dt.subscribe(y=>n(3,t=y));let r=new Bt("magicSquare/select"),{curr_mod_left:i=Ae.color}=l,{curr_mod_right:s=Ae.rotation}=l,{small:f=!1}=l;var a;(function(y){y.left="left",y.right="right"})(a||(a={}));let c=a.left;function h(y,C){y.keyCode===13&&d(C)}function d(y){if(f){n(0,i=y);return}y===i||y===s||(c===a.left?n(0,i=y):n(1,s=y))}function g(){const y=JSON.parse(JSON.stringify(i));n(0,i=s),n(1,s=y)}const p=()=>g(),b=()=>n(5,c=a.left),B=()=>g(),A=()=>n(5,c=a.right),q=y=>d(y),E=(y,C)=>h(C,y);return e.$$set=y=>{"curr_mod_left"in y&&n(0,i=y.curr_mod_left),"curr_mod_right"in y&&n(1,s=y.curr_mod_right),"small"in y&&n(2,f=y.small)},[i,s,f,t,a,c,r,h,d,g,p,b,B,A,q,E]}class aa extends ht{constructor(l){super(),pt(this,l,sa,oa,ft,{curr_mod_left:0,curr_mod_right:1,small:2})}}const ua=e=>({}),pr=e=>({}),fa=e=>({}),vr=e=>({}),ca=e=>({}),gr=e=>({}),_a=e=>({}),mr=e=>({}),da=e=>({}),br=e=>({}),ha=e=>({}),wr=e=>({}),pa=e=>({}),kr=e=>({}),va=e=>({}),yr=e=>({}),ga=e=>({}),Sr=e=>({}),ma=e=>({}),Er=e=>({}),ba=e=>({}),jr=e=>({}),wa=e=>({}),Ar=e=>({}),ka=e=>({}),Pr=e=>({}),ya=e=>({}),Cr=e=>({});function Sa(e){let l,n;return l=new ot({props:{side:"left"}}),{c(){Re(l.$$.fragment)},m(t,r){Ne(l,t,r),n=!0},p:dt,i(t){n||(x(l.$$.fragment,t),n=!0)},o(t){ee(l.$$.fragment,t),n=!1},d(t){Ie(l,t)}}}function Ea(e){let l,n,t;function r(s){e[9](s)}let i={side:e[4].left,$$slots:{default:[qa]},$$scope:{ctx:e}};return e[6]!==void 0&&(i.title=e[6]),l=new ot({props:i}),Mt.push(()=>Xt(l,"title",r)),{c(){Re(l.$$.fragment)},m(s,f){Ne(l,s,f),t=!0},p(s,f){const a={};f&16&&(a.side=s[4].left),f&4096&&(a.$$scope={dirty:f,ctx:s}),!n&&f&64&&(n=!0,a.title=s[6],Yt(()=>n=!1)),l.$set(a)},i(s){t||(x(l.$$.fragment,s),t=!0)},o(s){ee(l.$$.fragment,s),t=!1},d(s){Ie(l,s)}}}function ja(e){let l,n;return l=new ot({props:{title:e[7].t(Ae.rotation,e[1]),side:e[4].left,$$slots:{default:[Da]},$$scope:{ctx:e}}}),{c(){Re(l.$$.fragment)},m(t,r){Ne(l,t,r),n=!0},p(t,r){const i={};r&2&&(i.title=t[7].t(Ae.rotation,t[1])),r&16&&(i.side=t[4].left),r&4096&&(i.$$scope={dirty:r,ctx:t}),l.$set(i)},i(t){n||(x(l.$$.fragment,t),n=!0)},o(t){ee(l.$$.fragment,t),n=!1},d(t){Ie(l,t)}}}function Aa(e){let l,n;return l=new ot({props:{title:e[7].t(Ae.presets,e[1]),side:e[4].left,$$slots:{default:[Ba]},$$scope:{ctx:e}}}),{c(){Re(l.$$.fragment)},m(t,r){Ne(l,t,r),n=!0},p(t,r){const i={};r&2&&(i.title=t[7].t(Ae.presets,t[1])),r&16&&(i.side=t[4].left),r&4096&&(i.$$scope={dirty:r,ctx:t}),l.$set(i)},i(t){n||(x(l.$$.fragment,t),n=!0)},o(t){ee(l.$$.fragment,t),n=!1},d(t){Ie(l,t)}}}function Pa(e){let l,n;return l=new ot({props:{title:e[7].t(Ae.geometry,e[1]),side:e[4].left,$$slots:{default:[Ra]},$$scope:{ctx:e}}}),{c(){Re(l.$$.fragment)},m(t,r){Ne(l,t,r),n=!0},p(t,r){const i={};r&2&&(i.title=t[7].t(Ae.geometry,t[1])),r&16&&(i.side=t[4].left),r&4096&&(i.$$scope={dirty:r,ctx:t}),l.$set(i)},i(t){n||(x(l.$$.fragment,t),n=!0)},o(t){ee(l.$$.fragment,t),n=!1},d(t){Ie(l,t)}}}function Ca(e){let l,n;return l=new ot({props:{title:e[7].t(Ae.lfo,e[1]),side:e[4].left,$$slots:{default:[Na]},$$scope:{ctx:e}}}),{c(){Re(l.$$.fragment)},m(t,r){Ne(l,t,r),n=!0},p(t,r){const i={};r&2&&(i.title=t[7].t(Ae.lfo,t[1])),r&16&&(i.side=t[4].left),r&4096&&(i.$$scope={dirty:r,ctx:t}),l.$set(i)},i(t){n||(x(l.$$.fragment,t),n=!0)},o(t){ee(l.$$.fragment,t),n=!1},d(t){Ie(l,t)}}}function Ta(e){let l,n;return l=new ot({props:{title:e[7].t(Ae.drawPattern,e[1]),side:e[4].left,$$slots:{default:[Ia]},$$scope:{ctx:e}}}),{c(){Re(l.$$.fragment)},m(t,r){Ne(l,t,r),n=!0},p(t,r){const i={};r&2&&(i.title=t[7].t(Ae.drawPattern,t[1])),r&16&&(i.side=t[4].left),r&4096&&(i.$$scope={dirty:r,ctx:t}),l.$set(i)},i(t){n||(x(l.$$.fragment,t),n=!0)},o(t){ee(l.$$.fragment,t),n=!1},d(t){Ie(l,t)}}}function Oa(e){let l,n;return l=new ot({props:{title:e[7].t(Ae.color,e[1]),side:e[4].left,$$slots:{default:[za]},$$scope:{ctx:e}}}),{c(){Re(l.$$.fragment)},m(t,r){Ne(l,t,r),n=!0},p(t,r){const i={};r&2&&(i.title=t[7].t(Ae.color,t[1])),r&16&&(i.side=t[4].left),r&4096&&(i.$$scope={dirty:r,ctx:t}),l.$set(i)},i(t){n||(x(l.$$.fragment,t),n=!0)},o(t){ee(l.$$.fragment,t),n=!1},d(t){Ie(l,t)}}}function qa(e){let l;const n=e[8].translation,t=Xe(n,e,e[12],yr);return{c(){t&&t.c()},m(r,i){t&&t.m(r,i),l=!0},p(r,i){t&&t.p&&(!l||i&4096)&&Ye(t,n,r,r[12],l?Fe(n,r[12],i,va):Le(r[12]),yr)},i(r){l||(x(t,r),l=!0)},o(r){ee(t,r),l=!1},d(r){t&&t.d(r)}}}function Da(e){let l;const n=e[8].rotation,t=Xe(n,e,e[12],Sr);return{c(){t&&t.c()},m(r,i){t&&t.m(r,i),l=!0},p(r,i){t&&t.p&&(!l||i&4096)&&Ye(t,n,r,r[12],l?Fe(n,r[12],i,ga):Le(r[12]),Sr)},i(r){l||(x(t,r),l=!0)},o(r){ee(t,r),l=!1},d(r){t&&t.d(r)}}}function Ba(e){let l;const n=e[8].presets,t=Xe(n,e,e[12],Er);return{c(){t&&t.c()},m(r,i){t&&t.m(r,i),l=!0},p(r,i){t&&t.p&&(!l||i&4096)&&Ye(t,n,r,r[12],l?Fe(n,r[12],i,ma):Le(r[12]),Er)},i(r){l||(x(t,r),l=!0)},o(r){ee(t,r),l=!1},d(r){t&&t.d(r)}}}function Ra(e){let l;const n=e[8].geometry,t=Xe(n,e,e[12],jr);return{c(){t&&t.c()},m(r,i){t&&t.m(r,i),l=!0},p(r,i){t&&t.p&&(!l||i&4096)&&Ye(t,n,r,r[12],l?Fe(n,r[12],i,ba):Le(r[12]),jr)},i(r){l||(x(t,r),l=!0)},o(r){ee(t,r),l=!1},d(r){t&&t.d(r)}}}function Na(e){let l;const n=e[8].lfo,t=Xe(n,e,e[12],Ar);return{c(){t&&t.c()},m(r,i){t&&t.m(r,i),l=!0},p(r,i){t&&t.p&&(!l||i&4096)&&Ye(t,n,r,r[12],l?Fe(n,r[12],i,wa):Le(r[12]),Ar)},i(r){l||(x(t,r),l=!0)},o(r){ee(t,r),l=!1},d(r){t&&t.d(r)}}}function Ia(e){let l;const n=e[8].drawPattern,t=Xe(n,e,e[12],Pr);return{c(){t&&t.c()},m(r,i){t&&t.m(r,i),l=!0},p(r,i){t&&t.p&&(!l||i&4096)&&Ye(t,n,r,r[12],l?Fe(n,r[12],i,ka):Le(r[12]),Pr)},i(r){l||(x(t,r),l=!0)},o(r){ee(t,r),l=!1},d(r){t&&t.d(r)}}}function za(e){let l;const n=e[8].color,t=Xe(n,e,e[12],Cr);return{c(){t&&t.c()},m(r,i){t&&t.m(r,i),l=!0},p(r,i){t&&t.p&&(!l||i&4096)&&Ye(t,n,r,r[12],l?Fe(n,r[12],i,ya):Le(r[12]),Cr)},i(r){l||(x(t,r),l=!0)},o(r){ee(t,r),l=!1},d(r){t&&t.d(r)}}}function Tr(e){let l,n,t,r;const i=[Va,Ua,Fa,La,Ya,Xa,Ma,Ha],s=[];function f(a,c){return a[3]===Ae.color?0:a[3]===Ae.drawPattern?1:a[3]===Ae.lfo?2:a[3]===Ae.geometry?3:a[3]===Ae.presets?4:a[3]===Ae.rotation?5:a[3]==Ae.translation?6:7}return n=f(e),t=s[n]=i[n](e),{c(){l=_("div"),t.c(),u(l,"class","right_slot svelte-18gxke5")},m(a,c){de(a,l,c),s[n].m(l,null),r=!0},p(a,c){let h=n;n=f(a),n===h?s[n].p(a,c):(St(),ee(s[h],1,1,()=>{s[h]=null}),Et(),t=s[n],t?t.p(a,c):(t=s[n]=i[n](a),t.c()),x(t,1),t.m(l,null))},i(a){r||(x(t),r=!0)},o(a){ee(t),r=!1},d(a){a&&he(l),s[n].d()}}}function Ha(e){let l,n;return l=new ot({props:{side:"right"}}),{c(){Re(l.$$.fragment)},m(t,r){Ne(l,t,r),n=!0},p:dt,i(t){n||(x(l.$$.fragment,t),n=!0)},o(t){ee(l.$$.fragment,t),n=!1},d(t){Ie(l,t)}}}function Ma(e){let l,n;return l=new ot({props:{title:e[7].t(Ae.translation,e[1]),side:e[4].right,$$slots:{default:[Ga]},$$scope:{ctx:e}}}),{c(){Re(l.$$.fragment)},m(t,r){Ne(l,t,r),n=!0},p(t,r){const i={};r&2&&(i.title=t[7].t(Ae.translation,t[1])),r&16&&(i.side=t[4].right),r&4096&&(i.$$scope={dirty:r,ctx:t}),l.$set(i)},i(t){n||(x(l.$$.fragment,t),n=!0)},o(t){ee(l.$$.fragment,t),n=!1},d(t){Ie(l,t)}}}function Xa(e){let l,n;return l=new ot({props:{title:e[7].t(Ae.rotation,e[1]),side:e[4].right,$$slots:{default:[Ja]},$$scope:{ctx:e}}}),{c(){Re(l.$$.fragment)},m(t,r){Ne(l,t,r),n=!0},p(t,r){const i={};r&2&&(i.title=t[7].t(Ae.rotation,t[1])),r&16&&(i.side=t[4].right),r&4096&&(i.$$scope={dirty:r,ctx:t}),l.$set(i)},i(t){n||(x(l.$$.fragment,t),n=!0)},o(t){ee(l.$$.fragment,t),n=!1},d(t){Ie(l,t)}}}function Ya(e){let l,n;return l=new ot({props:{title:e[7].t(Ae.presets,e[1]),side:e[4].right,$$slots:{default:[$a]},$$scope:{ctx:e}}}),{c(){Re(l.$$.fragment)},m(t,r){Ne(l,t,r),n=!0},p(t,r){const i={};r&2&&(i.title=t[7].t(Ae.presets,t[1])),r&16&&(i.side=t[4].right),r&4096&&(i.$$scope={dirty:r,ctx:t}),l.$set(i)},i(t){n||(x(l.$$.fragment,t),n=!0)},o(t){ee(l.$$.fragment,t),n=!1},d(t){Ie(l,t)}}}function La(e){let l,n;return l=new ot({props:{title:e[7].t(Ae.geometry,e[1]),side:e[4].right,$$slots:{default:[Wa]},$$scope:{ctx:e}}}),{c(){Re(l.$$.fragment)},m(t,r){Ne(l,t,r),n=!0},p(t,r){const i={};r&2&&(i.title=t[7].t(Ae.geometry,t[1])),r&16&&(i.side=t[4].right),r&4096&&(i.$$scope={dirty:r,ctx:t}),l.$set(i)},i(t){n||(x(l.$$.fragment,t),n=!0)},o(t){ee(l.$$.fragment,t),n=!1},d(t){Ie(l,t)}}}function Fa(e){let l,n;return l=new ot({props:{title:e[7].t(Ae.lfo,e[1]),side:e[4].right,$$slots:{default:[Ka]},$$scope:{ctx:e}}}),{c(){Re(l.$$.fragment)},m(t,r){Ne(l,t,r),n=!0},p(t,r){const i={};r&2&&(i.title=t[7].t(Ae.lfo,t[1])),r&16&&(i.side=t[4].right),r&4096&&(i.$$scope={dirty:r,ctx:t}),l.$set(i)},i(t){n||(x(l.$$.fragment,t),n=!0)},o(t){ee(l.$$.fragment,t),n=!1},d(t){Ie(l,t)}}}function Ua(e){let l,n;return l=new ot({props:{title:e[7].t(Ae.drawPattern,e[1]),side:e[4].right,$$slots:{default:[Za]},$$scope:{ctx:e}}}),{c(){Re(l.$$.fragment)},m(t,r){Ne(l,t,r),n=!0},p(t,r){const i={};r&2&&(i.title=t[7].t(Ae.drawPattern,t[1])),r&16&&(i.side=t[4].right),r&4096&&(i.$$scope={dirty:r,ctx:t}),l.$set(i)},i(t){n||(x(l.$$.fragment,t),n=!0)},o(t){ee(l.$$.fragment,t),n=!1},d(t){Ie(l,t)}}}function Va(e){let l,n;return l=new ot({props:{title:e[7].t(Ae.color,e[1]),side:e[4].right,$$slots:{default:[Qa]},$$scope:{ctx:e}}}),{c(){Re(l.$$.fragment)},m(t,r){Ne(l,t,r),n=!0},p(t,r){const i={};r&2&&(i.title=t[7].t(Ae.color,t[1])),r&16&&(i.side=t[4].right),r&4096&&(i.$$scope={dirty:r,ctx:t}),l.$set(i)},i(t){n||(x(l.$$.fragment,t),n=!0)},o(t){ee(l.$$.fragment,t),n=!1},d(t){Ie(l,t)}}}function Ga(e){let l;const n=e[8].translation,t=Xe(n,e,e[12],pr);return{c(){t&&t.c()},m(r,i){t&&t.m(r,i),l=!0},p(r,i){t&&t.p&&(!l||i&4096)&&Ye(t,n,r,r[12],l?Fe(n,r[12],i,ua):Le(r[12]),pr)},i(r){l||(x(t,r),l=!0)},o(r){ee(t,r),l=!1},d(r){t&&t.d(r)}}}function Ja(e){let l;const n=e[8].rotation,t=Xe(n,e,e[12],vr);return{c(){t&&t.c()},m(r,i){t&&t.m(r,i),l=!0},p(r,i){t&&t.p&&(!l||i&4096)&&Ye(t,n,r,r[12],l?Fe(n,r[12],i,fa):Le(r[12]),vr)},i(r){l||(x(t,r),l=!0)},o(r){ee(t,r),l=!1},d(r){t&&t.d(r)}}}function $a(e){let l;const n=e[8].presets,t=Xe(n,e,e[12],gr);return{c(){t&&t.c()},m(r,i){t&&t.m(r,i),l=!0},p(r,i){t&&t.p&&(!l||i&4096)&&Ye(t,n,r,r[12],l?Fe(n,r[12],i,ca):Le(r[12]),gr)},i(r){l||(x(t,r),l=!0)},o(r){ee(t,r),l=!1},d(r){t&&t.d(r)}}}function Wa(e){let l;const n=e[8].geometry,t=Xe(n,e,e[12],mr);return{c(){t&&t.c()},m(r,i){t&&t.m(r,i),l=!0},p(r,i){t&&t.p&&(!l||i&4096)&&Ye(t,n,r,r[12],l?Fe(n,r[12],i,_a):Le(r[12]),mr)},i(r){l||(x(t,r),l=!0)},o(r){ee(t,r),l=!1},d(r){t&&t.d(r)}}}function Ka(e){let l;const n=e[8].lfo,t=Xe(n,e,e[12],br);return{c(){t&&t.c()},m(r,i){t&&t.m(r,i),l=!0},p(r,i){t&&t.p&&(!l||i&4096)&&Ye(t,n,r,r[12],l?Fe(n,r[12],i,da):Le(r[12]),br)},i(r){l||(x(t,r),l=!0)},o(r){ee(t,r),l=!1},d(r){t&&t.d(r)}}}function Za(e){let l;const n=e[8].drawPattern,t=Xe(n,e,e[12],wr);return{c(){t&&t.c()},m(r,i){t&&t.m(r,i),l=!0},p(r,i){t&&t.p&&(!l||i&4096)&&Ye(t,n,r,r[12],l?Fe(n,r[12],i,ha):Le(r[12]),wr)},i(r){l||(x(t,r),l=!0)},o(r){ee(t,r),l=!1},d(r){t&&t.d(r)}}}function Qa(e){let l;const n=e[8].color,t=Xe(n,e,e[12],kr);return{c(){t&&t.c()},m(r,i){t&&t.m(r,i),l=!0},p(r,i){t&&t.p&&(!l||i&4096)&&Ye(t,n,r,r[12],l?Fe(n,r[12],i,pa):Le(r[12]),kr)},i(r){l||(x(t,r),l=!0)},o(r){ee(t,r),l=!1},d(r){t&&t.d(r)}}}function xa(e){let l,n,t,r;function i(a){e[10](a)}function s(a){e[11](a)}let f={small:e[0]};return e[2]!==void 0&&(f.curr_mod_left=e[2]),e[3]!==void 0&&(f.curr_mod_right=e[3]),l=new aa({props:f}),Mt.push(()=>Xt(l,"curr_mod_left",i)),Mt.push(()=>Xt(l,"curr_mod_right",s)),{c(){Re(l.$$.fragment)},m(a,c){Ne(l,a,c),r=!0},p(a,c){const h={};c&1&&(h.small=a[0]),!n&&c&4&&(n=!0,h.curr_mod_left=a[2],Yt(()=>n=!1)),!t&&c&8&&(t=!0,h.curr_mod_right=a[3],Yt(()=>t=!1)),l.$set(h)},i(a){r||(x(l.$$.fragment,a),r=!0)},o(a){ee(l.$$.fragment,a),r=!1},d(a){Ie(l,a)}}}function eu(e){let l,n,t,r,i,s,f,a,c,h,d,g,p;const b=[Oa,Ta,Ca,Pa,Aa,ja,Ea,Sa],B=[];function A(E,y){return E[2]===Ae.color?0:E[2]===Ae.drawPattern?1:E[2]===Ae.lfo?2:E[2]===Ae.geometry?3:E[2]===Ae.presets?4:E[2]===Ae.rotation?5:E[2]===Ae.translation?6:7}f=A(e),a=B[f]=b[f](e);let q=!e[0]&&Tr(e);return g=new ot({props:{title:e[7].t("modules",e[1]),$$slots:{default:[xa]},$$scope:{ctx:e}}}),{c(){l=_("div"),n=_("div"),t=D(e[5]),r=m(),i=_("div"),s=_("div"),a.c(),c=m(),q&&q.c(),h=m(),d=_("div"),Re(g.$$.fragment),u(n,"class","hidden svelte-18gxke5"),u(s,"class","left_slot svelte-18gxke5"),u(i,"class","svelte-18gxke5"),ie(i,"slot_grid_1",e[0]),ie(i,"slot_grid_2",!e[0]),u(d,"class","mod_select svelte-18gxke5"),u(l,"id","magic_square_control_rack"),u(l,"class","magic_square_control_rack svelte-18gxke5"),ie(l,"grid_col",e[0]),ie(l,"grid_row",!e[0])},m(E,y){de(E,l,y),o(l,n),o(n,t),o(l,r),o(l,i),o(i,s),B[f].m(s,null),o(i,c),q&&q.m(i,null),o(l,h),o(l,d),Ne(g,d,null),p=!0},p(E,[y]){(!p||y&32)&&H(t,E[5]);let C=f;f=A(E),f===C?B[f].p(E,y):(St(),ee(B[C],1,1,()=>{B[C]=null}),Et(),a=B[f],a?a.p(E,y):(a=B[f]=b[f](E),a.c()),x(a,1),a.m(s,null)),E[0]?q&&(St(),ee(q,1,1,()=>{q=null}),Et()):q?(q.p(E,y),y&1&&x(q,1)):(q=Tr(E),q.c(),x(q,1),q.m(i,null)),(!p||y&1)&&ie(i,"slot_grid_1",E[0]),(!p||y&1)&&ie(i,"slot_grid_2",!E[0]);const k={};y&2&&(k.title=E[7].t("modules",E[1])),y&4109&&(k.$$scope={dirty:y,ctx:E}),g.$set(k),(!p||y&1)&&ie(l,"grid_col",E[0]),(!p||y&1)&&ie(l,"grid_row",!E[0])},i(E){p||(x(a),x(q),x(g.$$.fragment,E),p=!0)},o(E){ee(a),ee(q),ee(g.$$.fragment,E),p=!1},d(E){E&&he(l),B[f].d(),q&&q.d(),Ie(g)}}}function tu(e,l){const n={curr_mod_left:e,curr_mod_right:l};return e&&l&&localStorage.setItem("magic_square_curr_mods",JSON.stringify(n)),n}function lu(e,l,n){let t,r,{$$slots:i={},$$scope:s}=l;const f=new Bt("magicSquare/controlRack");let a;Dt.subscribe(A=>n(1,a=A));let{small:c=!1}=l;var h;(function(A){A.left="left",A.right="right"})(h||(h={}));let d,g;gn(()=>{const A=JSON.parse(localStorage.getItem("magic_square_curr_mods"));A?(n(2,d=fr(A.curr_mod_left)),n(3,g=fr(A.curr_mod_right))):(n(2,d=Ae.presets),n(3,g=Ae.color))});function p(A){t=A,n(6,t),n(1,a)}function b(A){d=A,n(2,d)}function B(A){g=A,n(3,g)}return e.$$set=A=>{"small"in A&&n(0,c=A.small),"$$scope"in A&&n(12,s=A.$$scope)},e.$$.update=()=>{e.$$.dirty&2&&n(6,t=f.t(Ae.translation,a)),e.$$.dirty&12&&n(5,r=tu(d,g))},[c,a,d,g,h,r,t,f,i,p,b,B,s]}class nu extends ht{constructor(l){super(),pt(this,l,lu,eu,ft,{small:0})}}var wt=(e=>(e.misc="Misc",e.ngon="Ngon",e.platoThree="PlatoThree",e))(wt||{});function ru(e){return{t:e.t,c:e.c}}const iu=e=>({}),Or=e=>({});function qr(e,l,n){const t=e.slice();return t[23]=l[n],t[25]=n,t}function Dr(e,l,n){const t=e.slice();return t[23]=l[n],t[25]=n,t}function Br(e,l,n){const t=e.slice();return t[23]=l[n],t[28]=n,t}const ou=e=>({}),Rr=e=>({});function Nr(e){let l,n=e[28]+1+"",t,r,i,s;function f(...a){return e[14](e[28],...a)}return{c(){l=_("button"),t=D(n),r=m(),u(l,"class","flex justify-around items-center svelte-zwvmgv"),ie(l,"selected",e[1]===e[28])},m(a,c){de(a,l,c),o(l,t),o(l,r),i||(s=P(l,"click",f),i=!0)},p(a,c){e=a,c&2&&ie(l,"selected",e[1]===e[28])},d(a){a&&he(l),i=!1,s()}}}function Ir(e){let l,n=e[25]+1+"",t,r,i;return{c(){l=_("option"),t=D(n),r=m(),l.selected=i=e[2]===e[25],l.__value=e[25],l.value=l.__value},m(s,f){de(s,l,f),o(l,t),o(l,r)},p(s,f){f&4&&i!==(i=s[2]===s[25])&&(l.selected=i)},d(s){s&&he(l)}}}function zr(e){let l,n=e[25]+1+"",t,r,i;return{c(){l=_("option"),t=D(n),r=m(),l.selected=i=e[3]===e[25],l.__value=e[25],l.value=l.__value},m(s,f){de(s,l,f),o(l,t),o(l,r)},p(s,f){f&8&&i!==(i=s[3]===s[25])&&(l.selected=i)},d(s){s&&he(l)}}}function su(e){let l,n,t,r=e[6].t("shape",e[4])+"",i,s,f,a,c,h,d,g,p,b=e[6].t("star",e[4])+"",B,A,q,E=e[6].t("coolS",e[4])+"",y,C,k,v,I=e[6].t("ngon",e[4])+"",R,S,O,J,T,w=e[6].t("tetrahedron",e[4])+"",W,N,X,V=e[6].t("cube",e[4])+"",j,ce,oe,Q=e[6].t("octahedron",e[4])+"",ue,ne,te,be=e[6].t("dodecahedron",e[4])+"",ge,G,se,F=e[6].t("icosahedron",e[4])+"",K,fe,Pe,z,Z,Ee,Oe,_e,U,ke,L,pe,$e,Je,ze,qe=e[6].t("range",e[4])+"",De,Ge,ye,we,Y,ve,Ve,Ke=e[6].t("radius",e[4])+"",Pt,vt,Ct,He,Rt,Wt;const Lt=e[13].shapes,tt=Xe(Lt,e,e[12],Rr);let jt={length:16},lt=[];for(let le=0;le<jt.length;le+=1)lt[le]=Nr(Br(e,jt,le));let Nt={length:16},Ze=[];for(let le=0;le<Nt.length;le+=1)Ze[le]=Ir(Dr(e,Nt,le));let At={length:16},nt=[];for(let le=0;le<At.length;le+=1)nt[le]=zr(qr(e,At,le));const Kt=e[13].radiusSliders,rt=Xe(Kt,e,e[12],Or);return{c(){l=_("div"),n=_("div"),t=_("div"),i=D(r),s=m(),tt&&tt.c(),f=m(),a=_("div");for(let le=0;le<lt.length;le+=1)lt[le].c();c=m(),h=_("div"),d=_("select"),g=_("optgroup"),p=_("option"),B=D(b),A=m(),q=_("option"),y=D(E),C=m(),k=_("optgroup"),v=_("option"),R=D(I),S=m(),J=_("optgroup"),T=_("option"),W=D(w),N=m(),X=_("option"),j=D(V),ce=m(),oe=_("option"),ue=D(Q),ne=m(),te=_("option"),ge=D(be),G=m(),se=_("option"),K=D(F),Pe=m(),z=_("div"),Z=_("label"),Ee=_("div"),Ee.textContent="n",Oe=m(),_e=_("div"),U=D(e[5]),ke=m(),L=_("input"),$e=m(),Je=_("div"),ze=_("button"),De=D(qe),Ge=m(),ye=_("select");for(let le=0;le<Ze.length;le+=1)Ze[le].c();we=m(),Y=_("select");for(let le=0;le<nt.length;le+=1)nt[le].c();ve=m(),Ve=_("div"),Pt=D(Ke),vt=m(),Ct=_("div"),rt&&rt.c(),u(t,"class","title flex items-stretch pl-5 underline svelte-zwvmgv"),u(a,"class","grow pt-2 pl-5 pr-5 grid grid-cols-4 grid-rows-4 gap-0"),p.__value=JSON.stringify({t:wt.misc,c:0}),p.value=p.__value,q.__value=JSON.stringify({t:wt.misc,c:1}),q.value=q.__value,u(g,"label","Misc."),u(v,"label","Ngon"),v.__value=O=JSON.stringify({t:wt.ngon,c:e[5]}),v.value=v.__value,u(k,"label","2d"),T.__value=JSON.stringify({t:wt.platoThree,c:4}),T.value=T.__value,X.__value=JSON.stringify({t:wt.platoThree,c:6}),X.value=X.__value,oe.__value=JSON.stringify({t:wt.platoThree,c:8}),oe.value=oe.__value,te.__value=JSON.stringify({t:wt.platoThree,c:12}),te.value=te.__value,se.__value=JSON.stringify({t:wt.platoThree,c:20}),se.value=se.__value,u(J,"label","3d"),u(d,"id","magic_square_shape_select"),u(d,"class","col-span-3 shape_select svelte-zwvmgv"),u(h,"class","pt-5 pl-5 pr-5 grid grid-cols-4"),u(Z,"class","slider_label flex justify-between svelte-zwvmgv"),u(Z,"for","ngon_n"),ie(Z,"disabled",e[0][e[1]].t!==wt.ngon),u(L,"id","ngon_n"),L.disabled=pe=e[0][e[1]].t!==wt.ngon,u(L,"type","range"),u(L,"min",3),u(L,"max",30),u(L,"step",1),u(z,"class","pl-5 pr-5 flex flex-col justify-between items-stretch"),u(ze,"class","col-span-2 flex justify-around items-center"),u(ye,"class","flex justify-around items-center"),e[2]===void 0&&Vl(()=>e[16].call(ye)),u(Y,"class","flex justify-around items-center"),e[3]===void 0&&Vl(()=>e[18].call(Y)),u(Je,"class","pt-5 pr-5 pl-5 grid grid-cols-4 grid-rows-1 gap-2"),u(n,"class","grow flex flex-col justify-between items-stretch"),u(Ve,"class","title flex items-stretch pl-5 underline svelte-zwvmgv"),u(Ct,"class","grow flex flex-col justify-between items-stretch"),u(l,"class","h-full flex flex-col justify-between items-stretch gap-2")},m(le,Be){de(le,l,Be),o(l,n),o(n,t),o(t,i),o(n,s),tt&&tt.m(n,null),o(n,f),o(n,a);for(let me=0;me<lt.length;me+=1)lt[me]&&lt[me].m(a,null);o(n,c),o(n,h),o(h,d),o(d,g),o(g,p),o(p,B),o(p,A),o(g,q),o(q,y),o(q,C),o(d,k),o(k,v),o(v,R),o(v,S),o(d,J),o(J,T),o(T,W),o(T,N),o(J,X),o(X,j),o(X,ce),o(J,oe),o(oe,ue),o(oe,ne),o(J,te),o(te,ge),o(te,G),o(J,se),o(se,K),at(d,JSON.stringify({t:e[0][e[1]].t,c:e[5]})),o(n,Pe),o(n,z),o(z,Z),o(Z,Ee),o(Z,Oe),o(Z,_e),o(_e,U),o(z,ke),o(z,L),re(L,e[5]),o(n,$e),o(n,Je),o(Je,ze),o(ze,De),o(Je,Ge),o(Je,ye);for(let me=0;me<Ze.length;me+=1)Ze[me]&&Ze[me].m(ye,null);at(ye,e[2],!0),o(Je,we),o(Je,Y);for(let me=0;me<nt.length;me+=1)nt[me]&&nt[me].m(Y,null);at(Y,e[3],!0),o(l,ve),o(l,Ve),o(Ve,Pt),o(l,vt),o(l,Ct),rt&&rt.m(Ct,null),He=!0,Rt||(Wt=[P(d,"input",au),P(d,"change",e[8]),P(L,"change",e[15]),P(L,"input",e[15]),P(L,"input",e[11]),P(ze,"click",e[10]),P(ye,"change",e[16]),P(ye,"input",uu),P(ye,"change",e[17]),P(Y,"change",e[18]),P(Y,"input",fu),P(Y,"change",e[19])],Rt=!0)},p(le,[Be]){if((!He||Be&16)&&r!==(r=le[6].t("shape",le[4])+"")&&H(i,r),tt&&tt.p&&(!He||Be&4096)&&Ye(tt,Lt,le,le[12],He?Fe(Lt,le[12],Be,ou):Le(le[12]),Rr),Be&130){jt={length:16};let me;for(me=0;me<jt.length;me+=1){const ct=Br(le,jt,me);lt[me]?lt[me].p(ct,Be):(lt[me]=Nr(ct),lt[me].c(),lt[me].m(a,null))}for(;me<lt.length;me+=1)lt[me].d(1);lt.length=jt.length}if((!He||Be&16)&&b!==(b=le[6].t("star",le[4])+"")&&H(B,b),(!He||Be&16)&&E!==(E=le[6].t("coolS",le[4])+"")&&H(y,E),(!He||Be&16)&&I!==(I=le[6].t("ngon",le[4])+"")&&H(R,I),(!He||Be&32&&O!==(O=JSON.stringify({t:wt.ngon,c:le[5]})))&&(v.__value=O,v.value=v.__value),(!He||Be&16)&&w!==(w=le[6].t("tetrahedron",le[4])+"")&&H(W,w),(!He||Be&16)&&V!==(V=le[6].t("cube",le[4])+"")&&H(j,V),(!He||Be&16)&&Q!==(Q=le[6].t("octahedron",le[4])+"")&&H(ue,Q),(!He||Be&16)&&be!==(be=le[6].t("dodecahedron",le[4])+"")&&H(ge,be),(!He||Be&16)&&F!==(F=le[6].t("icosahedron",le[4])+"")&&H(K,F),(!He||Be&35&&fe!==(fe=JSON.stringify({t:le[0][le[1]].t,c:le[5]})))&&at(d,JSON.stringify({t:le[0][le[1]].t,c:le[5]})),(!He||Be&32)&&H(U,le[5]),(!He||Be&3)&&ie(Z,"disabled",le[0][le[1]].t!==wt.ngon),(!He||Be&35&&pe!==(pe=le[0][le[1]].t!==wt.ngon))&&(L.disabled=pe),Be&32&&re(L,le[5]),(!He||Be&16)&&qe!==(qe=le[6].t("range",le[4])+"")&&H(De,qe),Be&4){Nt={length:16};let me;for(me=0;me<Nt.length;me+=1){const ct=Dr(le,Nt,me);Ze[me]?Ze[me].p(ct,Be):(Ze[me]=Ir(ct),Ze[me].c(),Ze[me].m(ye,null))}for(;me<Ze.length;me+=1)Ze[me].d(1);Ze.length=Nt.length}if(Be&4&&at(ye,le[2]),Be&8){At={length:16};let me;for(me=0;me<At.length;me+=1){const ct=qr(le,At,me);nt[me]?nt[me].p(ct,Be):(nt[me]=zr(ct),nt[me].c(),nt[me].m(Y,null))}for(;me<nt.length;me+=1)nt[me].d(1);nt.length=At.length}Be&8&&at(Y,le[3]),(!He||Be&16)&&Ke!==(Ke=le[6].t("radius",le[4])+"")&&H(Pt,Ke),rt&&rt.p&&(!He||Be&4096)&&Ye(rt,Kt,le,le[12],He?Fe(Kt,le[12],Be,iu):Le(le[12]),Or)},i(le){He||(x(tt,le),x(rt,le),He=!0)},o(le){ee(tt,le),ee(rt,le),He=!1},d(le){le&&he(l),tt&&tt.d(le),ut(lt,le),ut(Ze,le),ut(nt,le),rt&&rt.d(le),Rt=!1,Qe(Wt)}}}const au=e=>e.stopPropagation(),uu=e=>e.stopPropagation(),fu=e=>e.stopPropagation();function cu(e,l,n){let t,r,{$$slots:i={},$$scope:s}=l,f;Dt.subscribe(S=>n(4,f=S));let a=new Bt("magicSquare/geometry"),{shapes:c}=l,h=0,d=c[h].c,g=0,p=4;function b(S,O){S.stopPropagation(),n(1,h=O),n(5,d=c[h].c);var J=document.getElementById("magic_square_shape_select");J.value=JSON.stringify({t:c[h].t,c:d})}function B(S){S.stopPropagation();var O=document.getElementById(M.shapes);const J=JSON.parse(S.target.value);n(0,c[h]=J,c),n(0,c=[...c]),n(5,d=J.c),O.value=JSON.stringify({shape:{t:J.t,c:d},index:h}),O.dispatchEvent(new Event("input",{bubbles:!0}))}function A(S,O){switch(S.stopPropagation(),O){case"a":n(2,g=parseInt(S.target.value));break;case"b":n(3,p=parseInt(S.target.value));break}}function q(){let S=r-t,O=document.getElementById(M.shapes);if(S){const J=c[h];c.forEach((T,w)=>{w>=t&&w<=r&&(n(0,c[w]=J,c),n(0,c=[...c]),O.value=JSON.stringify({shape:c[h],index:w}),O.dispatchEvent(new Event("input",{bubbles:!0})))})}}function E(){n(0,c[h].c=d,c),n(0,c=[...c]);var S=document.getElementById(M.shapes);S.value=JSON.stringify({shape:c[h],index:h}),S.dispatchEvent(new Event("input",{bubbles:!0}))}const y=(S,O)=>b(O,S);function C(){d=Me(this.value),n(5,d)}function k(){g=cn(this),n(2,g)}const v=S=>A(S,"a");function I(){p=cn(this),n(3,p)}const R=S=>A(S,"b");return e.$$set=S=>{"shapes"in S&&n(0,c=S.shapes),"$$scope"in S&&n(12,s=S.$$scope)},e.$$.update=()=>{e.$$.dirty&3&&JSON.stringify({shape:c[h],index:h}),e.$$.dirty&12&&(t=g<p?g:p),e.$$.dirty&12&&(r=g>p?g:p)},[c,h,g,p,f,d,a,b,B,A,q,E,s,i,y,C,k,v,I,R]}class _u extends ht{constructor(l){super(),pt(this,l,cu,su,ft,{shapes:0})}}var Se=(e=>(e.one="1",e.two="2",e.three="3",e.four="4",e))(Se||{}),xe=(e=>(e.pitchBase="PitchBase",e.pitchSpread="PitchSpread",e.pitchX="PitchX",e.pitchY="PitchY",e.rollBase="RollBase",e.rollSpread="RollSpread",e.rollX="RollX",e.rollY="RollY",e.yawBase="YawBase",e.yawSpread="YawSpread",e.yawX="YawX",e.yawY="YawY",e.radiusBase="RadiusBase",e.radiusStep="RadiusStep",e.translationXBase="TranslationXBase",e.translationXSpread="TranslationXSpread",e.translationYBase="TranslationYBase",e.translationYSpread="TranslationYSpread",e.none="None",e))(xe||{});function an(e){switch(e){case"PitchBase":return"PitchBase";case"PitchSpread":return"PitchSpread";case"PitchX":return"PitchX";case"PitchY":return"PitchY";case"RollBase":return"RollBase";case"RollSpread":return"RollSpread";case"RollX":return"RollX";case"RollY":return"RollY";case"YawBase":return"YawBase";case"YawSpread":return"YawSpread";case"YawX":return"YawX";case"YawY":return"YawY";case"RadiusBase":return"RadiusBase";case"RadiusStep":return"RadiusStep";case"TranslationXBase":return"TranslationXBase";case"TranslationXSpread":return"TranslationXSpread";case"TranslationYBase":return"TranslationYBase";case"translationYSpread":return"TranslationYSpread";default:return"None"}}var dl=(e=>(e.linear="Linear",e.sine="Sine",e))(dl||{});function un(e){switch(e){case"Linear":return"Linear";default:return"Sine"}}const du=e=>({}),Hr=e=>({}),hu=e=>({}),Mr=e=>({}),pu=e=>({}),Xr=e=>({}),vu=e=>({}),Yr=e=>({});function gu(e){let l;const n=e[20].lfo4,t=Xe(n,e,e[19],Hr);return{c(){t&&t.c()},m(r,i){t&&t.m(r,i),l=!0},p(r,i){t&&t.p&&(!l||i&524288)&&Ye(t,n,r,r[19],l?Fe(n,r[19],i,du):Le(r[19]),Hr)},i(r){l||(x(t,r),l=!0)},o(r){ee(t,r),l=!1},d(r){t&&t.d(r)}}}function mu(e){let l;const n=e[20].lfo3,t=Xe(n,e,e[19],Mr);return{c(){t&&t.c()},m(r,i){t&&t.m(r,i),l=!0},p(r,i){t&&t.p&&(!l||i&524288)&&Ye(t,n,r,r[19],l?Fe(n,r[19],i,hu):Le(r[19]),Mr)},i(r){l||(x(t,r),l=!0)},o(r){ee(t,r),l=!1},d(r){t&&t.d(r)}}}function bu(e){let l;const n=e[20].lfo2,t=Xe(n,e,e[19],Xr);return{c(){t&&t.c()},m(r,i){t&&t.m(r,i),l=!0},p(r,i){t&&t.p&&(!l||i&524288)&&Ye(t,n,r,r[19],l?Fe(n,r[19],i,pu):Le(r[19]),Xr)},i(r){l||(x(t,r),l=!0)},o(r){ee(t,r),l=!1},d(r){t&&t.d(r)}}}function wu(e){let l;const n=e[20].lfo1,t=Xe(n,e,e[19],Yr);return{c(){t&&t.c()},m(r,i){t&&t.m(r,i),l=!0},p(r,i){t&&t.p&&(!l||i&524288)&&Ye(t,n,r,r[19],l?Fe(n,r[19],i,vu):Le(r[19]),Yr)},i(r){l||(x(t,r),l=!0)},o(r){ee(t,r),l=!1},d(r){t&&t.d(r)}}}function ku(e){let l,n,t,r,i,s,f=e[12].t(rl(e[1]),e[9])+"",a,c,h,d,g,p,b=e[12].t(rl(e[3]),e[9])+"",B,A,q,E,y,C,k=e[12].t(rl(e[5]),e[9])+"",v,I,R,S,O,J,T=e[12].t(rl(e[7]),e[9])+"",w,W,N,X,V,j,ce,oe=e[12].t("destination",e[9])+"",Q,ue,ne,te,be,ge=e[12].t("pitchBase",e[9])+"",G,se,F,K=e[12].t("pitchSpread",e[9])+"",fe,Pe,z,Z=e[12].t("pitchX",e[9])+"",Ee,Oe,_e,U=e[12].t("pitchY",e[9])+"",ke,L,pe,$e=e[12].t("rollBase",e[9])+"",Je,ze,qe,De=e[12].t("rollSpread",e[9])+"",Ge,ye,we,Y=e[12].t("rollX",e[9])+"",ve,Ve,Ke,Pt=e[12].t("rollY",e[9])+"",vt,Ct,He,Rt=e[12].t("yawBase",e[9])+"",Wt,Lt,tt,jt=e[12].t("yawSpread",e[9])+"",lt,Nt,Ze,At=e[12].t("yawX",e[9])+"",nt,Kt,rt,le=e[12].t("yawY",e[9])+"",Be,me,ct,Zt,Ft,vl=e[12].t("radiusBase",e[9])+"",Tl,Gl,Ut,gl=e[12].t("radiusStep",e[9])+"",Ol,Jl,ml,zt,Vt,bl=e[12].t("xBase",e[9])+"",ql,$l,Gt,wl=e[12].t("xSpread",e[9])+"",Dl,Wl,Jt,kl=e[12].t("yBase",e[9])+"",Bl,Kl,Qt,yl=e[12].t("ySpread",e[9])+"",Rl,Sl,Zl,it,st,Nl,xt,sl,Il,El=e[12].t("shape",e[9])+"",zl,Ql,It,el,xl,tl,en,Te,Hl,tn;const ln=[wu,bu,mu,gu],Ht=[];function nn(ae,Ce){return ae[8]===Se.one?0:ae[8]===Se.two?1:ae[8]===Se.three?2:ae[8]===Se.four?3:-1}return~(it=nn(e))&&(st=Ht[it]=ln[it](e)),{c(){l=_("div"),n=_("div"),t=_("button"),r=_("p"),r.textContent=`${Se.one}`,i=m(),s=_("p"),a=D(f),c=m(),h=_("button"),d=_("p"),d.textContent=`${Se.two}`,g=m(),p=_("p"),B=D(b),A=m(),q=_("button"),E=_("p"),E.textContent=`${Se.three}`,y=m(),C=_("p"),v=D(k),I=m(),R=_("button"),S=_("p"),S.textContent=`${Se.four}`,O=m(),J=_("p"),w=D(T),W=m(),N=_("div"),X=_("div"),V=_("div"),j=_("label"),ce=_("div"),Q=D(oe),ue=m(),ne=_("select"),te=_("optgroup"),be=_("option"),G=D(ge),se=m(),F=_("option"),fe=D(K),Pe=m(),z=_("option"),Ee=D(Z),Oe=m(),_e=_("option"),ke=D(U),L=m(),pe=_("option"),Je=D($e),ze=m(),qe=_("option"),Ge=D(De),ye=m(),we=_("option"),ve=D(Y),Ve=m(),Ke=_("option"),vt=D(Pt),Ct=m(),He=_("option"),Wt=D(Rt),Lt=m(),tt=_("option"),lt=D(jt),Nt=m(),Ze=_("option"),nt=D(At),Kt=m(),rt=_("option"),Be=D(le),me=m(),Zt=_("optgroup"),Ft=_("option"),Tl=D(vl),Gl=m(),Ut=_("option"),Ol=D(gl),Jl=m(),zt=_("optgroup"),Vt=_("option"),ql=D(bl),$l=m(),Gt=_("option"),Dl=D(wl),Wl=m(),Jt=_("option"),Bl=D(kl),Kl=m(),Qt=_("option"),Rl=D(yl),Zl=m(),st&&st.c(),Nl=m(),xt=_("div"),sl=_("label"),Il=_("div"),zl=D(El),Ql=m(),It=_("select"),el=_("option"),xl=D(`Linear 
          `),tl=_("option"),en=D("Sine"),u(s,"class","col-span-4"),u(t,"class","grid grid-cols-5 ml-5 mr-5 text-sm border-4 rounded-xl svelte-xz098x"),ie(t,"active",e[0]),ie(t,"selected",e[8]===Se.one),u(p,"class","col-span-4"),u(h,"class","grid grid-cols-5 ml-5 mr-5 text-sm border-4 rounded-xl svelte-xz098x"),ie(h,"active",e[2]),ie(h,"selected",e[8]===Se.two),u(C,"class","col-span-4"),u(q,"class","grid grid-cols-5 ml-5 mr-5 text-sm border-4 rounded-xl svelte-xz098x"),ie(q,"active",e[4]),ie(q,"selected",e[8]===Se.three),u(J,"class","col-span-4"),u(R,"class","grid grid-cols-5 ml-5 mr-5 text-sm border-4 rounded-xl svelte-xz098x"),ie(R,"active",e[6]),ie(R,"selected",e[8]===Se.four),u(n,"id","magic_square_lfo_select"),u(n,"class","lfo_select pb-2 flex flex-col justify-between items-stretch svelte-xz098x"),u(j,"for","lfo_dest_select"),u(j,"class","destination_label w-full flex justify-between text-left svelte-xz098x"),be.__value=xe.pitchBase,be.value=be.__value,F.__value=xe.pitchSpread,F.value=F.__value,z.__value=xe.pitchX,z.value=z.__value,_e.__value=xe.pitchY,_e.value=_e.__value,pe.__value=xe.rollBase,pe.value=pe.__value,qe.__value=xe.rollSpread,qe.value=qe.__value,we.__value=xe.rollX,we.value=we.__value,Ke.__value=xe.rollY,Ke.value=Ke.__value,He.__value=xe.yawBase,He.value=He.__value,tt.__value=xe.yawSpread,tt.value=tt.__value,Ze.__value=xe.yawX,Ze.value=Ze.__value,rt.__value=xe.yawY,rt.value=rt.__value,u(te,"label",ct=e[12].t("rotation",e[9])),Ft.__value=xe.radiusBase,Ft.value=Ft.__value,Ut.__value=xe.radiusStep,Ut.value=Ut.__value,u(Zt,"label",ml=e[12].t("radius",e[9])),Vt.__value=xe.translationXBase,Vt.value=Vt.__value,Gt.__value=xe.translationXSpread,Gt.value=Gt.__value,Jt.__value=xe.translationYBase,Jt.value=Jt.__value,Qt.__value=xe.translationYSpread,Qt.value=Qt.__value,u(zt,"label",Sl=e[12].t("translation",e[9])),u(ne,"id","lfo_dest_select"),u(V,"class","w-full pl-5 pr-5 flex flex-col justify-around items-stretch"),u(sl,"for","lfo_shape_select"),u(sl,"class","destination_label w-full flex justify-between text-left svelte-xz098x"),el.__value=dl.linear,el.value=el.__value,tl.__value=dl.sine,tl.value=tl.__value,u(It,"id","lfo_shape_select"),u(xt,"class","w-full pl-5 pr-5 flex flex-col justify-around items-stretch"),u(X,"class","grow flex flex-col justify-around items-center"),u(N,"class","grow pt-1 flex flex-col justify-between items-stretch"),u(l,"class","h-full pb-5 flex flex-col justify-between items-stretch")},m(ae,Ce){de(ae,l,Ce),o(l,n),o(n,t),o(t,r),o(t,i),o(t,s),o(s,a),o(n,c),o(n,h),o(h,d),o(h,g),o(h,p),o(p,B),o(n,A),o(n,q),o(q,E),o(q,y),o(q,C),o(C,v),o(n,I),o(n,R),o(R,S),o(R,O),o(R,J),o(J,w),o(l,W),o(l,N),o(N,X),o(X,V),o(V,j),o(j,ce),o(ce,Q),o(V,ue),o(V,ne),o(ne,te),o(te,be),o(be,G),o(be,se),o(te,F),o(F,fe),o(F,Pe),o(te,z),o(z,Ee),o(z,Oe),o(te,_e),o(_e,ke),o(_e,L),o(te,pe),o(pe,Je),o(pe,ze),o(te,qe),o(qe,Ge),o(qe,ye),o(te,we),o(we,ve),o(we,Ve),o(te,Ke),o(Ke,vt),o(Ke,Ct),o(te,He),o(He,Wt),o(He,Lt),o(te,tt),o(tt,lt),o(tt,Nt),o(te,Ze),o(Ze,nt),o(Ze,Kt),o(te,rt),o(rt,Be),o(rt,me),o(ne,Zt),o(Zt,Ft),o(Ft,Tl),o(Ft,Gl),o(Zt,Ut),o(Ut,Ol),o(Ut,Jl),o(ne,zt),o(zt,Vt),o(Vt,ql),o(Vt,$l),o(zt,Gt),o(Gt,Dl),o(Gt,Wl),o(zt,Jt),o(Jt,Bl),o(Jt,Kl),o(zt,Qt),o(Qt,Rl),at(ne,e[11]),o(X,Zl),~it&&Ht[it].m(X,null),o(X,Nl),o(X,xt),o(xt,sl),o(sl,Il),o(Il,zl),o(xt,Ql),o(xt,It),o(It,el),o(el,xl),o(It,tl),o(tl,en),at(It,e[10]),Te=!0,Hl||(tn=[P(t,"click",e[21]),P(h,"click",e[22]),P(q,"click",e[23]),P(R,"click",e[24]),P(ne,"input",yu),P(ne,"change",e[25]),P(It,"input",Su),P(It,"change",e[26])],Hl=!0)},p(ae,[Ce]){(!Te||Ce&514)&&f!==(f=ae[12].t(rl(ae[1]),ae[9])+"")&&H(a,f),(!Te||Ce&1)&&ie(t,"active",ae[0]),(!Te||Ce&256)&&ie(t,"selected",ae[8]===Se.one),(!Te||Ce&520)&&b!==(b=ae[12].t(rl(ae[3]),ae[9])+"")&&H(B,b),(!Te||Ce&4)&&ie(h,"active",ae[2]),(!Te||Ce&256)&&ie(h,"selected",ae[8]===Se.two),(!Te||Ce&544)&&k!==(k=ae[12].t(rl(ae[5]),ae[9])+"")&&H(v,k),(!Te||Ce&16)&&ie(q,"active",ae[4]),(!Te||Ce&256)&&ie(q,"selected",ae[8]===Se.three),(!Te||Ce&640)&&T!==(T=ae[12].t(rl(ae[7]),ae[9])+"")&&H(w,T),(!Te||Ce&64)&&ie(R,"active",ae[6]),(!Te||Ce&256)&&ie(R,"selected",ae[8]===Se.four),(!Te||Ce&512)&&oe!==(oe=ae[12].t("destination",ae[9])+"")&&H(Q,oe),(!Te||Ce&512)&&ge!==(ge=ae[12].t("pitchBase",ae[9])+"")&&H(G,ge),(!Te||Ce&512)&&K!==(K=ae[12].t("pitchSpread",ae[9])+"")&&H(fe,K),(!Te||Ce&512)&&Z!==(Z=ae[12].t("pitchX",ae[9])+"")&&H(Ee,Z),(!Te||Ce&512)&&U!==(U=ae[12].t("pitchY",ae[9])+"")&&H(ke,U),(!Te||Ce&512)&&$e!==($e=ae[12].t("rollBase",ae[9])+"")&&H(Je,$e),(!Te||Ce&512)&&De!==(De=ae[12].t("rollSpread",ae[9])+"")&&H(Ge,De),(!Te||Ce&512)&&Y!==(Y=ae[12].t("rollX",ae[9])+"")&&H(ve,Y),(!Te||Ce&512)&&Pt!==(Pt=ae[12].t("rollY",ae[9])+"")&&H(vt,Pt),(!Te||Ce&512)&&Rt!==(Rt=ae[12].t("yawBase",ae[9])+"")&&H(Wt,Rt),(!Te||Ce&512)&&jt!==(jt=ae[12].t("yawSpread",ae[9])+"")&&H(lt,jt),(!Te||Ce&512)&&At!==(At=ae[12].t("yawX",ae[9])+"")&&H(nt,At),(!Te||Ce&512)&&le!==(le=ae[12].t("yawY",ae[9])+"")&&H(Be,le),(!Te||Ce&512&&ct!==(ct=ae[12].t("rotation",ae[9])))&&u(te,"label",ct),(!Te||Ce&512)&&vl!==(vl=ae[12].t("radiusBase",ae[9])+"")&&H(Tl,vl),(!Te||Ce&512)&&gl!==(gl=ae[12].t("radiusStep",ae[9])+"")&&H(Ol,gl),(!Te||Ce&512&&ml!==(ml=ae[12].t("radius",ae[9])))&&u(Zt,"label",ml),(!Te||Ce&512)&&bl!==(bl=ae[12].t("xBase",ae[9])+"")&&H(ql,bl),(!Te||Ce&512)&&wl!==(wl=ae[12].t("xSpread",ae[9])+"")&&H(Dl,wl),(!Te||Ce&512)&&kl!==(kl=ae[12].t("yBase",ae[9])+"")&&H(Bl,kl),(!Te||Ce&512)&&yl!==(yl=ae[12].t("ySpread",ae[9])+"")&&H(Rl,yl),(!Te||Ce&512&&Sl!==(Sl=ae[12].t("translation",ae[9])))&&u(zt,"label",Sl),(!Te||Ce&2048)&&at(ne,ae[11]);let Ml=it;it=nn(ae),it===Ml?~it&&Ht[it].p(ae,Ce):(st&&(St(),ee(Ht[Ml],1,1,()=>{Ht[Ml]=null}),Et()),~it?(st=Ht[it],st?st.p(ae,Ce):(st=Ht[it]=ln[it](ae),st.c()),x(st,1),st.m(X,Nl)):st=null),(!Te||Ce&512)&&El!==(El=ae[12].t("shape",ae[9])+"")&&H(zl,El),(!Te||Ce&1024)&&at(It,ae[10])},i(ae){Te||(x(st),Te=!0)},o(ae){ee(st),Te=!1},d(ae){ae&&he(l),~it&&Ht[it].d(),Hl=!1,Qe(tn)}}}function rl(e){const l=e.toString();return`${l[0].toLowerCase()}${l.substring(1)}`}const yu=e=>e.stopPropagation(),Su=e=>e.stopPropagation();function Eu(e,l,n){let t,r,{$$slots:i={},$$scope:s}=l,f;Dt.subscribe(j=>n(9,f=j));let a=new Bt("magicSquare/lfo"),{lfo1Active:c=!1}=l,{lfo1Dest:h=xe.none}=l,{lfo1Shape:d=dl.sine}=l,{lfo2Active:g=!1}=l,{lfo2Dest:p=xe.none}=l,{lfo2Shape:b=dl.sine}=l,{lfo3Active:B=!1}=l,{lfo3Dest:A=xe.none}=l,{lfo3Shape:q=dl.sine}=l,{lfo4Active:E=!1}=l,{lfo4Dest:y=xe.none}=l,{lfo4Shape:C=dl.sine}=l,k=Se.one;function v(j){switch(j){case Se.two:return p;case Se.three:return A;case Se.four:return y;case Se.one:default:return h}}function I(j,ce){const oe=R(ce);var Q=document.getElementById(oe);Q&&(Q.value=j.target.value,Q.dispatchEvent(new Event("input",{bubbles:!0})))}function R(j){switch(j){case Se.two:return M.lfo2Dest;case Se.three:return M.lfo3Dest;case Se.four:return M.lfo4Dest;case Se.one:default:return M.lfo1Dest}}function S(j){switch(j){case Se.two:return b;case Se.three:return q;case Se.four:return C;case Se.one:default:return d}}function O(j,ce){const oe=J(ce);var Q=document.getElementById(oe);Q&&(Q.value=j.target.value,Q.dispatchEvent(new Event("input",{bubbles:!0})))}function J(j){switch(j){case Se.two:return M.lfo2Shape;case Se.three:return M.lfo3Shape;case Se.four:return M.lfo4Shape;case Se.one:default:return M.lfo1Shape}}const T=()=>n(8,k=Se.one),w=()=>n(8,k=Se.two),W=()=>n(8,k=Se.three),N=()=>n(8,k=Se.four),X=j=>{I(j,k)},V=j=>O(j,k);return e.$$set=j=>{"lfo1Active"in j&&n(0,c=j.lfo1Active),"lfo1Dest"in j&&n(1,h=j.lfo1Dest),"lfo1Shape"in j&&n(15,d=j.lfo1Shape),"lfo2Active"in j&&n(2,g=j.lfo2Active),"lfo2Dest"in j&&n(3,p=j.lfo2Dest),"lfo2Shape"in j&&n(16,b=j.lfo2Shape),"lfo3Active"in j&&n(4,B=j.lfo3Active),"lfo3Dest"in j&&n(5,A=j.lfo3Dest),"lfo3Shape"in j&&n(17,q=j.lfo3Shape),"lfo4Active"in j&&n(6,E=j.lfo4Active),"lfo4Dest"in j&&n(7,y=j.lfo4Dest),"lfo4Shape"in j&&n(18,C=j.lfo4Shape),"$$scope"in j&&n(19,s=j.$$scope)},e.$$.update=()=>{e.$$.dirty&256&&n(11,t=v(k)),e.$$.dirty&256&&n(10,r=S(k))},[c,h,g,p,B,A,E,y,k,f,r,t,a,I,O,d,b,q,C,s,i,T,w,W,N,X,V]}class ju extends ht{constructor(l){super(),pt(this,l,Eu,ku,ft,{lfo1Active:0,lfo1Dest:1,lfo1Shape:15,lfo2Active:2,lfo2Dest:3,lfo2Shape:16,lfo3Active:4,lfo3Dest:5,lfo3Shape:17,lfo4Active:6,lfo4Dest:7,lfo4Shape:18})}}var Ot=(e=>(e.on="On",e.off="Off",e.invX="Inv X",e.invY="Inv Y",e.invXY="Inv XY",e))(Ot||{});const Au=e=>({}),Lr=e=>({});function Fr(e,l,n){const t=e.slice();return t[25]=l[n],t}function Ur(e,l,n){const t=e.slice();return t[25]=l[n],t}function Vr(e,l,n){const t=e.slice();return t[30]=l[n],t}function Gr(e){let l,n=e[5].t(`${e[30]}`,e[2])+"",t,r,i,s;function f(...c){return e[16](e[30],...c)}function a(...c){return e[17](e[30],...c)}return{c(){l=_("button"),t=D(n),r=m(),u(l,"class","grow svelte-2ts6c1"),ie(l,"selected",e[0]===e[30])},m(c,h){de(c,l,h),o(l,t),o(l,r),i||(s=[P(l,"click",f),P(l,"keydown",a)],i=!0)},p(c,h){e=c,h[0]&12&&n!==(n=e[5].t(`${e[30]}`,e[2])+"")&&H(t,n),h[0]&9&&ie(l,"selected",e[0]===e[30])},d(c){c&&he(l),i=!1,Qe(s)}}}function Jr(e){let l,n=e[25].toUpperCase()+"",t,r,i,s,f;function a(){return e[18](e[25])}function c(...h){return e[19](e[25],...h)}return{c(){l=_("button"),t=D(n),r=m(),u(l,"class","grow svelte-2ts6c1"),l.disabled=i=e[0]===e[3].off,ie(l,"selected",e[1]===e[25])},m(h,d){de(h,l,d),o(l,t),o(l,r),s||(f=[P(l,"click",a),P(l,"keydown",c)],s=!0)},p(h,d){e=h,d[0]&9&&i!==(i=e[0]===e[3].off)&&(l.disabled=i),d[0]&2050&&ie(l,"selected",e[1]===e[25])},d(h){h&&he(l),s=!1,Qe(f)}}}function $r(e){let l,n=e[5].t(e[25],e[2])+"",t,r,i,s,f;function a(){return e[20](e[25])}function c(...h){return e[21](e[25],...h)}return{c(){l=_("button"),t=D(n),r=m(),u(l,"class","grow svelte-2ts6c1"),l.disabled=i=e[0]===e[3].off,ie(l,"selected",e[1]===e[25])},m(h,d){de(h,l,d),o(l,t),o(l,r),s||(f=[P(l,"click",a),P(l,"keydown",c)],s=!0)},p(h,d){e=h,d[0]&4&&n!==(n=e[5].t(e[25],e[2])+"")&&H(t,n),d[0]&9&&i!==(i=e[0]===e[3].off)&&(l.disabled=i),d[0]&4098&&ie(l,"selected",e[1]===e[25])},d(h){h&&he(l),s=!1,Qe(f)}}}function Pu(e){let l,n,t=e[5].t("mouse",e[2])+"",r,i,s,f,a,c,h=e[5].t("invert",e[2])+"",d,g,p,b,B,A,q,E,y,C,k=Object.keys(e[3]),v=[];for(let w=0;w<k.length;w+=1)v[w]=Gr(Vr(e,k,w));let I=e[11],R=[];for(let w=0;w<I.length;w+=1)R[w]=Jr(Ur(e,I,w));let S=e[12],O=[];for(let w=0;w<S.length;w+=1)O[w]=$r(Fr(e,S,w));const J=e[15].hiddenInput,T=Xe(J,e,e[14],Lr);return{c(){l=_("form"),n=_("h2"),r=D(t),i=m(),s=_("div");for(let w=0;w<v.length;w+=1)v[w].c();f=m(),a=_("div"),c=_("div"),d=D(h),g=m(),p=_("div"),b=_("div");for(let w=0;w<R.length;w+=1)R[w].c();B=m(),A=_("div");for(let w=0;w<O.length;w+=1)O[w].c();q=m(),T&&T.c(),u(n,"class","mouse_tracking_title text-left pl-3 svelte-2ts6c1"),u(s,"id","mouse_tracking_toggle"),u(s,"class","grow flex justify-around items-stretch"),u(c,"class","mouse_tracking_inv_title ml-2 flex justify-around items-center svelte-2ts6c1"),u(b,"class","grow flex justify-evenly items-center"),u(A,"class","grow flex justify-stretch items-center"),u(p,"class","grow flex flex-col justify-between items stretch"),u(a,"id","mouse_tracking_inv"),u(a,"class","mouse_tracking_inv grow w-full flex justify-between items-stretch svelte-2ts6c1"),u(l,"id",Fl),u(l,"class","h-full flex flex-col justify-around items-stretch")},m(w,W){de(w,l,W),o(l,n),o(n,r),o(l,i),o(l,s);for(let N=0;N<v.length;N+=1)v[N]&&v[N].m(s,null);o(l,f),o(l,a),o(a,c),o(c,d),o(a,g),o(a,p),o(p,b);for(let N=0;N<R.length;N+=1)R[N]&&R[N].m(b,null);o(p,B),o(p,A);for(let N=0;N<O.length;N+=1)O[N]&&O[N].m(A,null);o(l,q),T&&T.m(l,null),E=!0,y||(C=P(l,"submit",e[6]),y=!0)},p(w,W){if((!E||W[0]&4)&&t!==(t=w[5].t("mouse",w[2])+"")&&H(r,t),W[0]&429){k=Object.keys(w[3]);let N;for(N=0;N<k.length;N+=1){const X=Vr(w,k,N);v[N]?v[N].p(X,W):(v[N]=Gr(X),v[N].c(),v[N].m(s,null))}for(;N<v.length;N+=1)v[N].d(1);v.length=k.length}if((!E||W[0]&4)&&h!==(h=w[5].t("invert",w[2])+"")&&H(d,h),W[0]&3611){I=w[11];let N;for(N=0;N<I.length;N+=1){const X=Ur(w,I,N);R[N]?R[N].p(X,W):(R[N]=Jr(X),R[N].c(),R[N].m(b,null))}for(;N<R.length;N+=1)R[N].d(1);R.length=I.length}if(W[0]&5695){S=w[12];let N;for(N=0;N<S.length;N+=1){const X=Fr(w,S,N);O[N]?O[N].p(X,W):(O[N]=$r(X),O[N].c(),O[N].m(A,null))}for(;N<O.length;N+=1)O[N].d(1);O.length=S.length}T&&T.p&&(!E||W[0]&16384)&&Ye(T,J,w,w[14],E?Fe(J,w[14],W,Au):Le(w[14]),Lr)},i(w){E||(x(T,w),E=!0)},o(w){ee(T,w),E=!1},d(w){w&&he(l),ut(v,w),ut(R,w),ut(O,w),T&&T.d(w),y=!1,C()}}}const Cu="magic_square_input_mouse_tracking",Fl="mouse_tracking_form";function Tu(e,l,n){let{$$slots:t={},$$scope:r}=l,i;Dt.subscribe(T=>n(2,i=T));let s=new Bt("magicSquare/mouseTracking"),{currOption:f}=l;var a;(function(T){T.on="on",T.off="off"})(a||(a={}));var c;(function(T){T.x="x",T.y="y",T.xy="xy",T.none="none"})(c||(c={}));let h,d,g;function p(T){switch(T){case Ot.on:n(0,h=a.on),n(1,d=c.none);break;case Ot.off:n(0,h=a.off),n(1,d=c.none);break;case Ot.invX:n(0,h=a.on),n(1,d=c.x);break;case Ot.invY:n(0,h=a.on),n(1,d=c.y);break;case Ot.invXY:n(0,h=a.on),n(1,d=c.xy);break}}function b(T,w){switch(T){case a.off:return Ot.off;case a.on:switch(w){case c.none:return Ot.on;case c.x:return Ot.invX;case c.y:return Ot.invY;case c.xy:return Ot.invXY}default:return Ot.off}}function B(T){T.stopPropagation(),T.preventDefault();var w=document.getElementById(Cu);return w.value=g,w.dispatchEvent(new Event("input",{bubbles:!0})),!1}gn(async()=>{p(f)});function A(T,w){T.stopPropagation(),T.keyCode===13&&(n(0,h=w),document.getElementById(Fl).dispatchEvent(new Event("submit",{bubbles:!0,cancelable:!0})))}function q(T,w){T.stopPropagation(),n(0,h=w),document.getElementById(Fl).dispatchEvent(new Event("submit",{bubbles:!0,cancelable:!0}))}function E(T,w){T.stopPropagation(),T.keyCode===13&&(n(1,d=w),document.getElementById(Fl).dispatchEvent(new Event("submit",{bubbles:!0,cancelable:!0})))}function y(T){n(1,d=T),document.getElementById(Fl).dispatchEvent(new Event("submit",{bubbles:!0,cancelable:!0}))}const C=[c.x,c.y,c.xy],k=[c.none],v=(T,w)=>q(w,a[T]),I=(T,w)=>A(w,a[T]),R=T=>y(c[T]),S=(T,w)=>E(w,c[T]),O=T=>y(c[T]),J=(T,w)=>E(w,c[T]);return e.$$set=T=>{"currOption"in T&&n(13,f=T.currOption),"$$scope"in T&&n(14,r=T.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&3&&(g=b(h,d))},[h,d,i,a,c,s,B,A,q,E,y,C,k,f,r,t,v,I,R,S,O,J]}class Ou extends ht{constructor(l){super(),pt(this,l,Tu,Pu,ft,{currOption:13},null,[-1,-1])}}const qu=e=>({}),Wr=e=>({}),Du=e=>({}),Kr=e=>({}),Bu=e=>({}),Zr=e=>({});function Ru(e){let l,n,t,r=e[2].t(e[1].pitch,e[0])+"",i,s,f,a,c,h,d=e[2].t(e[1].roll,e[0])+"",g,p,b,B,A,q,E=e[2].t(e[1].yaw,e[0])+"",y,C,k,v;const I=e[4].pitch,R=Xe(I,e,e[3],Zr),S=e[4].roll,O=Xe(S,e,e[3],Kr),J=e[4].yaw,T=Xe(J,e,e[3],Wr);return{c(){l=_("div"),n=_("div"),t=_("div"),i=D(r),s=m(),f=_("div"),R&&R.c(),a=m(),c=_("div"),h=_("div"),g=D(d),p=m(),b=_("div"),O&&O.c(),B=m(),A=_("div"),q=_("div"),y=D(E),C=m(),k=_("div"),T&&T.c(),u(t,"class","freedom_group_title flex justify-around items-center svelte-1jehlu2"),u(f,"class","h-full freedom_group_body flex flex-col justify-around items-stretch svelte-1jehlu2"),u(n,"class","grow freedom_group flex gap-2 justify-between items-stretch svelte-1jehlu2"),u(h,"class","freedom_group_title flex justify-around items-center svelte-1jehlu2"),u(b,"class","h-full freedom_group_body flex flex-col justify-around items-stretch svelte-1jehlu2"),u(c,"class","grow freedom_group flex gap-2 justify-stretch items-stretch svelte-1jehlu2"),u(q,"class","freedom_group_title flex justify-around items-center svelte-1jehlu2"),u(k,"class","h-full freedom_group_body flex flex-col justify-around items-stretch svelte-1jehlu2"),u(A,"class","grow freedom_group flex gap-2 justify-stretch items-stretch svelte-1jehlu2"),u(l,"class","h-full rotation_container w-full flex flex-col justify-between items-stretch svelte-1jehlu2")},m(w,W){de(w,l,W),o(l,n),o(n,t),o(t,i),o(n,s),o(n,f),R&&R.m(f,null),o(l,a),o(l,c),o(c,h),o(h,g),o(c,p),o(c,b),O&&O.m(b,null),o(l,B),o(l,A),o(A,q),o(q,y),o(A,C),o(A,k),T&&T.m(k,null),v=!0},p(w,[W]){(!v||W&3)&&r!==(r=w[2].t(w[1].pitch,w[0])+"")&&H(i,r),R&&R.p&&(!v||W&8)&&Ye(R,I,w,w[3],v?Fe(I,w[3],W,Bu):Le(w[3]),Zr),(!v||W&3)&&d!==(d=w[2].t(w[1].roll,w[0])+"")&&H(g,d),O&&O.p&&(!v||W&8)&&Ye(O,S,w,w[3],v?Fe(S,w[3],W,Du):Le(w[3]),Kr),(!v||W&3)&&E!==(E=w[2].t(w[1].yaw,w[0])+"")&&H(y,E),T&&T.p&&(!v||W&8)&&Ye(T,J,w,w[3],v?Fe(J,w[3],W,qu):Le(w[3]),Wr)},i(w){v||(x(R,w),x(O,w),x(T,w),v=!0)},o(w){ee(R,w),ee(O,w),ee(T,w),v=!1},d(w){w&&he(l),R&&R.d(w),O&&O.d(w),T&&T.d(w)}}}function Nu(e,l,n){let{$$slots:t={},$$scope:r}=l,i;Dt.subscribe(a=>n(0,i=a));let s=new Bt("magicSquare/rotation");var f;return function(a){a.pitch="pitch",a.roll="roll",a.yaw="yaw"}(f||(f={})),e.$$set=a=>{"$$scope"in a&&n(3,r=a.$$scope)},[i,f,s,r,t]}class Iu extends ht{constructor(l){super(),pt(this,l,Nu,Ru,ft,{})}}const zu=e=>({}),Qr=e=>({}),Hu=e=>({}),xr=e=>({}),Mu=e=>({}),ei=e=>({});function Xu(e){let l,n,t,r,i,s,f,a,c,h,d,g;const p=e[1].xSliders,b=Xe(p,e,e[0],ei),B=e[1].ySliders,A=Xe(B,e,e[0],xr),q=e[1].mouseTracking,E=Xe(q,e,e[0],Qr);return{c(){l=_("section"),n=_("div"),t=_("div"),t.textContent="X",r=m(),i=_("div"),b&&b.c(),s=m(),f=_("div"),f.textContent="Y",a=m(),c=_("div"),A&&A.c(),h=m(),d=_("div"),E&&E.c(),u(t,"class","axis_slider_group_title title text-left pl-5 svelte-h6iuxy"),u(i,"class","grow"),u(f,"class","axis_slider_group_title title text-left pl-5 svelte-h6iuxy"),u(c,"class","grow"),u(n,"class","grow flex flex-col justify-around items-stretch"),u(d,"class","grow flex flex-col justify-around items-stretch"),u(l,"class","h-full pb-5 flex flex-col justify-between items-stretch")},m(y,C){de(y,l,C),o(l,n),o(n,t),o(n,r),o(n,i),b&&b.m(i,null),o(n,s),o(n,f),o(n,a),o(n,c),A&&A.m(c,null),o(l,h),o(l,d),E&&E.m(d,null),g=!0},p(y,[C]){b&&b.p&&(!g||C&1)&&Ye(b,p,y,y[0],g?Fe(p,y[0],C,Mu):Le(y[0]),ei),A&&A.p&&(!g||C&1)&&Ye(A,B,y,y[0],g?Fe(B,y[0],C,Hu):Le(y[0]),xr),E&&E.p&&(!g||C&1)&&Ye(E,q,y,y[0],g?Fe(q,y[0],C,zu):Le(y[0]),Qr)},i(y){g||(x(b,y),x(A,y),x(E,y),g=!0)},o(y){ee(b,y),ee(A,y),ee(E,y),g=!1},d(y){y&&he(l),b&&b.d(y),A&&A.d(y),E&&E.d(y)}}}function Yu(e,l,n){let{$$slots:t={},$$scope:r}=l;return e.$$set=i=>{"$$scope"in i&&n(0,r=i.$$scope)},[r,t]}class Lu extends ht{constructor(l){super(),pt(this,l,Yu,Xu,ft,{})}}const Ul=_o(null);var On=(e=>(e.save="Save",e.set="Set",e))(On||{});function ti(e,l,n){const t=e.slice();return t[19]=l[n],t[21]=n,t}function li(e,l,n){const t=e.slice();return t[19]=l[n],t[21]=n,t}function ni(e,l,n){const t=e.slice();return t[19]=l[n],t[21]=n,t}function ri(e,l,n){const t=e.slice();return t[19]=l[n],t[21]=n,t}function ii(e,l,n){const t=e.slice();return t[19]=l[n],t[26]=n,t}const Fu=e=>({}),oi=e=>({});function si(e){let l,n=e[5][e[26]]+"",t,r,i,s;function f(){return e[12](e[26])}return{c(){l=_("button"),t=D(n),r=m(),u(l,"class","svelte-170bo78"),ie(l,"selected",e[2]===e[26])},m(a,c){de(a,l,c),o(l,t),o(l,r),i||(s=P(l,"click",f),i=!0)},p(a,c){e=a,c&4&&ie(l,"selected",e[2]===e[26])},d(a){a&&he(l),i=!1,s()}}}function Uu(e){let l,n={length:16},t=[];for(let r=0;r<n.length;r+=1)t[r]=ai(ti(e,n,r));return{c(){for(let r=0;r<t.length;r+=1)t[r].c();l=Cl()},m(r,i){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(r,i);de(r,l,i)},p(r,i){if(i&265){n={length:16};let s;for(s=0;s<n.length;s+=1){const f=ti(r,n,s);t[s]?t[s].p(f,i):(t[s]=ai(f),t[s].c(),t[s].m(l.parentNode,l))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},d(r){ut(t,r),r&&he(l)}}}function Vu(e){let l,n={length:16},t=[];for(let r=0;r<n.length;r+=1)t[r]=ui(li(e,n,r));return{c(){for(let r=0;r<t.length;r+=1)t[r].c();l=Cl()},m(r,i){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(r,i);de(r,l,i)},p(r,i){if(i&265){n={length:16};let s;for(s=0;s<n.length;s+=1){const f=li(r,n,s);t[s]?t[s].p(f,i):(t[s]=ui(f),t[s].c(),t[s].m(l.parentNode,l))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},d(r){ut(t,r),r&&he(l)}}}function Gu(e){let l,n={length:16},t=[];for(let r=0;r<n.length;r+=1)t[r]=fi(ni(e,n,r));return{c(){for(let r=0;r<t.length;r+=1)t[r].c();l=Cl()},m(r,i){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(r,i);de(r,l,i)},p(r,i){if(i&265){n={length:16};let s;for(s=0;s<n.length;s+=1){const f=ni(r,n,s);t[s]?t[s].p(f,i):(t[s]=fi(f),t[s].c(),t[s].m(l.parentNode,l))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},d(r){ut(t,r),r&&he(l)}}}function Ju(e){let l,n={length:16},t=[];for(let r=0;r<n.length;r+=1)t[r]=ci(ri(e,n,r));return{c(){for(let r=0;r<t.length;r+=1)t[r].c();l=Cl()},m(r,i){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(r,i);de(r,l,i)},p(r,i){if(i&265){n={length:16};let s;for(s=0;s<n.length;s+=1){const f=ri(r,n,s);t[s]?t[s].p(f,i):(t[s]=ci(f),t[s].c(),t[s].m(l.parentNode,l))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},d(r){ut(t,r),r&&he(l)}}}function ai(e){let l,n=e[21]+49+"",t,r,i,s;function f(){return e[18](e[21])}return{c(){l=_("button"),t=D(n),r=m(),u(l,"class","no_shadow flex justify-around items-center p-4 svelte-170bo78"),ie(l,"active",e[0]===e[21]+48),ie(l,"selected",e[3]===e[21]+48)},m(a,c){de(a,l,c),o(l,t),o(l,r),i||(s=P(l,"click",f),i=!0)},p(a,c){e=a,c&1&&ie(l,"active",e[0]===e[21]+48),c&8&&ie(l,"selected",e[3]===e[21]+48)},d(a){a&&he(l),i=!1,s()}}}function ui(e){let l,n=e[21]+33+"",t,r,i,s;function f(){return e[17](e[21])}return{c(){l=_("button"),t=D(n),r=m(),u(l,"class","no_shadow flex justify-around items-center p-4 svelte-170bo78"),ie(l,"active",e[0]===e[21]+32),ie(l,"selected",e[3]===e[21]+32)},m(a,c){de(a,l,c),o(l,t),o(l,r),i||(s=P(l,"click",f),i=!0)},p(a,c){e=a,c&1&&ie(l,"active",e[0]===e[21]+32),c&8&&ie(l,"selected",e[3]===e[21]+32)},d(a){a&&he(l),i=!1,s()}}}function fi(e){let l,n=e[21]+17+"",t,r,i,s;function f(){return e[16](e[21])}return{c(){l=_("button"),t=D(n),r=m(),u(l,"class","no_shadow flex justify-around items-center p-4 svelte-170bo78"),ie(l,"active",e[0]===e[21]+16),ie(l,"selected",e[3]===e[21]+16)},m(a,c){de(a,l,c),o(l,t),o(l,r),i||(s=P(l,"click",f),i=!0)},p(a,c){e=a,c&1&&ie(l,"active",e[0]===e[21]+16),c&8&&ie(l,"selected",e[3]===e[21]+16)},d(a){a&&he(l),i=!1,s()}}}function ci(e){let l,n=e[21]+1+"",t,r,i,s;function f(){return e[15](e[21])}return{c(){l=_("button"),t=D(n),r=m(),u(l,"class","no_shadow flex justify-around items-center p-4 svelte-170bo78"),ie(l,"active",e[0]===e[21]),ie(l,"selected",e[3]===e[21])},m(a,c){de(a,l,c),o(l,t),o(l,r),i||(s=P(l,"click",f),i=!0)},p(a,c){e=a,c&1&&ie(l,"active",e[0]===e[21]),c&8&&ie(l,"selected",e[3]===e[21])},d(a){a&&he(l),i=!1,s()}}}function $u(e){let l,n,t,r,i=e[4].t("curr",e[1])+"",s,f,a,c,h,d=e[6](e[0])+"",g,p,b,B=e[0]+1+"",A,q,E,y,C=e[4].t("next",e[1])+"",k,v,I,R,S,O=e[6](e[3])+"",J,T,w,W=e[3]+1+"",N,X,V,j=e[4].t("bank",e[1])+"",ce,oe,Q,ue,ne,te,be=e[4].t("preset",e[1])+"",ge,G,se,F,K,fe,Pe=e[4].t("load",e[1])+"",z,Z,Ee,Oe,_e=e[4].t("save",e[1])+"",U,ke,L,pe,$e;const Je=e[11].preset,ze=Xe(Je,e,e[10],oi);let qe={length:4},De=[];for(let Y=0;Y<qe.length;Y+=1)De[Y]=si(ii(e,qe,Y));function Ge(Y,ve){if(Y[2]===0)return Ju;if(Y[2]===1)return Gu;if(Y[2]===2)return Vu;if(Y[2]===3)return Uu}let ye=Ge(e),we=ye&&ye(e);return{c(){l=_("section"),ze&&ze.c(),n=m(),t=_("div"),r=_("div"),s=D(i),f=m(),a=_("div"),a.textContent=":",c=m(),h=_("div"),g=D(d),p=m(),b=_("div"),A=D(B),q=m(),E=_("div"),y=_("div"),k=D(C),v=m(),I=_("div"),I.textContent=":",R=m(),S=_("div"),J=D(O),T=m(),w=_("div"),N=D(W),X=m(),V=_("div"),ce=D(j),oe=m(),Q=_("div"),ue=_("div");for(let Y=0;Y<De.length;Y+=1)De[Y].c();ne=m(),te=_("div"),ge=D(be),G=m(),se=_("div"),F=_("div"),K=_("div"),fe=_("button"),z=D(Pe),Z=m(),Ee=_("div"),Oe=_("button"),U=D(_e),ke=m(),we&&we.c(),u(r,"class","title_m pl-5 col-span-2 w-full flex justify-between items-center svelte-170bo78"),u(h,"class","title_m flex justify-around svelte-170bo78"),u(b,"class","title_m flex justify-around items-center svelte-170bo78"),u(t,"class","grid grid-cols-4 grid-rows-1"),u(y,"class","title_m pl-5 col-span-2 w-full flex justify-between items-center svelte-170bo78"),u(S,"class","title_m flex justify-around svelte-170bo78"),u(w,"class","title_m flex justify-around items-center svelte-170bo78"),u(E,"class","grid grid-cols-4 grid-rows-1"),u(V,"class","title pl-5 text-left svelte-170bo78"),u(ue,"class","pl-5 pr-5 grid grid-cols-4"),u(Q,"class","flex flex-col justify-between items-stretch"),u(te,"class","title pl-5 text-left svelte-170bo78"),u(fe,"class","grow pl-2 pr-2 flex justify-around items-center"),u(K,"class","col-span-2 flex justify-around items-stretch"),u(Oe,"class","grow flex justify-around items-center"),u(Ee,"class","col-span-2 flex justify-around items-stretch"),u(F,"class","preset_buttons grow pl-5 pr-5 pb-5 grid grid-cols-4 grid-rows-5 gap-4 svelte-170bo78"),u(se,"class","grow pr-5 flex flex-col justify-around items-stretch"),u(l,"class","h-full flex flex-col justify-between items-stretch gap-2")},m(Y,ve){de(Y,l,ve),ze&&ze.m(l,null),o(l,n),o(l,t),o(t,r),o(r,s),o(r,f),o(r,a),o(t,c),o(t,h),o(h,g),o(t,p),o(t,b),o(b,A),o(l,q),o(l,E),o(E,y),o(y,k),o(y,v),o(y,I),o(E,R),o(E,S),o(S,J),o(E,T),o(E,w),o(w,N),o(l,X),o(l,V),o(V,ce),o(l,oe),o(l,Q),o(Q,ue);for(let Ve=0;Ve<De.length;Ve+=1)De[Ve]&&De[Ve].m(ue,null);o(l,ne),o(l,te),o(te,ge),o(l,G),o(l,se),o(se,F),o(F,K),o(K,fe),o(fe,z),o(F,Z),o(F,Ee),o(Ee,Oe),o(Oe,U),o(F,ke),we&&we.m(F,null),L=!0,pe||($e=[P(fe,"click",e[13]),P(Oe,"click",e[14])],pe=!0)},p(Y,[ve]){if(ze&&ze.p&&(!L||ve&1024)&&Ye(ze,Je,Y,Y[10],L?Fe(Je,Y[10],ve,Fu):Le(Y[10]),oi),(!L||ve&2)&&i!==(i=Y[4].t("curr",Y[1])+"")&&H(s,i),(!L||ve&1)&&d!==(d=Y[6](Y[0])+"")&&H(g,d),(!L||ve&1)&&B!==(B=Y[0]+1+"")&&H(A,B),(!L||ve&2)&&C!==(C=Y[4].t("next",Y[1])+"")&&H(k,C),(!L||ve&8)&&O!==(O=Y[6](Y[3])+"")&&H(J,O),(!L||ve&8)&&W!==(W=Y[3]+1+"")&&H(N,W),(!L||ve&2)&&j!==(j=Y[4].t("bank",Y[1])+"")&&H(ce,j),ve&36){qe={length:4};let Ve;for(Ve=0;Ve<qe.length;Ve+=1){const Ke=ii(Y,qe,Ve);De[Ve]?De[Ve].p(Ke,ve):(De[Ve]=si(Ke),De[Ve].c(),De[Ve].m(ue,null))}for(;Ve<De.length;Ve+=1)De[Ve].d(1);De.length=qe.length}(!L||ve&2)&&be!==(be=Y[4].t("preset",Y[1])+"")&&H(ge,be),(!L||ve&2)&&Pe!==(Pe=Y[4].t("load",Y[1])+"")&&H(z,Pe),(!L||ve&2)&&_e!==(_e=Y[4].t("save",Y[1])+"")&&H(U,_e),ye===(ye=Ge(Y))&&we?we.p(Y,ve):(we&&we.d(1),we=ye&&ye(Y),we&&(we.c(),we.m(F,null)))},i(Y){L||(x(ze,Y),L=!0)},o(Y){ee(ze,Y),L=!1},d(Y){Y&&he(l),ze&&ze.d(Y),ut(De,Y),we&&we.d(),pe=!1,Qe($e)}}}function Wu(e,l,n){let{$$slots:t={},$$scope:r}=l,i;Dt.subscribe(v=>n(1,i=v));let s=new Bt("magicSquare/presets"),f=0,{preset:a}=l,{updateUiSettings:c}=l,h=a;const d=["A","B","C","D"];function g(v){return-1<v&&v<16?d[0]:15<v&&v<32?d[1]:31<v&&v<48?d[2]:47<v&&v<64?d[3]:""}function p(v){n(0,a=h);var I=document.getElementById(M.preset);I.value=JSON.stringify({preset:a,action:v}),I.dispatchEvent(new Event("input",{bubbles:!0})),c()}function b(v){n(3,h=v)}const B=v=>n(2,f=v),A=()=>p(On.set),q=()=>p(On.save),E=v=>b(v),y=v=>b(v+16),C=v=>b(v+32),k=v=>b(v+48);return e.$$set=v=>{"preset"in v&&n(0,a=v.preset),"updateUiSettings"in v&&n(9,c=v.updateUiSettings),"$$scope"in v&&n(10,r=v.$$scope)},[a,i,f,h,s,d,g,p,b,c,r,t,B,A,q,E,y,C,k]}class Ku extends ht{constructor(l){super(),pt(this,l,Wu,$u,ft,{preset:0,updateUiSettings:9})}}const{window:Ni}=po;function Zu(e){let l,n,t,r;function i(a){e[150](a)}function s(a){e[151](a)}let f={$$slots:{hiddenInputs:[ef],speed:[xu]},$$scope:{ctx:e}};return e[7]!==void 0&&(f.colorDirection=e[7]),e[9]!==void 0&&(f.colors=e[9]),l=new ea({props:f}),Mt.push(()=>Xt(l,"colorDirection",i)),Mt.push(()=>Xt(l,"colors",s)),{c(){Re(l.$$.fragment)},m(a,c){Ne(l,a,c),r=!0},p(a,c){const h={};c[0]&900|c[5]&8192&&(h.$$scope={dirty:c,ctx:a}),!n&&c[0]&128&&(n=!0,h.colorDirection=a[7],Yt(()=>n=!1)),!t&&c[0]&512&&(t=!0,h.colors=a[9],Yt(()=>t=!1)),l.$set(h)},i(a){r||(x(l.$$.fragment,a),r=!0)},o(a){ee(l.$$.fragment,a),r=!1},d(a){Ie(l,a)}}}function Qu(e){let l,n;return l=new pl({}),{c(){Re(l.$$.fragment)},m(t,r){Ne(l,t,r),n=!0},p:dt,i(t){n||(x(l.$$.fragment,t),n=!0)},o(t){ee(l.$$.fragment,t),n=!1},d(t){Ie(l,t)}}}function xu(e){let l,n,t,r,i=e[58].t("speed",e[2])+"",s,f,a,c,h,d,g,p,b;return{c(){l=_("div"),n=_("div"),t=_("label"),r=_("div"),s=D(i),f=m(),a=_("div"),c=D(e[8]),h=m(),d=_("input"),u(t,"class","slider_label flex justify-between svelte-e1nddn"),u(t,"for",M.colorSpeed),ie(t,"disabled",e[7]===yt.fix),u(d,"id",M.colorSpeed),d.disabled=g=e[7]===yt.fix,u(d,"type","range"),u(d,"min",1),u(d,"max",20),u(d,"step",1),u(n,"class","grow w-full flex flex-col justify-center items-stretch"),u(l,"slot","speed")},m(B,A){de(B,l,A),o(l,n),o(n,t),o(t,r),o(r,s),o(t,f),o(t,a),o(a,c),o(n,h),o(n,d),re(d,e[8]),p||(b=[P(d,"dblclick",e[148]),P(d,"change",e[149]),P(d,"input",e[149])],p=!0)},p(B,A){A[0]&4&&i!==(i=B[58].t("speed",B[2])+"")&&H(s,i),A[0]&256&&H(c,B[8]),A[0]&128&&ie(t,"disabled",B[7]===yt.fix),A[0]&128&&g!==(g=B[7]===yt.fix)&&(d.disabled=g),A[0]&256&&re(d,B[8])},d(B){B&&he(l),p=!1,Qe(b)}}}function ef(e){let l,n,t,r,i,s;return{c(){l=_("div"),n=_("input"),t=m(),r=_("input"),u(n,"id",M.colorDirection),u(n,"class","hidden_input svelte-e1nddn"),u(r,"id",M.colors),u(r,"class","hidden_input svelte-e1nddn"),u(l,"slot","hiddenInputs")},m(f,a){de(f,l,a),o(l,n),re(n,e[7]),o(l,t),o(l,r),re(r,e[9]),i||(s=[P(n,"input",e[146]),P(r,"input",e[147])],i=!0)},p(f,a){a[0]&128&&n.value!==f[7]&&re(n,f[7]),a[0]&512&&r.value!==f[9]&&re(r,f[9])},d(f){f&&he(l),i=!1,Qe(s)}}}function tf(e){let l,n,t,r;const i=[Qu,Zu],s=[];function f(a,c){return a[56]?1:0}return n=f(e),t=s[n]=i[n](e),{c(){l=_("div"),t.c(),u(l,"slot","color"),u(l,"class","h-full")},m(a,c){de(a,l,c),s[n].m(l,null),r=!0},p(a,c){let h=n;n=f(a),n===h?s[n].p(a,c):(St(),ee(s[h],1,1,()=>{s[h]=null}),Et(),t=s[n],t?t.p(a,c):(t=s[n]=i[n](a),t.c()),x(t,1),t.m(l,null))},i(a){r||(x(t),r=!0)},o(a){ee(t),r=!1},d(a){a&&he(l),s[n].d()}}}function lf(e){let l,n,t;function r(s){e[145](s)}let i={drawPatternType:e[3],$$slots:{hiddenInput:[sf],countAndSpeed:[of],transformOrder:[rf]},$$scope:{ctx:e}};return e[13]!==void 0&&(i.transformOrder=e[13]),l=new ss({props:i}),Mt.push(()=>Xt(l,"transformOrder",r)),{c(){Re(l.$$.fragment)},m(s,f){Ne(l,s,f),t=!0},p(s,f){const a={};f[0]&8&&(a.drawPatternType=s[3]),f[0]&8316|f[5]&8192&&(a.$$scope={dirty:f,ctx:s}),!n&&f[0]&8192&&(n=!0,a.transformOrder=s[13],Yt(()=>n=!1)),l.$set(a)},i(s){t||(x(l.$$.fragment,s),t=!0)},o(s){ee(l.$$.fragment,s),t=!1},d(s){Ie(l,s)}}}function nf(e){let l,n;return l=new pl({}),{c(){Re(l.$$.fragment)},m(t,r){Ne(l,t,r),n=!0},p:dt,i(t){n||(x(l.$$.fragment,t),n=!0)},o(t){ee(l.$$.fragment,t),n=!1},d(t){Ie(l,t)}}}function rf(e){let l,n,t,r;return{c(){l=_("div"),n=_("input"),u(n,"id",M.transformOrder),u(n,"class","hidden_input svelte-e1nddn"),u(l,"slot","transformOrder")},m(i,s){de(i,l,s),o(l,n),re(n,e[13]),t||(r=P(n,"input",e[144]),t=!0)},p(i,s){s[0]&8192&&n.value!==i[13]&&re(n,i[13])},d(i){i&&he(l),t=!1,r()}}}function of(e){let l,n,t,r,i=e[58].t("count",e[2])+"",s,f,a,c,h,d,g,p,b,B,A=e[58].t("speed",e[2])+"",q,E,y,C,k,v,I,R,S,O,J,T=e[58].t("offset",e[2])+"",w,W,N,X,V,j,ce,oe,Q;return{c(){l=_("div"),n=_("div"),t=_("label"),r=_("div"),s=D(i),f=m(),a=_("div"),c=D(e[4]),h=m(),d=_("input"),g=m(),p=_("div"),b=_("label"),B=_("div"),q=D(A),E=m(),y=_("div"),C=D(e[6]),k=m(),v=_("input"),R=m(),S=_("div"),O=_("label"),J=_("div"),w=D(T),W=m(),N=_("div"),X=D(e[5]),V=m(),j=_("input"),u(t,"class","slider_label flex justify-between svelte-e1nddn"),u(t,"for",M.drawPatternCount),u(d,"id",M.drawPatternCount),u(d,"type","range"),u(d,"min",1),u(d,"max",16),u(d,"step",1),u(n,"class","grow w-full flex flex-col justify-center items-stretch"),u(b,"class","slider_label flex justify-between svelte-e1nddn"),u(b,"for",M.drawPatternSpeed),ie(b,"disabled",e[3]==qt.fix),u(v,"id",M.drawPatternSpeed),u(v,"type","range"),u(v,"min",1),u(v,"max",20),v.disabled=I=e[3]==qt.fix,u(v,"step",1),u(p,"class","grow w-full flex flex-col justify-center items-stretch"),u(O,"class","slider_label flex justify-between svelte-e1nddn"),u(O,"for",M.drawPatternOffset),ie(O,"disabled",e[3]!==qt.fix),u(j,"id",M.drawPatternOffset),u(j,"type","range"),u(j,"min",0),u(j,"max",15),j.disabled=ce=e[3]!==qt.fix,u(j,"step",1),u(S,"class","grow w-full flex flex-col justify-center items-stretch"),u(l,"slot","countAndSpeed"),u(l,"class","grow flex flex-col justify-between items-stretch")},m(ue,ne){de(ue,l,ne),o(l,n),o(n,t),o(t,r),o(r,s),o(t,f),o(t,a),o(a,c),o(n,h),o(n,d),re(d,e[4]),o(l,g),o(l,p),o(p,b),o(b,B),o(B,q),o(b,E),o(b,y),o(y,C),o(p,k),o(p,v),re(v,e[6]),o(l,R),o(l,S),o(S,O),o(O,J),o(J,w),o(O,W),o(O,N),o(N,X),o(S,V),o(S,j),re(j,e[5]),oe||(Q=[P(d,"change",e[138]),P(d,"input",e[138]),P(n,"dblclick",e[139]),P(v,"change",e[140]),P(v,"input",e[140]),P(p,"dblclick",e[141]),P(j,"change",e[142]),P(j,"input",e[142]),P(S,"dblclick",e[143])],oe=!0)},p(ue,ne){ne[0]&4&&i!==(i=ue[58].t("count",ue[2])+"")&&H(s,i),ne[0]&16&&H(c,ue[4]),ne[0]&16&&re(d,ue[4]),ne[0]&4&&A!==(A=ue[58].t("speed",ue[2])+"")&&H(q,A),ne[0]&64&&H(C,ue[6]),ne[0]&8&&ie(b,"disabled",ue[3]==qt.fix),ne[0]&8&&I!==(I=ue[3]==qt.fix)&&(v.disabled=I),ne[0]&64&&re(v,ue[6]),ne[0]&4&&T!==(T=ue[58].t("offset",ue[2])+"")&&H(w,T),ne[0]&32&&H(X,ue[5]),ne[0]&8&&ie(O,"disabled",ue[3]!==qt.fix),ne[0]&8&&ce!==(ce=ue[3]!==qt.fix)&&(j.disabled=ce),ne[0]&32&&re(j,ue[5])},d(ue){ue&&he(l),oe=!1,Qe(Q)}}}function sf(e){let l,n,t,r;return{c(){l=_("div"),n=_("input"),u(n,"id",M.drawPatternType),u(n,"class","hidden_input svelte-e1nddn"),u(l,"slot","hiddenInput")},m(i,s){de(i,l,s),o(l,n),re(n,e[3]),t||(r=P(n,"input",e[137]),t=!0)},p(i,s){s[0]&8&&n.value!==i[3]&&re(n,i[3])},d(i){i&&he(l),t=!1,r()}}}function af(e){let l,n,t,r;const i=[nf,lf],s=[];function f(a,c){return a[56]?1:0}return n=f(e),t=s[n]=i[n](e),{c(){l=_("div"),t.c(),u(l,"slot","drawPattern"),u(l,"class","h-full")},m(a,c){de(a,l,c),s[n].m(l,null),r=!0},p(a,c){let h=n;n=f(a),n===h?s[n].p(a,c):(St(),ee(s[h],1,1,()=>{s[h]=null}),Et(),t=s[n],t?t.p(a,c):(t=s[n]=i[n](a),t.c()),x(t,1),t.m(l,null))},i(a){r||(x(t),r=!0)},o(a){ee(t),r=!1},d(a){a&&he(l),s[n].d()}}}function uf(e){let l,n,t;function r(s){e[136](s)}let i={$$slots:{radiusSliders:[_f],shapes:[cf]},$$scope:{ctx:e}};return e[12]!==void 0&&(i.shapes=e[12]),l=new _u({props:i}),Mt.push(()=>Xt(l,"shapes",r)),{c(){Re(l.$$.fragment)},m(s,f){Ne(l,s,f),t=!0},p(s,f){const a={};f[0]&3076|f[5]&8192&&(a.$$scope={dirty:f,ctx:s}),!n&&f[0]&4096&&(n=!0,a.shapes=s[12],Yt(()=>n=!1)),l.$set(a)},i(s){t||(x(l.$$.fragment,s),t=!0)},o(s){ee(l.$$.fragment,s),t=!1},d(s){Ie(l,s)}}}function ff(e){let l,n;return l=new pl({}),{c(){Re(l.$$.fragment)},m(t,r){Ne(l,t,r),n=!0},p:dt,i(t){n||(x(l.$$.fragment,t),n=!0)},o(t){ee(l.$$.fragment,t),n=!1},d(t){Ie(l,t)}}}function cf(e){let l,n;return{c(){l=_("div"),n=_("input"),u(n,"id",M.shapes),u(n,"class","hidden_input svelte-e1nddn"),u(l,"slot","shapes")},m(t,r){de(t,l,r),o(l,n)},p:dt,d(t){t&&he(l)}}}function _f(e){let l,n,t,r,i=e[58].t("base",e[2])+"",s,f,a,c,h,d,g,p,b,B,A=e[58].t("step",e[2])+"",q,E,y,C,k,v,I,R;return{c(){l=_("div"),n=_("div"),t=_("label"),r=_("div"),s=D(i),f=m(),a=_("div"),c=D(e[10]),h=m(),d=_("input"),g=m(),p=_("div"),b=_("label"),B=_("div"),q=D(A),E=m(),y=_("div"),C=D(e[11]),k=m(),v=_("input"),u(t,"class","slider_label flex justify-between svelte-e1nddn"),u(t,"for",M.radiusBase),u(d,"id",M.radiusBase),u(d,"type","range"),u(d,"min",-1.1),u(d,"max",1.1),u(d,"step",.01),u(n,"class","w-full flex flex-col justify-between items-stretch"),u(b,"class","slider_label flex justify-between svelte-e1nddn"),u(b,"for",M.radiusStep),u(v,"id",M.radiusStep),u(v,"type","range"),u(v,"min",-.2),u(v,"max",.2),u(v,"step",.001),u(p,"class","w-full flex flex-col justify-between items-stretch"),u(l,"class","pl-5 pr-5 pb-5 grow flex flex-col justify-between items-stretch"),u(l,"slot","radiusSliders")},m(S,O){de(S,l,O),o(l,n),o(n,t),o(t,r),o(r,s),o(t,f),o(t,a),o(a,c),o(n,h),o(n,d),re(d,e[10]),o(l,g),o(l,p),o(p,b),o(b,B),o(B,q),o(b,E),o(b,y),o(y,C),o(p,k),o(p,v),re(v,e[11]),I||(R=[P(d,"change",e[132]),P(d,"input",e[132]),P(n,"dblclick",e[133]),P(v,"change",e[134]),P(v,"input",e[134]),P(p,"dblclick",e[135])],I=!0)},p(S,O){O[0]&4&&i!==(i=S[58].t("base",S[2])+"")&&H(s,i),O[0]&1024&&H(c,S[10]),O[0]&1024&&re(d,S[10]),O[0]&4&&A!==(A=S[58].t("step",S[2])+"")&&H(q,A),O[0]&2048&&H(C,S[11]),O[0]&2048&&re(v,S[11])},d(S){S&&he(l),I=!1,Qe(R)}}}function df(e){let l,n,t,r;const i=[ff,uf],s=[];function f(a,c){return a[56]?1:0}return n=f(e),t=s[n]=i[n](e),{c(){l=_("div"),t.c(),u(l,"slot","geometry"),u(l,"class","h-full")},m(a,c){de(a,l,c),s[n].m(l,null),r=!0},p(a,c){let h=n;n=f(a),n===h?s[n].p(a,c):(St(),ee(s[h],1,1,()=>{s[h]=null}),Et(),t=s[n],t?t.p(a,c):(t=s[n]=i[n](a),t.c()),x(t,1),t.m(l,null))},i(a){r||(x(t),r=!0)},o(a){ee(t),r=!1},d(a){a&&he(l),s[n].d()}}}function hf(e){let l,n;return l=new ju({props:{lfo1Active:e[14],lfo1Dest:e[16],lfo1Shape:e[19],lfo2Active:e[20],lfo2Dest:e[22],lfo2Shape:e[25],lfo3Active:e[26],lfo3Dest:e[28],lfo3Shape:e[31],lfo4Active:e[32],lfo4Dest:e[34],lfo4Shape:e[37],$$slots:{lfo4:[bf],lfo3:[mf],lfo2:[gf],lfo1:[vf]},$$scope:{ctx:e}}}),{c(){Re(l.$$.fragment)},m(t,r){Ne(l,t,r),n=!0},p(t,r){const i={};r[0]&16384&&(i.lfo1Active=t[14]),r[0]&65536&&(i.lfo1Dest=t[16]),r[0]&524288&&(i.lfo1Shape=t[19]),r[0]&1048576&&(i.lfo2Active=t[20]),r[0]&4194304&&(i.lfo2Dest=t[22]),r[0]&33554432&&(i.lfo2Shape=t[25]),r[0]&67108864&&(i.lfo3Active=t[26]),r[0]&268435456&&(i.lfo3Dest=t[28]),r[1]&1&&(i.lfo3Shape=t[31]),r[1]&2&&(i.lfo4Active=t[32]),r[1]&8&&(i.lfo4Dest=t[34]),r[1]&64&&(i.lfo4Shape=t[37]),r[0]&2147467268|r[1]&127|r[5]&8192&&(i.$$scope={dirty:r,ctx:t}),l.$set(i)},i(t){n||(x(l.$$.fragment,t),n=!0)},o(t){ee(l.$$.fragment,t),n=!1},d(t){Ie(l,t)}}}function pf(e){let l,n;return l=new pl({}),{c(){Re(l.$$.fragment)},m(t,r){Ne(l,t,r),n=!0},p:dt,i(t){n||(x(l.$$.fragment,t),n=!0)},o(t){ee(l.$$.fragment,t),n=!1},d(t){Ie(l,t)}}}function vf(e){let l,n,t,r,i,s,f,a,c,h=e[58].t("active",e[2])+"",d,g,p,b,B,A=e[58].t("frequency",e[2])+"",q,E,y,C,k,v,I,R,S,O,J=e[58].t("amplitude",e[2])+"",T,w,W,N=je(e[15])+"",X,V,j,ce,oe,Q,ue,ne=e[58].t("phase",e[2])+"",te,be,ge,G=je(e[18])+"",se,F,K,fe,Pe;return{c(){l=_("div"),n=_("input"),t=m(),r=_("input"),i=m(),s=_("div"),f=_("button"),a=_("input"),c=m(),d=D(h),g=m(),p=_("div"),b=_("label"),B=_("div"),q=D(A),E=m(),y=_("div"),C=D(e[17]),k=m(),v=_("input"),I=m(),R=_("div"),S=_("label"),O=_("div"),T=D(J),w=m(),W=_("div"),X=D(N),V=m(),j=_("input"),ce=m(),oe=_("div"),Q=_("label"),ue=_("div"),te=D(ne),be=m(),ge=_("div"),se=D(G),F=m(),K=_("input"),u(n,"id",M.lfo1Dest),u(n,"class","hidden_input svelte-e1nddn"),u(r,"id",M.lfo1Shape),u(r,"class","hidden_input svelte-e1nddn"),u(a,"id",M.lfo1Active),a.value=e[14],u(a,"class","hidden_input svelte-e1nddn"),u(f,"class","mt-2 mb-2 svelte-e1nddn"),ie(f,"active",e[14]),u(s,"class","grow w-full flex flex-col justify-center items-stretch"),u(b,"class","slider_label flex justify-between svelte-e1nddn"),u(b,"for",M.lfo1Freq),u(v,"id",M.lfo1Freq),u(v,"type","range"),u(v,"min",1),u(v,"max",255),u(v,"step",1),u(p,"class","grow w-full flex flex-col justify-center items-stretch"),u(S,"class","slider_label flex justify-between svelte-e1nddn"),u(S,"for",M.lfo1Amp),u(j,"id",M.lfo1Amp),u(j,"type","range"),u(j,"min",-1),u(j,"max",1),u(j,"step",.01),u(R,"class","grow w-full flex flex-col justify-center items-stretch"),u(Q,"class","slider_label flex justify-between svelte-e1nddn"),u(Q,"for",M.lfo1Phase),u(K,"id",M.lfo1Phase),u(K,"type","range"),u(K,"min",-3.14159),u(K,"max",3.13159),u(K,"step",.01),u(oe,"class","grow w-full flex flex-col justify-center items-stretch"),u(l,"class","w-full h-full pl-5 pr-5 grow flex flex-col justify-around items-stretch"),u(l,"slot","lfo1")},m(z,Z){de(z,l,Z),o(l,n),re(n,e[16]),o(l,t),o(l,r),re(r,e[19]),o(l,i),o(l,s),o(s,f),o(f,a),o(f,c),o(f,d),o(l,g),o(l,p),o(p,b),o(b,B),o(B,q),o(b,E),o(b,y),o(y,C),o(p,k),o(p,v),re(v,e[17]),o(l,I),o(l,R),o(R,S),o(S,O),o(O,T),o(S,w),o(S,W),o(W,X),o(R,V),o(R,j),re(j,e[15]),o(l,ce),o(l,oe),o(oe,Q),o(Q,ue),o(ue,te),o(Q,be),o(Q,ge),o(ge,se),o(oe,F),o(oe,K),re(K,e[18]),fe||(Pe=[P(n,"input",e[123]),P(r,"input",e[124]),P(f,"click",e[125]),P(v,"change",e[126]),P(v,"input",e[126]),P(p,"dblclick",e[127]),P(j,"change",e[128]),P(j,"input",e[128]),P(R,"dblclick",e[129]),P(K,"change",e[130]),P(K,"input",e[130]),P(oe,"dblclick",e[131])],fe=!0)},p(z,Z){Z[0]&65536&&n.value!==z[16]&&re(n,z[16]),Z[0]&524288&&r.value!==z[19]&&re(r,z[19]),Z[0]&16384&&a.value!==z[14]&&(a.value=z[14]),Z[0]&4&&h!==(h=z[58].t("active",z[2])+"")&&H(d,h),Z[0]&16384&&ie(f,"active",z[14]),Z[0]&4&&A!==(A=z[58].t("frequency",z[2])+"")&&H(q,A),Z[0]&131072&&H(C,z[17]),Z[0]&131072&&re(v,z[17]),Z[0]&4&&J!==(J=z[58].t("amplitude",z[2])+"")&&H(T,J),Z[0]&32768&&N!==(N=je(z[15])+"")&&H(X,N),Z[0]&32768&&re(j,z[15]),Z[0]&4&&ne!==(ne=z[58].t("phase",z[2])+"")&&H(te,ne),Z[0]&262144&&G!==(G=je(z[18])+"")&&H(se,G),Z[0]&262144&&re(K,z[18])},d(z){z&&he(l),fe=!1,Qe(Pe)}}}function gf(e){let l,n,t,r,i,s,f,a,c,h=e[58].t("active",e[2])+"",d,g,p,b,B,A=e[58].t("frequency",e[2])+"",q,E,y,C,k,v,I,R,S,O,J=e[58].t("amplitude",e[2])+"",T,w,W,N=je(e[21])+"",X,V,j,ce,oe,Q,ue,ne=e[58].t("phase",e[2])+"",te,be,ge,G=je(e[24])+"",se,F,K,fe,Pe;return{c(){l=_("div"),n=_("input"),t=m(),r=_("input"),i=m(),s=_("div"),f=_("button"),a=_("input"),c=m(),d=D(h),g=m(),p=_("div"),b=_("label"),B=_("div"),q=D(A),E=m(),y=_("div"),C=D(e[23]),k=m(),v=_("input"),I=m(),R=_("div"),S=_("label"),O=_("div"),T=D(J),w=m(),W=_("div"),X=D(N),V=m(),j=_("input"),ce=m(),oe=_("div"),Q=_("label"),ue=_("div"),te=D(ne),be=m(),ge=_("div"),se=D(G),F=m(),K=_("input"),u(n,"id",M.lfo2Dest),u(n,"class","hidden_input svelte-e1nddn"),u(r,"id",M.lfo2Shape),u(r,"class","hidden_input svelte-e1nddn"),u(a,"id",M.lfo2Active),a.value=e[20],u(a,"class","hidden_input svelte-e1nddn"),u(f,"class","mt-2 mb-2 svelte-e1nddn"),ie(f,"active",e[20]),u(s,"class","grow w-full flex flex-col justify-center items-stretch"),u(b,"class","slider_label flex justify-between svelte-e1nddn"),u(b,"for",M.lfo2Freq),u(v,"id",M.lfo2Freq),u(v,"type","range"),u(v,"min",1),u(v,"max",255),u(v,"step",1),u(p,"class","grow w-full flex flex-col justify-center items-stretch"),u(S,"class","slider_label flex justify-between svelte-e1nddn"),u(S,"for",M.lfo2Amp),u(j,"id",M.lfo2Amp),u(j,"type","range"),u(j,"min",-1),u(j,"max",1),u(j,"step",.01),u(R,"class","grow w-full flex flex-col justify-center items-stretch"),u(Q,"class","slider_label flex justify-between svelte-e1nddn"),u(Q,"for",M.lfo2Phase),u(K,"id",M.lfo2Phase),u(K,"type","range"),u(K,"min",-3.14159),u(K,"max",3.13159),u(K,"step",.01),u(oe,"class","grow w-full flex flex-col justify-center items-stretch"),u(l,"class","w-full h-full pl-5 pr-5 grow flex flex-col justify-around items-stretch"),u(l,"slot","lfo2")},m(z,Z){de(z,l,Z),o(l,n),re(n,e[22]),o(l,t),o(l,r),re(r,e[25]),o(l,i),o(l,s),o(s,f),o(f,a),o(f,c),o(f,d),o(l,g),o(l,p),o(p,b),o(b,B),o(B,q),o(b,E),o(b,y),o(y,C),o(p,k),o(p,v),re(v,e[23]),o(l,I),o(l,R),o(R,S),o(S,O),o(O,T),o(S,w),o(S,W),o(W,X),o(R,V),o(R,j),re(j,e[21]),o(l,ce),o(l,oe),o(oe,Q),o(Q,ue),o(ue,te),o(Q,be),o(Q,ge),o(ge,se),o(oe,F),o(oe,K),re(K,e[24]),fe||(Pe=[P(n,"input",e[114]),P(r,"input",e[115]),P(f,"click",e[116]),P(v,"change",e[117]),P(v,"input",e[117]),P(p,"dblclick",e[118]),P(j,"change",e[119]),P(j,"input",e[119]),P(R,"dblclick",e[120]),P(K,"change",e[121]),P(K,"input",e[121]),P(oe,"dblclick",e[122])],fe=!0)},p(z,Z){Z[0]&4194304&&n.value!==z[22]&&re(n,z[22]),Z[0]&33554432&&r.value!==z[25]&&re(r,z[25]),Z[0]&1048576&&a.value!==z[20]&&(a.value=z[20]),Z[0]&4&&h!==(h=z[58].t("active",z[2])+"")&&H(d,h),Z[0]&1048576&&ie(f,"active",z[20]),Z[0]&4&&A!==(A=z[58].t("frequency",z[2])+"")&&H(q,A),Z[0]&8388608&&H(C,z[23]),Z[0]&8388608&&re(v,z[23]),Z[0]&4&&J!==(J=z[58].t("amplitude",z[2])+"")&&H(T,J),Z[0]&2097152&&N!==(N=je(z[21])+"")&&H(X,N),Z[0]&2097152&&re(j,z[21]),Z[0]&4&&ne!==(ne=z[58].t("phase",z[2])+"")&&H(te,ne),Z[0]&16777216&&G!==(G=je(z[24])+"")&&H(se,G),Z[0]&16777216&&re(K,z[24])},d(z){z&&he(l),fe=!1,Qe(Pe)}}}function mf(e){let l,n,t,r,i,s,f,a,c,h=e[58].t("active",e[2])+"",d,g,p,b,B,A=e[58].t("frequency",e[2])+"",q,E,y,C,k,v,I,R,S,O,J=e[58].t("amplitude",e[2])+"",T,w,W,N=je(e[27])+"",X,V,j,ce,oe,Q,ue,ne=e[58].t("phase",e[2])+"",te,be,ge,G=je(e[30])+"",se,F,K,fe,Pe;return{c(){l=_("div"),n=_("input"),t=m(),r=_("input"),i=m(),s=_("div"),f=_("button"),a=_("input"),c=m(),d=D(h),g=m(),p=_("div"),b=_("label"),B=_("div"),q=D(A),E=m(),y=_("div"),C=D(e[29]),k=m(),v=_("input"),I=m(),R=_("div"),S=_("label"),O=_("div"),T=D(J),w=m(),W=_("div"),X=D(N),V=m(),j=_("input"),ce=m(),oe=_("div"),Q=_("label"),ue=_("div"),te=D(ne),be=m(),ge=_("div"),se=D(G),F=m(),K=_("input"),u(n,"id",M.lfo3Dest),u(n,"class","hidden_input svelte-e1nddn"),u(r,"id",M.lfo3Shape),u(r,"class","hidden_input svelte-e1nddn"),u(a,"id",M.lfo3Active),a.value=e[26],u(a,"class","hidden_input svelte-e1nddn"),u(f,"class","mt-2 mb-2 svelte-e1nddn"),ie(f,"active",e[26]),u(s,"class","grow w-full flex flex-col justify-center items-stretch"),u(b,"class","slider_label flex justify-between svelte-e1nddn"),u(b,"for",M.lfo3Freq),u(v,"id",M.lfo3Freq),u(v,"type","range"),u(v,"min",1),u(v,"max",255),u(v,"step",1),u(p,"class","grow w-full flex flex-col justify-center items-stretch"),u(S,"class","slider_label flex justify-between svelte-e1nddn"),u(S,"for",M.lfo3Amp),u(j,"id",M.lfo3Amp),u(j,"type","range"),u(j,"min",-1),u(j,"max",1),u(j,"step",.01),u(R,"class","grow w-full flex flex-col justify-center items-stretch"),u(Q,"class","slider_label flex justify-between svelte-e1nddn"),u(Q,"for",M.lfo3Phase),u(K,"id",M.lfo3Phase),u(K,"type","range"),u(K,"min",-3.14159),u(K,"max",3.13159),u(K,"step",.01),u(oe,"class","grow w-full flex flex-col justify-center items-stretch"),u(l,"class","w-full h-full pl-5 pr-5 grow flex flex-col justify-around items-stretch"),u(l,"slot","lfo3")},m(z,Z){de(z,l,Z),o(l,n),re(n,e[28]),o(l,t),o(l,r),re(r,e[31]),o(l,i),o(l,s),o(s,f),o(f,a),o(f,c),o(f,d),o(l,g),o(l,p),o(p,b),o(b,B),o(B,q),o(b,E),o(b,y),o(y,C),o(p,k),o(p,v),re(v,e[29]),o(l,I),o(l,R),o(R,S),o(S,O),o(O,T),o(S,w),o(S,W),o(W,X),o(R,V),o(R,j),re(j,e[27]),o(l,ce),o(l,oe),o(oe,Q),o(Q,ue),o(ue,te),o(Q,be),o(Q,ge),o(ge,se),o(oe,F),o(oe,K),re(K,e[30]),fe||(Pe=[P(n,"input",e[105]),P(r,"input",e[106]),P(f,"click",e[107]),P(v,"change",e[108]),P(v,"input",e[108]),P(p,"dblclick",e[109]),P(j,"change",e[110]),P(j,"input",e[110]),P(R,"dblclick",e[111]),P(K,"change",e[112]),P(K,"input",e[112]),P(oe,"dblclick",e[113])],fe=!0)},p(z,Z){Z[0]&268435456&&n.value!==z[28]&&re(n,z[28]),Z[1]&1&&r.value!==z[31]&&re(r,z[31]),Z[0]&67108864&&a.value!==z[26]&&(a.value=z[26]),Z[0]&4&&h!==(h=z[58].t("active",z[2])+"")&&H(d,h),Z[0]&67108864&&ie(f,"active",z[26]),Z[0]&4&&A!==(A=z[58].t("frequency",z[2])+"")&&H(q,A),Z[0]&536870912&&H(C,z[29]),Z[0]&536870912&&re(v,z[29]),Z[0]&4&&J!==(J=z[58].t("amplitude",z[2])+"")&&H(T,J),Z[0]&134217728&&N!==(N=je(z[27])+"")&&H(X,N),Z[0]&134217728&&re(j,z[27]),Z[0]&4&&ne!==(ne=z[58].t("phase",z[2])+"")&&H(te,ne),Z[0]&1073741824&&G!==(G=je(z[30])+"")&&H(se,G),Z[0]&1073741824&&re(K,z[30])},d(z){z&&he(l),fe=!1,Qe(Pe)}}}function bf(e){let l,n,t,r,i,s,f,a,c,h=e[58].t("active",e[2])+"",d,g,p,b,B,A=e[58].t("frequency",e[2])+"",q,E,y,C,k,v,I,R,S,O,J=e[58].t("amplitude",e[2])+"",T,w,W,N=je(e[33])+"",X,V,j,ce,oe,Q,ue,ne=e[58].t("phase",e[2])+"",te,be,ge,G=je(e[36])+"",se,F,K,fe,Pe;return{c(){l=_("div"),n=_("input"),t=m(),r=_("input"),i=m(),s=_("div"),f=_("button"),a=_("input"),c=m(),d=D(h),g=m(),p=_("div"),b=_("label"),B=_("div"),q=D(A),E=m(),y=_("div"),C=D(e[35]),k=m(),v=_("input"),I=m(),R=_("div"),S=_("label"),O=_("div"),T=D(J),w=m(),W=_("div"),X=D(N),V=m(),j=_("input"),ce=m(),oe=_("div"),Q=_("label"),ue=_("div"),te=D(ne),be=m(),ge=_("div"),se=D(G),F=m(),K=_("input"),u(n,"id",M.lfo4Dest),u(n,"class","hidden_input svelte-e1nddn"),u(r,"id",M.lfo4Shape),u(r,"class","hidden_input svelte-e1nddn"),u(a,"id",M.lfo4Active),a.value=e[32],u(a,"class","hidden_input svelte-e1nddn"),u(f,"class","mt-2 mb-2 svelte-e1nddn"),ie(f,"active",e[32]),u(s,"class","grow w-full flex flex-col justify-center items-stretch"),u(b,"class","slider_label flex justify-between svelte-e1nddn"),u(b,"for",M.lfo4Freq),u(v,"id",M.lfo4Freq),u(v,"type","range"),u(v,"min",1),u(v,"max",255),u(v,"step",1),u(p,"class","grow w-full flex flex-col justify-center items-stretch"),u(S,"class","slider_label flex justify-between svelte-e1nddn"),u(S,"for",M.lfo4Amp),u(j,"id",M.lfo4Amp),u(j,"type","range"),u(j,"min",-1),u(j,"max",1),u(j,"step",.01),u(R,"class","grow w-full flex flex-col justify-center items-stretch"),u(Q,"class","slider_label flex justify-between svelte-e1nddn"),u(Q,"for",M.lfo4Phase),u(K,"id",M.lfo4Phase),u(K,"type","range"),u(K,"min",-3.14159),u(K,"max",3.13159),u(K,"step",.01),u(oe,"class","grow w-full flex flex-col justify-center items-stretch"),u(l,"class","w-full h-full pl-5 pr-5 grow flex flex-col justify-around items-stretch"),u(l,"slot","lfo4")},m(z,Z){de(z,l,Z),o(l,n),re(n,e[34]),o(l,t),o(l,r),re(r,e[37]),o(l,i),o(l,s),o(s,f),o(f,a),o(f,c),o(f,d),o(l,g),o(l,p),o(p,b),o(b,B),o(B,q),o(b,E),o(b,y),o(y,C),o(p,k),o(p,v),re(v,e[35]),o(l,I),o(l,R),o(R,S),o(S,O),o(O,T),o(S,w),o(S,W),o(W,X),o(R,V),o(R,j),re(j,e[33]),o(l,ce),o(l,oe),o(oe,Q),o(Q,ue),o(ue,te),o(Q,be),o(Q,ge),o(ge,se),o(oe,F),o(oe,K),re(K,e[36]),fe||(Pe=[P(n,"input",e[96]),P(r,"input",e[97]),P(f,"click",e[98]),P(v,"change",e[99]),P(v,"input",e[99]),P(p,"dblclick",e[100]),P(j,"change",e[101]),P(j,"input",e[101]),P(R,"dblclick",e[102]),P(K,"change",e[103]),P(K,"input",e[103]),P(oe,"dblclick",e[104])],fe=!0)},p(z,Z){Z[1]&8&&n.value!==z[34]&&re(n,z[34]),Z[1]&64&&r.value!==z[37]&&re(r,z[37]),Z[1]&2&&a.value!==z[32]&&(a.value=z[32]),Z[0]&4&&h!==(h=z[58].t("active",z[2])+"")&&H(d,h),Z[1]&2&&ie(f,"active",z[32]),Z[0]&4&&A!==(A=z[58].t("frequency",z[2])+"")&&H(q,A),Z[1]&16&&H(C,z[35]),Z[1]&16&&re(v,z[35]),Z[0]&4&&J!==(J=z[58].t("amplitude",z[2])+"")&&H(T,J),Z[1]&4&&N!==(N=je(z[33])+"")&&H(X,N),Z[1]&4&&re(j,z[33]),Z[0]&4&&ne!==(ne=z[58].t("phase",z[2])+"")&&H(te,ne),Z[1]&32&&G!==(G=je(z[36])+"")&&H(se,G),Z[1]&32&&re(K,z[36])},d(z){z&&he(l),fe=!1,Qe(Pe)}}}function wf(e){let l,n,t,r;const i=[pf,hf],s=[];function f(a,c){return a[56]?1:0}return n=f(e),t=s[n]=i[n](e),{c(){l=_("div"),t.c(),u(l,"slot","lfo"),u(l,"class","h-full")},m(a,c){de(a,l,c),s[n].m(l,null),r=!0},p(a,c){let h=n;n=f(a),n===h?s[n].p(a,c):(St(),ee(s[h],1,1,()=>{s[h]=null}),Et(),t=s[n],t?t.p(a,c):(t=s[n]=i[n](a),t.c()),x(t,1),t.m(l,null))},i(a){r||(x(t),r=!0)},o(a){ee(t),r=!1},d(a){a&&he(l),s[n].d()}}}function kf(e){let l,n,t;function r(s){e[95](s)}let i={updateUiSettings:e[60],$$slots:{preset:[Sf]},$$scope:{ctx:e}};return e[38]!==void 0&&(i.preset=e[38]),l=new Ku({props:i}),Mt.push(()=>Xt(l,"preset",r)),{c(){Re(l.$$.fragment)},m(s,f){Ne(l,s,f),t=!0},p(s,f){const a={};f[1]&128|f[5]&8192&&(a.$$scope={dirty:f,ctx:s}),!n&&f[1]&128&&(n=!0,a.preset=s[38],Yt(()=>n=!1)),l.$set(a)},i(s){t||(x(l.$$.fragment,s),t=!0)},o(s){ee(l.$$.fragment,s),t=!1},d(s){Ie(l,s)}}}function yf(e){let l,n;return l=new pl({}),{c(){Re(l.$$.fragment)},m(t,r){Ne(l,t,r),n=!0},p:dt,i(t){n||(x(l.$$.fragment,t),n=!0)},o(t){ee(l.$$.fragment,t),n=!1},d(t){Ie(l,t)}}}function Sf(e){let l,n;return{c(){l=_("div"),n=_("input"),u(n,"id",M.preset),n.value=e[38],u(n,"class","hidden_input svelte-e1nddn"),u(l,"slot","preset")},m(t,r){de(t,l,r),o(l,n)},p(t,r){r[1]&128&&n.value!==t[38]&&(n.value=t[38])},d(t){t&&he(l)}}}function Ef(e){let l,n,t,r;const i=[yf,kf],s=[];function f(a,c){return a[56]?1:0}return n=f(e),t=s[n]=i[n](e),{c(){l=_("div"),t.c(),u(l,"slot","presets"),u(l,"class","h-full")},m(a,c){de(a,l,c),s[n].m(l,null),r=!0},p(a,c){let h=n;n=f(a),n===h?s[n].p(a,c):(St(),ee(s[h],1,1,()=>{s[h]=null}),Et(),t=s[n],t?t.p(a,c):(t=s[n]=i[n](a),t.c()),x(t,1),t.m(l,null))},i(a){r||(x(t),r=!0)},o(a){ee(t),r=!1},d(a){a&&he(l),s[n].d()}}}function jf(e){let l,n;return l=new Lu({props:{$$slots:{mouseTracking:[Of],ySliders:[Cf],xSliders:[Pf]},$$scope:{ctx:e}}}),{c(){Re(l.$$.fragment)},m(t,r){Ne(l,t,r),n=!0},p(t,r){const i={};r[0]&4|r[1]&7936|r[5]&8192&&(i.$$scope={dirty:r,ctx:t}),l.$set(i)},i(t){n||(x(l.$$.fragment,t),n=!0)},o(t){ee(l.$$.fragment,t),n=!1},d(t){Ie(l,t)}}}function Af(e){let l,n;return l=new pl({}),{c(){Re(l.$$.fragment)},m(t,r){Ne(l,t,r),n=!0},p:dt,i(t){n||(x(l.$$.fragment,t),n=!0)},o(t){ee(l.$$.fragment,t),n=!1},d(t){Ie(l,t)}}}function Pf(e){let l,n,t,r,i=e[58].t("base",e[2])+"",s,f,a,c,h,d,g,p,b,B,A=e[58].t("spread",e[2])+"",q,E,y,C,k,v,I,R;return{c(){l=_("div"),n=_("div"),t=_("label"),r=_("div"),s=D(i),f=m(),a=_("div"),c=D(e[39]),h=m(),d=_("input"),g=m(),p=_("div"),b=_("label"),B=_("div"),q=D(A),E=m(),y=_("div"),C=D(e[40]),k=m(),v=_("input"),u(t,"class","slider_label flex justify-between svelte-e1nddn"),u(t,"for",M.translationXBase),u(d,"id",M.translationXBase),u(d,"type","range"),u(d,"min",-2),u(d,"max",2),u(d,"step",.01),u(n,"class","w-full flex flex-col justify-between items-stretch"),u(b,"class","slider_label flex justify-between svelte-e1nddn"),u(b,"for",M.translationXSpread),u(v,"id",M.translationXSpread),u(v,"type","range"),u(v,"min",-2),u(v,"max",2),u(v,"step",.01),u(p,"class","w-full flex flex-col justify-between items-stretch"),u(l,"class","pl-5 pr-5 grow flex flex-col justify-around items-stretch"),u(l,"slot","xSliders")},m(S,O){de(S,l,O),o(l,n),o(n,t),o(t,r),o(r,s),o(t,f),o(t,a),o(a,c),o(n,h),o(n,d),re(d,e[39]),o(l,g),o(l,p),o(p,b),o(b,B),o(B,q),o(b,E),o(b,y),o(y,C),o(p,k),o(p,v),re(v,e[40]),I||(R=[P(d,"change",e[91]),P(d,"input",e[91]),P(n,"dblclick",e[92]),P(v,"change",e[93]),P(v,"input",e[93]),P(p,"dblclick",e[94])],I=!0)},p(S,O){O[0]&4&&i!==(i=S[58].t("base",S[2])+"")&&H(s,i),O[1]&256&&H(c,S[39]),O[1]&256&&re(d,S[39]),O[0]&4&&A!==(A=S[58].t("spread",S[2])+"")&&H(q,A),O[1]&512&&H(C,S[40]),O[1]&512&&re(v,S[40])},d(S){S&&he(l),I=!1,Qe(R)}}}function Cf(e){let l,n,t,r,i=e[58].t("base",e[2])+"",s,f,a,c,h,d,g,p,b,B,A=e[58].t("spread",e[2])+"",q,E,y,C,k,v,I,R;return{c(){l=_("div"),n=_("div"),t=_("label"),r=_("div"),s=D(i),f=m(),a=_("div"),c=D(e[41]),h=m(),d=_("input"),g=m(),p=_("div"),b=_("label"),B=_("div"),q=D(A),E=m(),y=_("div"),C=D(e[42]),k=m(),v=_("input"),u(t,"class","slider_label flex justify-between svelte-e1nddn"),u(t,"for",M.translationYBase),u(d,"id",M.translationYBase),u(d,"type","range"),u(d,"min",-2),u(d,"max",2),u(d,"step",.01),u(n,"class","w-full flex flex-col justify-between items-stretch"),u(b,"class","slider_label flex justify-between svelte-e1nddn"),u(b,"for",M.translationYSpread),u(v,"id",M.translationYSpread),u(v,"type","range"),u(v,"min",-2),u(v,"max",2),u(v,"step",.01),u(p,"class","w-full flex flex-col justify-between items-stretch"),u(l,"class","pl-5 pr-5 grow flex flex-col justify-around items-stretch"),u(l,"slot","ySliders")},m(S,O){de(S,l,O),o(l,n),o(n,t),o(t,r),o(r,s),o(t,f),o(t,a),o(a,c),o(n,h),o(n,d),re(d,e[41]),o(l,g),o(l,p),o(p,b),o(b,B),o(B,q),o(b,E),o(b,y),o(y,C),o(p,k),o(p,v),re(v,e[42]),I||(R=[P(d,"change",e[87]),P(d,"input",e[87]),P(n,"dblclick",e[88]),P(v,"change",e[89]),P(v,"input",e[89]),P(p,"dblclick",e[90])],I=!0)},p(S,O){O[0]&4&&i!==(i=S[58].t("base",S[2])+"")&&H(s,i),O[1]&1024&&H(c,S[41]),O[1]&1024&&re(d,S[41]),O[0]&4&&A!==(A=S[58].t("spread",S[2])+"")&&H(q,A),O[1]&2048&&H(C,S[42]),O[1]&2048&&re(v,S[42])},d(S){S&&he(l),I=!1,Qe(R)}}}function Tf(e){let l,n,t,r;return{c(){l=_("div"),n=_("input"),u(n,"id",M.mouseTracking),u(n,"class","hidden_input svelte-e1nddn"),u(l,"slot","hiddenInput")},m(i,s){de(i,l,s),o(l,n),re(n,e[43]),t||(r=P(n,"input",e[86]),t=!0)},p(i,s){s[1]&4096&&n.value!==i[43]&&re(n,i[43])},d(i){i&&he(l),t=!1,r()}}}function Of(e){let l,n,t;return n=new Ou({props:{currOption:e[43],$$slots:{hiddenInput:[Tf]},$$scope:{ctx:e}}}),{c(){l=_("div"),Re(n.$$.fragment),u(l,"slot","mouseTracking")},m(r,i){de(r,l,i),Ne(n,l,null),t=!0},p(r,i){const s={};i[1]&4096&&(s.currOption=r[43]),i[1]&4096|i[5]&8192&&(s.$$scope={dirty:i,ctx:r}),n.$set(s)},i(r){t||(x(n.$$.fragment,r),t=!0)},o(r){ee(n.$$.fragment,r),t=!1},d(r){r&&he(l),Ie(n)}}}function qf(e){let l,n,t,r;const i=[Af,jf],s=[];function f(a,c){return a[56]?1:0}return n=f(e),t=s[n]=i[n](e),{c(){l=_("div"),t.c(),u(l,"slot","translation"),u(l,"class","h-full")},m(a,c){de(a,l,c),s[n].m(l,null),r=!0},p(a,c){let h=n;n=f(a),n===h?s[n].p(a,c):(St(),ee(s[h],1,1,()=>{s[h]=null}),Et(),t=s[n],t?t.p(a,c):(t=s[n]=i[n](a),t.c()),x(t,1),t.m(l,null))},i(a){r||(x(t),r=!0)},o(a){ee(t),r=!1},d(a){a&&he(l),s[n].d()}}}function Df(e){let l,n;return l=new Iu({props:{$$slots:{yaw:[If],roll:[Nf],pitch:[Rf]},$$scope:{ctx:e}}}),{c(){Re(l.$$.fragment)},m(t,r){Ne(l,t,r),n=!0},p(t,r){const i={};r[0]&4|r[1]&33546240|r[5]&8192&&(i.$$scope={dirty:r,ctx:t}),l.$set(i)},i(t){n||(x(l.$$.fragment,t),n=!0)},o(t){ee(l.$$.fragment,t),n=!1},d(t){Ie(l,t)}}}function Bf(e){let l,n;return l=new pl({}),{c(){Re(l.$$.fragment)},m(t,r){Ne(l,t,r),n=!0},p:dt,i(t){n||(x(l.$$.fragment,t),n=!0)},o(t){ee(l.$$.fragment,t),n=!1},d(t){Ie(l,t)}}}function Rf(e){let l,n,t,r,i=e[58].t("base",e[2])+"",s,f,a,c,h,d,g,p,b,B,A=e[58].t("spread",e[2])+"",q,E,y,C,k,v,I,R,S,O,J,T,w,W,N,X,V,j,ce,oe,Q,ue,ne,te,be,ge;return{c(){l=_("div"),n=_("div"),t=_("label"),r=_("div"),s=D(i),f=m(),a=_("div"),c=D(e[44]),h=m(),d=_("input"),g=m(),p=_("div"),b=_("label"),B=_("div"),q=D(A),E=m(),y=_("div"),C=D(e[45]),k=m(),v=_("input"),I=m(),R=_("div"),S=_("label"),O=_("div"),O.textContent="X",J=m(),T=_("div"),w=D(e[46]),W=m(),N=_("input"),X=m(),V=_("div"),j=_("label"),ce=_("div"),ce.textContent="Y",oe=m(),Q=_("div"),ue=D(e[47]),ne=m(),te=_("input"),u(t,"class","slider_label flex justify-between svelte-e1nddn"),u(t,"for",M.pitchBase),u(d,"id",M.pitchBase),u(d,"type","range"),u(d,"min",-6.33),u(d,"max",6.33),u(d,"step",.01),u(n,"class","flex flex-col"),u(b,"class","slider_label flex justify-between svelte-e1nddn"),u(b,"for",M.pitchSpread),u(v,"id",M.pitchSpread),u(v,"type","range"),u(v,"min",-.33),u(v,"max",.33),u(v,"step",.01),u(p,"class","flex flex-col"),u(S,"class","slider_label flex justify-between svelte-e1nddn"),u(S,"for",M.pitchX),u(N,"id",M.pitchX),u(N,"type","range"),u(N,"min",-2),u(N,"max",2),u(N,"step",.01),u(R,"class","flex flex-col"),u(j,"class","slider_label flex justify-between svelte-e1nddn"),u(j,"for",M.pitchY),u(te,"id",M.pitchY),u(te,"type","range"),u(te,"min",-2),u(te,"max",2),u(te,"step",.01),u(V,"class","flex flex-col"),u(l,"slot","pitch"),u(l,"class","grow flex flex-col justify-around items-stretch p-2")},m(G,se){de(G,l,se),o(l,n),o(n,t),o(t,r),o(r,s),o(t,f),o(t,a),o(a,c),o(n,h),o(n,d),re(d,e[44]),o(l,g),o(l,p),o(p,b),o(b,B),o(B,q),o(b,E),o(b,y),o(y,C),o(p,k),o(p,v),re(v,e[45]),o(l,I),o(l,R),o(R,S),o(S,O),o(S,J),o(S,T),o(T,w),o(R,W),o(R,N),re(N,e[46]),o(l,X),o(l,V),o(V,j),o(j,ce),o(j,oe),o(j,Q),o(Q,ue),o(V,ne),o(V,te),re(te,e[47]),be||(ge=[P(d,"change",e[78]),P(d,"input",e[78]),P(n,"dblclick",e[79]),P(v,"change",e[80]),P(v,"input",e[80]),P(p,"dblclick",e[81]),P(N,"change",e[82]),P(N,"input",e[82]),P(R,"dblclick",e[83]),P(te,"change",e[84]),P(te,"input",e[84]),P(V,"dblclick",e[85])],be=!0)},p(G,se){se[0]&4&&i!==(i=G[58].t("base",G[2])+"")&&H(s,i),se[1]&8192&&H(c,G[44]),se[1]&8192&&re(d,G[44]),se[0]&4&&A!==(A=G[58].t("spread",G[2])+"")&&H(q,A),se[1]&16384&&H(C,G[45]),se[1]&16384&&re(v,G[45]),se[1]&32768&&H(w,G[46]),se[1]&32768&&re(N,G[46]),se[1]&65536&&H(ue,G[47]),se[1]&65536&&re(te,G[47])},d(G){G&&he(l),be=!1,Qe(ge)}}}function Nf(e){let l,n,t,r,i=e[58].t("base",e[2])+"",s,f,a,c,h,d,g,p,b,B,A=e[58].t("spread",e[2])+"",q,E,y,C,k,v,I,R,S,O,J,T,w,W,N,X,V,j,ce,oe,Q,ue,ne,te,be,ge;return{c(){l=_("div"),n=_("div"),t=_("label"),r=_("div"),s=D(i),f=m(),a=_("div"),c=D(e[48]),h=m(),d=_("input"),g=m(),p=_("div"),b=_("label"),B=_("div"),q=D(A),E=m(),y=_("div"),C=D(e[49]),k=m(),v=_("input"),I=m(),R=_("div"),S=_("label"),O=_("div"),O.textContent="X",J=m(),T=_("div"),w=D(e[50]),W=m(),N=_("input"),X=m(),V=_("div"),j=_("label"),ce=_("div"),ce.textContent="Y",oe=m(),Q=_("div"),ue=D(e[51]),ne=m(),te=_("input"),u(t,"class","slider_label flex justify-between svelte-e1nddn"),u(t,"for",M.rollBase),u(d,"id",M.rollBase),u(d,"type","range"),u(d,"min",-6.33),u(d,"max",6.33),u(d,"step",.01),u(n,"class","flex flex-col"),u(b,"class","slider_label flex justify-between svelte-e1nddn"),u(b,"for",M.rollSpread),u(v,"id",M.rollSpread),u(v,"type","range"),u(v,"min",-.33),u(v,"max",.33),u(v,"step",.01),u(p,"class","flex flex-col"),u(S,"class","slider_label flex justify-between svelte-e1nddn"),u(S,"for",M.rollX),u(N,"id",M.rollX),u(N,"type","range"),u(N,"min",-2),u(N,"max",2),u(N,"step",.01),u(R,"class","flex flex-col"),u(j,"class","slider_label flex justify-between svelte-e1nddn"),u(j,"for",M.rollY),u(te,"id",M.rollY),u(te,"type","range"),u(te,"min",-2),u(te,"max",2),u(te,"step",.01),u(V,"class","flex flex-col"),u(l,"slot","roll"),u(l,"class","grow flex flex-col justify-around items-stretch p-2")},m(G,se){de(G,l,se),o(l,n),o(n,t),o(t,r),o(r,s),o(t,f),o(t,a),o(a,c),o(n,h),o(n,d),re(d,e[48]),o(l,g),o(l,p),o(p,b),o(b,B),o(B,q),o(b,E),o(b,y),o(y,C),o(p,k),o(p,v),re(v,e[49]),o(l,I),o(l,R),o(R,S),o(S,O),o(S,J),o(S,T),o(T,w),o(R,W),o(R,N),re(N,e[50]),o(l,X),o(l,V),o(V,j),o(j,ce),o(j,oe),o(j,Q),o(Q,ue),o(V,ne),o(V,te),re(te,e[51]),be||(ge=[P(d,"change",e[70]),P(d,"input",e[70]),P(n,"dblclick",e[71]),P(v,"change",e[72]),P(v,"input",e[72]),P(p,"dblclick",e[73]),P(N,"change",e[74]),P(N,"input",e[74]),P(R,"dblclick",e[75]),P(te,"change",e[76]),P(te,"input",e[76]),P(V,"dblclick",e[77])],be=!0)},p(G,se){se[0]&4&&i!==(i=G[58].t("base",G[2])+"")&&H(s,i),se[1]&131072&&H(c,G[48]),se[1]&131072&&re(d,G[48]),se[0]&4&&A!==(A=G[58].t("spread",G[2])+"")&&H(q,A),se[1]&262144&&H(C,G[49]),se[1]&262144&&re(v,G[49]),se[1]&524288&&H(w,G[50]),se[1]&524288&&re(N,G[50]),se[1]&1048576&&H(ue,G[51]),se[1]&1048576&&re(te,G[51])},d(G){G&&he(l),be=!1,Qe(ge)}}}function If(e){let l,n,t,r,i=e[58].t("base",e[2])+"",s,f,a,c,h,d,g,p,b,B,A=e[58].t("spread",e[2])+"",q,E,y,C,k,v,I,R,S,O,J,T,w,W,N,X,V,j,ce,oe,Q,ue,ne,te,be,ge;return{c(){l=_("div"),n=_("div"),t=_("label"),r=_("div"),s=D(i),f=m(),a=_("div"),c=D(e[52]),h=m(),d=_("input"),g=m(),p=_("div"),b=_("label"),B=_("div"),q=D(A),E=m(),y=_("div"),C=D(e[53]),k=m(),v=_("input"),I=m(),R=_("div"),S=_("label"),O=_("div"),O.textContent="X",J=m(),T=_("div"),w=D(e[54]),W=m(),N=_("input"),X=m(),V=_("div"),j=_("label"),ce=_("div"),ce.textContent="Y",oe=m(),Q=_("div"),ue=D(e[55]),ne=m(),te=_("input"),u(t,"class","slider_label flex justify-between svelte-e1nddn"),u(t,"for",M.yawBase),u(d,"id",M.yawBase),u(d,"type","range"),u(d,"min",-6.33),u(d,"max",6.33),u(d,"step",.01),u(n,"class","flex flex-col"),u(b,"class","slider_label flex justify-between svelte-e1nddn"),u(b,"for",M.yawSpread),u(v,"id",M.yawSpread),u(v,"type","range"),u(v,"min",-.33),u(v,"max",.33),u(v,"step",.01),u(p,"class","flex flex-col"),u(S,"class","slider_label flex justify-between svelte-e1nddn"),u(S,"for",M.yawX),u(N,"id",M.yawX),u(N,"type","range"),u(N,"min",-2),u(N,"max",2),u(N,"step",.01),u(R,"class","flex flex-col"),u(j,"class","slider_label flex justify-between svelte-e1nddn"),u(j,"for",M.yawY),u(te,"id",M.yawY),u(te,"type","range"),u(te,"min",-2),u(te,"max",2),u(te,"step",.01),u(V,"class","flex flex-col"),u(l,"slot","yaw"),u(l,"class","grow flex flex-col justify-around items-stretch p-2")},m(G,se){de(G,l,se),o(l,n),o(n,t),o(t,r),o(r,s),o(t,f),o(t,a),o(a,c),o(n,h),o(n,d),re(d,e[52]),o(l,g),o(l,p),o(p,b),o(b,B),o(B,q),o(b,E),o(b,y),o(y,C),o(p,k),o(p,v),re(v,e[53]),o(l,I),o(l,R),o(R,S),o(S,O),o(S,J),o(S,T),o(T,w),o(R,W),o(R,N),re(N,e[54]),o(l,X),o(l,V),o(V,j),o(j,ce),o(j,oe),o(j,Q),o(Q,ue),o(V,ne),o(V,te),re(te,e[55]),be||(ge=[P(d,"change",e[62]),P(d,"input",e[62]),P(n,"dblclick",e[63]),P(v,"change",e[64]),P(v,"input",e[64]),P(p,"dblclick",e[65]),P(N,"change",e[66]),P(N,"input",e[66]),P(R,"dblclick",e[67]),P(te,"change",e[68]),P(te,"input",e[68]),P(V,"dblclick",e[69])],be=!0)},p(G,se){se[0]&4&&i!==(i=G[58].t("base",G[2])+"")&&H(s,i),se[1]&2097152&&H(c,G[52]),se[1]&2097152&&re(d,G[52]),se[0]&4&&A!==(A=G[58].t("spread",G[2])+"")&&H(q,A),se[1]&4194304&&H(C,G[53]),se[1]&4194304&&re(v,G[53]),se[1]&8388608&&H(w,G[54]),se[1]&8388608&&re(N,G[54]),se[1]&16777216&&H(ue,G[55]),se[1]&16777216&&re(te,G[55])},d(G){G&&he(l),be=!1,Qe(ge)}}}function zf(e){let l,n,t,r;const i=[Bf,Df],s=[];function f(a,c){return a[56]?1:0}return n=f(e),t=s[n]=i[n](e),{c(){l=_("div"),t.c(),u(l,"slot","rotation"),u(l,"class","h-full")},m(a,c){de(a,l,c),s[n].m(l,null),r=!0},p(a,c){let h=n;n=f(a),n===h?s[n].p(a,c):(St(),ee(s[h],1,1,()=>{s[h]=null}),Et(),t=s[n],t?t.p(a,c):(t=s[n]=i[n](a),t.c()),x(t,1),t.m(l,null))},i(a){r||(x(t),r=!0)},o(a){ee(t),r=!1},d(a){a&&he(l),s[n].d()}}}function Hf(e){let l,n,t,r,i,s,f,a,c;Vl(e[61]);function h(g){e[152](g)}let d={$$slots:{rotation:[zf],translation:[qf],presets:[Ef],lfo:[wf],geometry:[df],drawPattern:[af],color:[tf]},$$scope:{ctx:e}};return e[57]!==void 0&&(d.small=e[57]),i=new nu({props:d}),Mt.push(()=>Xt(i,"small",h)),{c(){l=_("div"),n=_("div"),t=_("canvas"),r=m(),Re(i.$$.fragment),u(t,"id","magic_square_canvas"),u(t,"class","magic_square_canvas svelte-e1nddn"),u(t,"height",e[0]),u(t,"width",e[0]),u(n,"id","magic_square_canvas_container"),u(n,"class","magic_square_canvas_container flex flex-col justify-around display svelte-e1nddn"),u(l,"id","magic_square"),u(l,"class","magic_square svelte-e1nddn"),ie(l,"grid_col",e[57]),ie(l,"grid_row",!e[57])},m(g,p){de(g,l,p),o(l,n),o(n,t),o(l,r),Ne(i,l,null),f=!0,a||(c=P(Ni,"resize",e[61]),a=!0)},p(g,p){(!f||p[0]&1)&&u(t,"height",g[0]),(!f||p[0]&1)&&u(t,"width",g[0]);const b={};p[0]&2147483644|p[1]&67108863|p[5]&8192&&(b.$$scope={dirty:p,ctx:g}),!s&&p[1]&67108864&&(s=!0,b.small=g[57],Yt(()=>s=!1)),i.$set(b),(!f||p[1]&67108864)&&ie(l,"grid_col",g[57]),(!f||p[1]&67108864)&&ie(l,"grid_row",!g[57])},i(g){f||(x(i.$$.fragment,g),f=!0)},o(g){ee(i.$$.fragment,g),f=!1},d(g){g&&he(l),Ie(i),a=!1,c()}}}const Mf=1e3;function _i(e,l){return e.map((n,t)=>t<3&&l=="up"?je(n*255):t<3&&l=="down"?je(n/255):je(n))}function Ue(e){var l=document.getElementById(e);l.value=0,l.dispatchEvent(new Event("input",{bubbles:!0}))}function je(e){return Math.floor(e*100)/100}function Xf(e,l,n){let t;const r=new Bt("magicSquare/main");let i;Dt.subscribe($=>n(2,i=$));let s=window.innerWidth,{sideLength:f=0}=l,a,c,h,d;function g($){n(3,a=xo($.draw_pattern_type)),n(4,c=$.draw_pattern_count),n(5,h=$.draw_pattern_offset),n(6,d=$.draw_pattern_speed)}let p,b,B;function A($){n(9,B=$.colors.map(gt=>_i(gt,"up"))),n(7,p=Gs($.color_direction)),n(8,b=$.color_speed)}let q,E,y,C;function k($){n(10,q=je($.radius_base)),n(11,E=je($.radius_step)),n(12,y=$.shapes.map(gt=>ru(gt))),n(13,C=es($.transform_order))}let v,I,R,S,O,J,T,w,W,N,X,V,j,ce,oe,Q,ue,ne,te,be,ge,G,se,F;function K($){n(14,v=$.lfo_1_active),n(15,I=je($.lfo_1_amp)),n(16,R=an($.lfo_1_dest)),n(17,S=je($.lfo_1_freq)),n(18,O=je($.lfo_1_phase)),n(19,J=un($.lfo_1_shape)),n(20,T=$.lfo_2_active),n(21,w=je($.lfo_2_amp)),n(22,W=an($.lfo_2_dest)),n(23,N=je($.lfo_2_freq)),n(24,X=je($.lfo_2_phase)),n(25,V=un($.lfo_2_shape)),n(26,j=$.lfo_3_active),n(27,ce=je($.lfo_3_amp)),n(28,oe=an($.lfo_3_dest)),n(29,Q=je($.lfo_3_freq)),n(30,ue=je($.lfo_3_phase)),n(31,ne=un($.lfo_3_shape)),n(32,te=$.lfo_4_active),n(33,be=je($.lfo_4_amp)),n(34,ge=an($.lfo_4_dest)),n(35,G=je($.lfo_4_freq)),n(36,se=je($.lfo_4_phase)),n(37,F=un($.lfo_4_shape))}function fe($){var gt;switch($){case Se.one:n(14,v=!v),gt=v;break;case Se.two:n(20,T=!T),gt=T;break;case Se.three:n(26,j=!j),gt=j;break;case Se.four:n(32,te=!te),gt=te;break}const $t=Pe($);var rn=document.getElementById($t);rn&&(rn.value=gt,rn.dispatchEvent(new Event("input",{bubbles:!0})))}function Pe($){switch($){case Se.two:return M.lfo2Active;case Se.three:return M.lfo3Active;case Se.four:return M.lfo4Active;case Se.one:default:return M.lfo1Active}}let z;function Z($){n(38,z=$.preset)}let Ee,Oe,_e,U;function ke($){n(39,Ee=je($.translation_x_base)),n(40,Oe=je($.translation_x_spread)),n(41,_e=je($.translation_y_base)),n(42,U=je($.translation_y_spread))}let L;function pe($){n(43,L=$.mouse_tracking)}let $e,Je,ze,qe,De,Ge,ye,we,Y,ve,Ve,Ke;function Pt($){n(44,$e=je($.y_rot_base)),n(45,Je=je($.y_rot_spread)),n(46,ze=je($.x_axis_y_rot_coeff)),n(47,qe=je($.y_axis_y_rot_coeff)),n(48,De=je($.x_rot_base)),n(49,Ge=je($.x_rot_spread)),n(50,ye=je($.x_axis_x_rot_coeff)),n(51,we=je($.y_axis_x_rot_coeff)),n(52,Y=je($.z_rot_base)),n(53,ve=je($.z_rot_spread)),n(54,Ve=je($.x_axis_z_rot_coeff)),n(55,Ke=je($.y_axis_z_rot_coeff))}let vt,Ct=!1,He=!1;function Rt($){g($),A($),K($),k($),pe($),Z($),Pt($),ke($)}function Wt(){let $=JSON.parse(localStorage.getItem("magic_square_presets"));Rt($[z])}function Lt(){return{colors:(B||[]).map($=>_i($,"down")),color_direction:p,color_speed:b,draw_pattern_type:a,draw_pattern_count:c,draw_pattern_offset:h,draw_pattern_speed:d,radius_base:q,radius_step:E,shapes:y,transform_order:C,lfo_1_active:v,lfo_1_amp:I,lfo_1_dest:R,lfo_1_freq:S,lfo_1_phase:O,lfo_1_shape:J,lfo_2_active:T,lfo_2_amp:w,lfo_2_dest:W,lfo_2_freq:N,lfo_2_phase:X,lfo_2_shape:V,lfo_3_active:j,lfo_3_amp:ce,lfo_3_dest:oe,lfo_3_freq:Q,lfo_3_phase:ue,lfo_3_shape:ne,lfo_4_active:te,lfo_4_amp:be,lfo_4_dest:ge,lfo_4_freq:G,lfo_4_phase:se,lfo_4_shape:F,preset:z,x_rot_base:De,y_rot_base:$e,z_rot_base:Y,x_rot_spread:Ge,y_rot_spread:Je,z_rot_spread:ve,x_axis_x_rot_coeff:ye,x_axis_y_rot_coeff:ze,x_axis_z_rot_coeff:Ve,y_axis_x_rot_coeff:we,y_axis_y_rot_coeff:qe,y_axis_z_rot_coeff:Ke,translation_x_base:Ee,translation_x_spread:Oe,translation_y_base:_e,translation_y_spread:U,translation_z_base:Ee,translation_z_spread:Oe,mouse_tracking:L}}const tt=Ul.subscribe($=>vt=$);En(()=>{He=!0;const $=Lt();Object.values($).some($t=>typeof $t>"u")||(Ul.update($t=>$),window.localStorage.setItem("magic_square_settings",JSON.stringify($))),tt(),document.getElementById("app_main").dispatchEvent(new Event("destroymswasm",{bubbles:!0}))}),ho(()=>{const $=Lt();Object.values($).every(gt=>typeof gt<"u")&&window.localStorage.setItem("magic_square_settings",JSON.stringify($))});async function jt(){let $=localStorage.getItem("magic_square_settings");if($){const $t=JSON.parse($);Ul.update(rn=>(vt=$t,$t))}let gt=JSON.parse(localStorage.getItem("magic_square_presets"));if(!He){await wo(),ko("Magic Square Wasm!");const $t=await yo.run(vt,gt);Rt($t),n(56,Ct=!0)}}jt();function lt(){n(1,s=Ni.innerWidth)}function Nt(){Y=Me(this.value),n(52,Y)}const Ze=()=>Ue(M.yawBase);function At(){ve=Me(this.value),n(53,ve)}const nt=()=>Ue(M.yawSpread);function Kt(){Ve=Me(this.value),n(54,Ve)}const rt=()=>Ue(M.yawX);function le(){Ke=Me(this.value),n(55,Ke)}const Be=()=>Ue(M.yawY);function me(){De=Me(this.value),n(48,De)}const ct=()=>Ue(M.rollBase);function Zt(){Ge=Me(this.value),n(49,Ge)}const Ft=()=>Ue(M.rollSpread);function vl(){ye=Me(this.value),n(50,ye)}const Tl=()=>Ue(M.rollX);function Gl(){we=Me(this.value),n(51,we)}const Ut=()=>Ue(M.rollY);function gl(){$e=Me(this.value),n(44,$e)}const Ol=()=>Ue(M.pitchBase);function Jl(){Je=Me(this.value),n(45,Je)}const ml=()=>Ue(M.pitchSpread);function zt(){ze=Me(this.value),n(46,ze)}const Vt=()=>Ue(M.pitchX);function bl(){qe=Me(this.value),n(47,qe)}const ql=()=>Ue(M.pitchY);function $l(){L=this.value,n(43,L)}function Gt(){_e=Me(this.value),n(41,_e)}const wl=()=>Ue(M.translationYBase);function Dl(){U=Me(this.value),n(42,U)}const Wl=()=>Ue(M.translationYSpread);function Jt(){Ee=Me(this.value),n(39,Ee)}const kl=()=>Ue(M.translationXBase);function Bl(){Oe=Me(this.value),n(40,Oe)}const Kl=()=>Ue(M.translationXSpread);function Qt($){z=$,n(38,z)}function yl(){ge=this.value,n(34,ge)}function Rl(){F=this.value,n(37,F)}const Sl=()=>fe(Se.four);function Zl(){G=Me(this.value),n(35,G)}const it=()=>Ue(M.lfo4Freq);function st(){be=Me(this.value),n(33,be)}const Nl=()=>Ue(M.lfo4Amp);function xt(){se=Me(this.value),n(36,se)}const sl=()=>Ue(M.lfo4Phase);function Il(){oe=this.value,n(28,oe)}function El(){ne=this.value,n(31,ne)}const zl=()=>fe(Se.three);function Ql(){Q=Me(this.value),n(29,Q)}const It=()=>Ue(M.lfo3Freq);function el(){ce=Me(this.value),n(27,ce)}const xl=()=>Ue(M.lfo3Amp);function tl(){ue=Me(this.value),n(30,ue)}const en=()=>Ue(M.lfo3Phase);function Te(){W=this.value,n(22,W)}function Hl(){V=this.value,n(25,V)}const tn=()=>fe(Se.two);function ln(){N=Me(this.value),n(23,N)}const Ht=()=>Ue(M.lfo2Freq);function nn(){w=Me(this.value),n(21,w)}const ae=()=>Ue(M.lfo2Amp);function Ce(){X=Me(this.value),n(24,X)}const Ml=()=>Ue(M.lfo2Phase);function Ii(){R=this.value,n(16,R)}function zi(){J=this.value,n(19,J)}const Hi=()=>fe(Se.one);function Mi(){S=Me(this.value),n(17,S)}const Xi=()=>Ue(M.lfo1Freq);function Yi(){I=Me(this.value),n(15,I)}const Li=()=>Ue(M.lfo1Amp);function Fi(){O=Me(this.value),n(18,O)}const Ui=()=>Ue(M.lfo1Phase);function Vi(){q=Me(this.value),n(10,q)}const Gi=()=>Ue(M.radiusBase);function Ji(){E=Me(this.value),n(11,E)}const $i=()=>Ue(M.radiusStep);function Wi($){y=$,n(12,y)}function Ki(){a=this.value,n(3,a)}function Zi(){c=Me(this.value),n(4,c)}const Qi=()=>Ue(M.drawPatternCount);function xi(){d=Me(this.value),n(6,d)}const eo=()=>Ue(M.drawPatternSpeed);function to(){h=Me(this.value),n(5,h)}const lo=()=>Ue(M.drawPatternOffset);function no(){C=this.value,n(13,C)}function ro($){C=$,n(13,C)}function io(){p=this.value,n(7,p)}function oo(){B=this.value,n(9,B)}const so=()=>Ue(M.colorSpeed);function ao(){b=Me(this.value),n(8,b)}function uo($){p=$,n(7,p)}function fo($){B=$,n(9,B)}function co($){t=$,n(57,t),n(1,s)}return e.$$set=$=>{"sideLength"in $&&n(0,f=$.sideLength)},e.$$.update=()=>{e.$$.dirty[0]&2&&n(57,t=s<Mf)},[f,s,i,a,c,h,d,p,b,B,q,E,y,C,v,I,R,S,O,J,T,w,W,N,X,V,j,ce,oe,Q,ue,ne,te,be,ge,G,se,F,z,Ee,Oe,_e,U,L,$e,Je,ze,qe,De,Ge,ye,we,Y,ve,Ve,Ke,Ct,t,r,fe,Wt,lt,Nt,Ze,At,nt,Kt,rt,le,Be,me,ct,Zt,Ft,vl,Tl,Gl,Ut,gl,Ol,Jl,ml,zt,Vt,bl,ql,$l,Gt,wl,Dl,Wl,Jt,kl,Bl,Kl,Qt,yl,Rl,Sl,Zl,it,st,Nl,xt,sl,Il,El,zl,Ql,It,el,xl,tl,en,Te,Hl,tn,ln,Ht,nn,ae,Ce,Ml,Ii,zi,Hi,Mi,Xi,Yi,Li,Fi,Ui,Vi,Gi,Ji,$i,Wi,Ki,Zi,Qi,xi,eo,to,lo,no,ro,io,oo,so,ao,uo,fo,co]}class Yf extends ht{constructor(l){super(),pt(this,l,Xf,Hf,ft,{sideLength:0},null,[-1,-1,-1,-1,-1,-1])}}function Lf(e){let l,n,t=e[1].t("title",e[0])+"",r,i,s,f,a=e[1].t("body_1",e[0])+"",c,h,d,g,p=e[1].t("body_2",e[0])+"",b,B,A,q,E=e[1].t("body_3",e[0])+"",y,C,k,v,I,R=e[1].t("go_home",e[0])+"",S,O,J,T=e[1].t("accept_and_continue",e[0])+"",w,W,N;return{c(){l=_("div"),n=_("div"),r=D(t),i=m(),s=_("div"),f=_("p"),c=D(a),h=m(),d=_("div"),g=_("p"),b=D(p),B=m(),A=_("div"),q=_("p"),y=D(E),C=m(),k=_("div"),v=_("div"),I=_("button"),S=D(R),O=m(),J=_("button"),w=D(T),u(n,"class","title p-5 svelte-1n0kn9m"),u(f,"class","content svelte-1n0kn9m"),u(s,"class","grow w-full p-5 flex justify-around items-stretch"),u(g,"class","content svelte-1n0kn9m"),u(d,"class","grow w-full p-5 flex justify-around items-stretch"),u(q,"class","content svelte-1n0kn9m"),u(A,"class","grow w-full p-5 flex justify-around items-stretch"),u(I,"class","green svelte-1n0kn9m"),u(J,"class","red svelte-1n0kn9m"),u(v,"class","grow grid grid-cols-2 grid-rows-1"),u(k,"class","grow w-full p-5 flex justify-around items-stretch"),u(l,"class","warning_main h-full flex flex-col justify-between items-stretch svelte-1n0kn9m")},m(X,V){de(X,l,V),o(l,n),o(n,r),o(l,i),o(l,s),o(s,f),o(f,c),o(l,h),o(l,d),o(d,g),o(g,b),o(l,B),o(l,A),o(A,q),o(q,y),o(l,C),o(l,k),o(k,v),o(v,I),o(I,S),o(v,O),o(v,J),o(J,w),W||(N=[P(I,"click",e[3]),P(J,"click",e[2])],W=!0)},p(X,[V]){V&1&&t!==(t=X[1].t("title",X[0])+"")&&H(r,t),V&1&&a!==(a=X[1].t("body_1",X[0])+"")&&H(c,a),V&1&&p!==(p=X[1].t("body_2",X[0])+"")&&H(b,p),V&1&&E!==(E=X[1].t("body_3",X[0])+"")&&H(y,E),V&1&&R!==(R=X[1].t("go_home",X[0])+"")&&H(S,R),V&1&&T!==(T=X[1].t("accept_and_continue",X[0])+"")&&H(w,T)},i:dt,o:dt,d(X){X&&he(l),W=!1,Qe(N)}}}function Ff(e,l,n){const t=new Bt("magicSquare/warning");let r;Dt.subscribe(a=>n(0,r=a));let{hasAccepted:i=!1}=l;function s(){localStorage.setItem("magic_square_has_accepted_warning","true"),n(4,i=!0)}function f(){vo.update(a=>go.home),mo("/")}return e.$$set=a=>{"hasAccepted"in a&&n(4,i=a.hasAccepted)},[r,t,s,f,i]}class Uf extends ht{constructor(l){super(),pt(this,l,Ff,Lf,ft,{hasAccepted:4})}}function Vf(e){let l=e[0],n,t,r=hi(e);return{c(){r.c(),n=Cl()},m(i,s){r.m(i,s),de(i,n,s),t=!0},p(i,s){s&1&&ft(l,l=i[0])?(St(),ee(r,1,1,dt),Et(),r=hi(i),r.c(),x(r,1),r.m(n.parentNode,n)):r.p(i,s)},i(i){t||(x(r),t=!0)},o(i){ee(r),t=!1},d(i){i&&he(n),r.d(i)}}}function Gf(e){let l,n,t;function r(s){e[6](s)}let i={};return e[3]!==void 0&&(i.hasAccepted=e[3]),l=new Uf({props:i}),Mt.push(()=>Xt(l,"hasAccepted",r)),{c(){Re(l.$$.fragment)},m(s,f){Ne(l,s,f),t=!0},p(s,f){const a={};!n&&f&8&&(n=!0,a.hasAccepted=s[3],Yt(()=>n=!1)),l.$set(a)},i(s){t||(x(l.$$.fragment,s),t=!0)},o(s){ee(l.$$.fragment,s),t=!1},d(s){Ie(l,s)}}}function di(e){let l,n;return l=new Yf({props:{sideLength:e[1]}}),{c(){Re(l.$$.fragment)},m(t,r){Ne(l,t,r),n=!0},p(t,r){const i={};r&2&&(i.sideLength=t[1]),l.$set(i)},i(t){n||(x(l.$$.fragment,t),n=!0)},o(t){ee(l.$$.fragment,t),n=!1},d(t){Ie(l,t)}}}function hi(e){let l,n,t=e[2]&&di(e);return{c(){t&&t.c(),l=Cl()},m(r,i){t&&t.m(r,i),de(r,l,i),n=!0},p(r,i){r[2]?t?(t.p(r,i),i&4&&x(t,1)):(t=di(r),t.c(),x(t,1),t.m(l.parentNode,l)):t&&(St(),ee(t,1,1,()=>{t=null}),Et())},i(r){n||(x(t),n=!0)},o(r){ee(t),n=!1},d(r){t&&t.d(r),r&&he(l)}}}function Jf(e){let l,n,t,r,i,s;const f=[Gf,Vf],a=[];function c(h,d){return h[3]?1:0}return n=c(e),t=a[n]=f[n](e),{c(){l=_("div"),t.c(),u(l,"id","magic_square_container"),u(l,"class","magic_square_container svelte-lqwf7i")},m(h,d){de(h,l,d),a[n].m(l,null),r=!0,i||(s=bo(Ko.call(null,l,e[4])),i=!0)},p(h,[d]){let g=n;n=c(h),n===g?a[n].p(h,d):(St(),ee(a[g],1,1,()=>{a[g]=null}),Et(),t=a[n],t?t.p(h,d):(t=a[n]=f[n](h),t.c()),x(t,1),t.m(l,null))},i(h){r||(x(t),r=!0)},o(h){ee(t),r=!1},d(h){h&&he(l),a[n].d(),i=!1,s()}}}function $f(e,l,n){let t;const r=Ul.subscribe(g=>n(5,t=g));let i=0,s=0;async function f(){h(),n(5,t);let g=document.getElementById("magic_square_container");n(1,s=Math.floor(Math.min(g.offsetWidth,g.offsetHeight)/1.3)-25)}En(()=>{window.removeEventListener("resize",f)});let a=!1,c=!1;gn(()=>{n(3,c=!!localStorage.getItem("magic_square_has_accepted_warning"));let g=localStorage.getItem("magic_square_settings");if(g){const p=JSON.parse(g);Ul.update(b=>p),h()}window.addEventListener("resize",f),n(2,a=!0)}),En(r);function h(){n(0,i+=1)}function d(g){c=g,n(3,c)}return e.$$.update=()=>{e.$$.dirty&32,e.$$.dirty&1},[i,s,a,c,f,t,d]}class Zf extends ht{constructor(l){super(),pt(this,l,$f,Jf,ft,{})}}export{Zf as default};
